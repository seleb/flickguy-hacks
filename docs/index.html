<!DOCTYPE html>
<html lang="en" data-remix-generation="0" data-editor-live="https://kool.tools/flickguy" data-app-mode="editor">
  <head>
    <title>flickguy</title>
    <meta charset="utf-8">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABiCAMAAACce/Y8AAAAAXNSR0IArs4c6QAAABJQTFRFQwBnv/88czkuAHiZaK7UAAAA1n/BGgAAAAZ0Uk5T//////8As7+kvwAAArVJREFUaIHt2dty4yAMAFCE4f9/ubG5CRBCAtzJzlYPbYKxThDgZGzjXw/zR7xOmBz7hCGTGUO3LxCmDbJ9h+iEQawT89wAE2M2VZKIyBohrRI7Dn4tTD+/BGGXwrxC0CBKgvqwTcpWIA1mIfR5IMawUKQxXgedAChC+nCofAId0QlARj+KPuGMiFloIBuwQEgFiTFYynUwAmGICI1ATIiAaE+ZEZM9LiCmwmSLU+tYT7DGnJAIv0FwBrFTVoTGeIeAZaKksFcKpdHvxQFRBAoJzUsELXRGaiYNDWFDQGdgXEtUWT7ZjXkMqI3rOZiozuh2exVXKzwG1MYVBxhf6oiSaELECsJzSmuwRKl6TJOEuwELoYC3oSYgLZ8y2TYlTjMVi1OG0S6q9pLVznYwumV6NzxVycso6mEYl5SoViS9ETJhERFROZHyMcJVSmjK7tAQMCIATxc+xMxFNxX4ROJd6NNuEna6hwQqVlW2hkCAnmjKn1qrYaTirRJACYVAR1giHaMElAk1xV7pwAVCghxEYcokZKJaD7sEVHmA6iQgvISY6jRhzhDwDYTfJfwmYfEra6kuDJGnaUzEy2n4Yz//KURAMELIbsMLG960SE6wQtis2HGdzA5hcalKwRSEmRHFGWS/w3eCmpiEVxH+Owny5i1D6A36lq4ZCQuEVxNqoVwYOMKvE8Pbz2NCK7xMoOvzS0Q3j6cJ+obuQYJcjR3hXO4GOuLJRAHVl+mno3OpnqAhunHLCNRJJvyfRLXAtwj/jxDtz9MvIBxxmTlaKDhAMA8r14l6dwuJ9lHUC8TSKOhLFUfg52si49cI7qb5DgElN3vPfIegv2heIwCfe5gA3PklAlDfEfG5RrkdAsdhwhEE9M9yTRAWCaqVINwqQQ8izH5FuFXiOY024CRBGnecIJyY+AEUFkoDByFbQQAAAABJRU5ErkJggg==">
    <meta name="viewport" content="width=device-width, initial-scale=0.5">
    <meta name="twitter:card" value="summary">
    <meta name="twitter:title" value="flickguy: make a guy" id="twitter-title">
    <meta name="twitter:image" value="https://kool.tools/flickguy/twitter-card.png">
    <meta name="twitter:image:alt" value="mosaic of many colorful avatars">
    <!-- scripts-->
    <script>async function start() {
    // init player and editor
    const player = await makePlayer();
    const editor = await makeEditor();

    // setup play/edit buttons to switch between modes
    const play = ui.action("play", playFromEditor);
    const edit = ui.action("edit", editFromPlayer);

    const playerContainer = ONE("#player");
    const editorContainer = ONE("#editor");

    function showPlayer() {
        playerContainer.hidden = false;
        editorContainer.hidden = true;
        player.enter();
    }

    function showEditor() {
        playerContainer.hidden = true;
        editorContainer.hidden = false;
        editor.enter();
    }

    async function playFromEditor() {
        await player.copyFrom(editor.stateManager);
        showPlayer();
    }

    async function editFromPlayer() {
        await editor.stateManager.copyFrom(player.stateManager);
        showEditor();
    }

    // determine if there is a project bundle embedded in this page
    const bundle = maker.bundleFromHTML(document);

    if (bundle) {
        // embedded project, load it in the player
        editor.helpContainer.hidden = false;
        await player.loadBundle(bundle);
        showPlayer();
    } else {
        // no embedded project, start editor blank
        await editor.resetProject();
        showEditor();
    }
}

    </script>
    <script>"strict"
const maker = {};
const ui = {};
const storage = {};

/**
 * @template TProject
 * @typedef {(project: TProject) => string[]} maker.ManifestFunction
 */

/**
 * @typedef {Object} ResourceData
 * @property {string} type
 * @property {any} data
 */

/**
 * @typedef {Object.<string, ResourceData>} maker.ResourceBundle
 */

/**
 * @template TProject
 * @typedef {Object} maker.ProjectBundle
 * @property {TProject} project
 * @property {maker.ResourceBundle} resources
 */

/**
 * @template TData
 * @template TInstance
 * @typedef {Object} maker.ResourceHandler
 * @property {(data: TData) => Promise<TInstance>} load
 * @property {(instance: TInstance) => Promise<TInstance>} copy
 * @property {(instance: TInstance) => Promise<TData>} save
 */

/** @type {Map<string, maker.ResourceHandler<any, any>>} */
maker.resourceHandlers = new Map();

maker.ResourceManager = class {
    constructor() {
        this.lastId = 0;
        /** @type {Map<string, { type: string, instance: any }>} */
        this.resources = new Map();
    }

    /**
     * Generate a new unique id for a resource.
     * @returns {string}
     */
    generateId() {
        this.lastId += 1;
        // just next lowest unused number
        while (this.resources.has(this.lastId.toString())) {
            this.lastId += 1;
        }

        return this.lastId.toString();
    }
    
    /**
     * Clear all resources.
     */
    clear() {
        this.resources.clear();
    }

    /**
     * Get the resource instance with the given id.
     * @param {string} id 
     * @returns {any}
     */
    get(id) {
        return this.resources.get(id)?.instance;
    }

    /**
     * Add a resource instance at a specific id.
     * @param {string} id 
     * @param {any} instance 
     * @param {string} type 
     */
    set(id, instance, type) {
        this.resources.set(id, { type, instance });
    }

    /**
     * Add an instance as a new resource and return its new id.
     * @param {any} instance 
     * @param {string} type 
     * @returns {string}
     */
    add(instance, type) {
        const id = this.generateId();
        this.set(id, instance, type);
        return id;
    }

    /**
     * Copy the existing resource with the given id and add it as a new resource.
     * @param {string} id 
     * @returns 
     */
    async fork(id) {
        const source = this.resources.get(id);
        const forkId = this.generateId();
        const instance = await maker.resourceHandlers.get(source.type).copy(source.instance); 
        this.set(forkId, instance, source.type);
        return { id: forkId, instance };
    }

    /**
     * Discard all resources except those at the ids given.
     * @param {Iterable<string>} keepIds 
     */
    prune(keepIds) {
        const ids = new Set(keepIds);

        this.resources.forEach((_, id) => {
            if (!ids.has(id)) this.resources.delete(id);
        });
    }

    /**
     * Copy all resources from another resource manager.
     * @param {maker.ResourceManager} other 
     */
    async copyFrom(other) {
        const tasks = [];
        Array.from(other.resources).forEach(([id, { type, instance }]) => {
            const task = maker.resourceHandlers.get(type)
                         .copy(instance)
                         .then((copy) => this.set(id, copy, type));
            tasks.push(task);
        });

        return Promise.all(tasks);
    }

    /**
     * Save all resources in an object mapping id to type and save data.
     * @param {Iterable<string>} ids 
     * @returns {Promise<maker.ResourceBundle>}
     */
    async save(ids) {
        /** @type {maker.ResourceBundle} */
        const bundle = {};

        const resourceIds = new Set(ids);
        const relevant = Array.from(this.resources)
                         .filter(([id]) => resourceIds.has(id));

        const tasks = [];
        Array.from(relevant).forEach(([id, { type, instance }]) => {
            const task = maker.resourceHandlers.get(type)
                         .save(instance)
                         .then((data) => bundle[id] = { type, data });
            tasks.push(task);
        });

        await Promise.all(tasks);
        return bundle;
    }

    /**
     * Load all resources from the given bundle.
     * @param {maker.ResourceBundle} bundle 
     */
    async load(bundle) {
        const tasks = [];
        Object.entries(bundle).forEach(([id, { type, data }]) => {
            const task = maker.resourceHandlers.get(type)
                         .load(data)
                         .then((instance) => this.set(id, instance, type));
            tasks.push(task);
        });
        return Promise.all(tasks);
    }
}

/**
 * 
 * @template TState
 */
maker.StateManager = class extends EventTarget {
    /**
     * Create a state manager, optionally providing a function that describes
     * how to determine resource dependencies of a given state. 
     * @param {maker.ManifestFunction<TState>} getManifest 
     */
    constructor(getManifest = undefined) {
        super();

        this.getManifest = getManifest || (() => []);
        this.resources = new maker.ResourceManager();

        /** @type {TState[]} */
        this.history = [];
        this.index = -1;
        this.historyLimit = 20;
    }

    /**
     * The present state in history.
     */
    get present() {
        return this.history[this.index];
    }

    /**
     * Is there any edit history to undo to?
     */
    get canUndo() {
        return this.index > 0;
    }

    /**
     * Are there any undone edits to redo?
     */
    get canRedo() {
        return this.index < this.history.length - 1;
    }

    /**
     * Replace all state with the project and resources in the given project
     * bundle.
     * @param {maker.ProjectBundle<TState>} bundle
     */
    async loadBundle(bundle) {
        this.history.length = 0;
        this.history.push(bundle.project);
        this.index = 0;
        this.resources.clear();
        await this.resources.load(bundle.resources);

        this.changed();
    }

    /**
     * Replace all state by copying from another state manager.
     * @param {maker.StateManager<TState>} other 
     */
    async copyFrom(other) {
        this.history = COPY(other.history);
        this.index = other.index;
        this.resources.clear();
        await this.resources.copyFrom(other.resources);
        
        this.changed();
    }
    
    /**
     * Copy the present state and dependent resources into a project bundle.
     * @returns {Promise<maker.ProjectBundle<TState>>}
     */
    async makeBundle() {
        const project = COPY(this.present);
        const resources = await this.resources.save(this.getManifest(this.present));

        return { project, resources };
    }

    /**
     * Save the current state as a checkpoint in history that can be returned to
     * with undo/redo.
     */
    makeCheckpoint() {
        this.history.length = this.index + 1;
        
        const currentData = this.present;

        this.history[this.index] = COPY(currentData);
        this.history.push(currentData);
        
        if (this.index < this.historyLimit) {
            this.index += 1;
        } else {
            // delete earliest history
            this.history.splice(0, 1);
            this.pruneResources();
        }
    }

    /**
     * Dispatch the change event signalling that the present state has been
     * updated.
     */
    changed() {
        this.dispatchEvent(new CustomEvent("change"));
    }

    /**
     * Discard all resources that are no longer required accord to the manifest
     * function.
     */
    pruneResources() {
        this.resources.prune(this.history.flatMap(this.getManifest));
    }

    /**
     * Make a history checkpoint, replace the current state with a forked
     * version via callback, and then dispatch the change event.
     * @param {(data: TState) => Promise} action 
     */
    async makeChange(action) {
        this.makeCheckpoint();
        await action(this.present);
        this.changed();
    }

    /**
     * Revert the state to the previous checkpoint in history.
     */
    undo() {
        if (!this.canUndo) return;
        this.index -= 1;
        this.changed();
    }

    /**
     * Return the state to the most recently undone checkpoint in history.
     */
    redo() {
        if (!this.canRedo) return;
        this.index += 1;
        this.changed();
    }
};

/**
 * Ask the browser to download the given blob as a file with the given name.
 * @param {Blob} blob 
 * @param {string} name
 */
maker.saveAs = function(blob, name) {
    const element = document.createElement("a");
    const url = window.URL.createObjectURL(blob);
    element.href = url;
    element.download = name;
    element.click();
    window.URL.revokeObjectURL(url);
};

/**
 * Open the browser file picker, optionally restricted to files of a given file
 * type pattern and optionally accepting multiple files. 
 * @param {string} accept 
 * @param {boolean} multiple 
 * @returns {Promise<File[]>}
 */
 maker.pickFiles = async function(accept = "*", multiple = false) {
    return new Promise((resolve) => {
        const fileInput = html("input", { type: "file", accept, multiple });
        fileInput.addEventListener("change", () => resolve(Array.from(fileInput.files)));
        fileInput.click();
    });
}

/**
 * Read plain text from a file.
 * @param {File} file 
 * @return {Promise<string>}
 */
maker.textFromFile = async function(file) {
    return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onerror = reject;
        reader.onload = () => resolve(/** @type {string} */ (reader.result));
        reader.readAsText(file); 
    });
}

/**
 * Read image from a file.
 * @param {File} file 
 * @return {Promise<string>}
 */
maker.dataURIFromFile = async function(file) {
    return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onerror = reject;
        reader.onload = () => resolve(/** @type {string} */ (reader.result));
        reader.readAsDataURL(file); 
    });
}

/**
 * Create a DOM for an html page from html source code
 * @param {string} source
 * @returns 
 */
maker.htmlFromText = function(source) {
    const template = document.createElement('template');
    template.innerHTML = source;
    return template.content;
}

/**
 * @param {string} text 
 */
maker.textToBlob = function(text, type = "text/plain") {
    return new Blob([text], { type });
}

/**
 * 
 * @param {ParentNode} html 
 */
maker.bundleFromHTML = function(html, query="#bundle-embed") {
    const json = ONE(query, html)?.textContent;
    const bundle = json ? JSON.parse(json) : undefined;
    return bundle;
}

class RadioGroupWrapper extends EventTarget {
    /** @param {HTMLInputElement[]} inputs */
    constructor(inputs) {
        super();
        this.inputs = inputs;

        inputs.forEach((input) => {
            input.addEventListener("change", () => {
                if (!input.checked) return;
                this.dispatchEvent(new CustomEvent("change"));
            });
        });
    }

    get selectedIndex() {
        return this.inputs.findIndex((button) => button.checked); 
    }

    set selectedIndex(value) {
        this.inputs[value].click();
    }

    get selectedInput() {
        return this.inputs[this.selectedIndex];
    }

    get value() {
        return this.selectedInput?.value;
    }

    setSelectedIndexSilent(value) {
        this.inputs.forEach((input, index) => input.checked = index === value);
    }
}

class CheckboxWrapper extends EventTarget {
    /** @param {HTMLInputElement[]} inputs */
    constructor(inputs) {
        super();
        this.inputs = inputs;

        inputs.forEach((input) => {
            input.addEventListener("change", () => {
                this.dispatchEvent(new CustomEvent("change"));
                this.setCheckedSilent(input.checked);
            });
        });
    }

    get checked() {
        return this.inputs[0].checked; 
    }

    set checked(value) {
        if (this.checked !== value) this.inputs[0].click();
    }

    setCheckedSilent(value) {
        this.inputs.forEach((input) => input.checked = value);
    }
}

class ButtonAction extends EventTarget {
    /** @param {HTMLButtonElement[]} buttons */
    constructor(buttons) {
        super();
        this.buttons = buttons;
        this.disabled = false;

        buttons.forEach((button) => {
            button.addEventListener("click", () => this.invoke());
        });
    }

    get disabled() {
        return this._disabled;
    }

    set disabled(value) {
        this._disabled = value;
        this.buttons.forEach((button) => button.disabled = value);
    }

    invoke(force = false) {
        if (!force && this.disabled) return;
        this.dispatchEvent(new CustomEvent("invoke"));
    }
}

/**
 * Get a wrapper for the radio input elements sharing the given name.
 * @param {string} name
 * @returns {RadioGroupWrapper}
 */
ui.radio = (name) => new RadioGroupWrapper(ALL(`input[type="radio"][name="${name}"]`));

ui.toggle = (name) => new CheckboxWrapper(ALL(`input[type="checkbox"][name="${name}"]`));

/**
 * Get an action linked to all button elements sharing the given name. 
 * Optionally provide a default listener for the action.
 * @param {string} name
 * @param {() => void} listener
 * @returns {ButtonAction}
 */
ui.action = function (name, listener=undefined) {
    const action = new ButtonAction(ALL(`button[name="${name}"]`));
    if (listener) action.addEventListener("invoke", listener);
    return action;
}

/**
 * Get the html select element with the given name.
 * @param {string} name
 * @returns {HTMLSelectElement}
 */
ui.select = (name) => ONE(`select[name="${name}"]`);

/**
 * Get a child element matching CSS selector.
 * @param {string} query 
 * @param {ParentNode} element 
 * @returns {HTMLElement}
 */
const ONE = (query, element = undefined) => (element || document).querySelector(query);

/**
 * Get all children elements matching CSS selector.
 * @param {string} query 
 * @param {HTMLElement | Document} element 
 * @returns {HTMLElement[]}
 */
const ALL = (query, element = undefined) => Array.from((element || document).querySelectorAll(query));

ui.PointerDrag = class extends EventTarget {
    /** 
     * @param {MouseEvent} event
     */
    constructor(event, { clickMovementLimit = 5 } = {}) {
        super();
        this.pointerId = event["pointerId"];
        this.clickMovementLimit = 5;
        this.totalMovement = 0;

        this.downEvent = event;
        this.lastEvent = event; 

        this.listeners = {
            "pointerup": (event) => {
                if (event.pointerId !== this.pointerId) return;

                this.lastEvent = event;
                this.unlisten();
                this.dispatchEvent(new CustomEvent("up", { detail: event }));
                if (this.totalMovement <= clickMovementLimit) {
                    this.dispatchEvent(new CustomEvent("click", { detail: event }));
                }
            },

            "pointermove": (event) => {
                if (event.pointerId !== this.pointerId) return;

                this.totalMovement += Math.abs(event.movementX);
                this.totalMovement += Math.abs(event.movementY);
                this.lastEvent = event;
                this.dispatchEvent(new CustomEvent("move", { detail: event }));
            }
        }

        document.addEventListener("pointerup", this.listeners.pointerup);
        document.addEventListener("pointermove", this.listeners.pointermove);
    }

    unlisten() {
        document.removeEventListener("pointerup", this.listeners.pointerup);
        document.removeEventListener("pointermove", this.listeners.pointermove);
    }
}

/**
 * Wrap a pointer down event and track its subsequent movement until release.
 * @param {PointerEvent} event 
 * @returns {ui.PointerDrag}
 */
ui.drag = (event) => new ui.PointerDrag(event);

/**
 * @param {HTMLCanvasElement} canvas 
 * @param {MouseEvent} event 
 */
 function mouseEventToCanvasPixelCoords(canvas, event) {
    const bounds = canvas.getBoundingClientRect();
    const [mx, my] = [event.clientX - bounds.x, event.clientY - bounds.y];
    const scale = canvas.width / canvas.clientWidth; 
    const [px, py] = [Math.floor(mx * scale), Math.floor(my * scale)];
    return { x: px, y: py };
}

/**
 * Deep copy an object by serializing it to json and parsing it again.
 * @template T
 * @param {T} object
 * @returns {T}
 */
const COPY = (object) => JSON.parse(JSON.stringify(object));

/**
 * Create an array of zeroes to the given length.
 * @param {number} length 
 * @returns {number[]}
 */
const ZEROES = (length) => Array(length).fill(0);

/**
 * Create an array of a value repeated to the given length.
 * @template T
 * @param {number} length 
 * @param {T} value
 * @returns {T[]}
 */
 const REPEAT = (length, value) => Array(length).fill(value);

/**
 * Create an html element with the given attributes and children.
 * @template {keyof HTMLElementTagNameMap} K
 * @param {K} tagName 
 * @param {*} attributes 
 * @param  {...(Node | string)} children 
 * @returns {HTMLElementTagNameMap[K]}
 */
 function html(tagName, attributes = {}, ...children) {
    const element = /** @type {HTMLElementTagNameMap[K]} */ (document.createElement(tagName)); 
    Object.entries(attributes).forEach(([name, value]) => element.setAttribute(name, value));
    children.forEach((child) => element.append(child));
    return element;
}

/** @param {number} milliseconds */
function sleep(milliseconds) {
    return new Promise(resolve => setTimeout(resolve, milliseconds));
}

/** 
 * @template T
 * @param {IDBRequest<T>} request 
 * @returns {Promise<T>}
 */
 function promisfyRequest(request) {
    return new Promise((resolve, reject) => {
        request.onsuccess = () => resolve(request.result);
        request.onerror = () => reject(request.error);
    });
}

/** 
 * @param {IDBTransaction} transaction 
 * @returns {Promise}
 */
 function promisfyTransaction(transaction) {
    return new Promise((resolve, reject) => {
        transaction.oncomplete = () => resolve();
        transaction.onabort = () => reject(transaction.error);
        transaction.onerror = () => reject(transaction.error);
    });
}

maker.ProjectStorage = class {
    constructor(appID, generateMeta=undefined) {
        this.appID = appID;
        this.generateMeta = generateMeta;
        this.error = undefined;

        this.openDatabase().then(
            (request) => request.close(),
            (reason) => this.error = reason,
        );
    }

    get available() {
        return this.error === undefined;
    }

    async openDatabase() {
        const request = indexedDB.open(this.appID);
        request.addEventListener("upgradeneeded", () => {
            request.result.createObjectStore("projects");
            request.result.createObjectStore("projects-meta");
        });
        return promisfyRequest(request);
    }

    async stores(mode) {
        const db = await this.openDatabase();
        const transaction = db.transaction(["projects", "projects-meta"], mode);
        const projects = transaction.objectStore("projects");
        const meta = transaction.objectStore("projects-meta");
        return { transaction, projects, meta };
    }

    /**
     * @returns {Promise<any[]>}
     */
    async list() {
        const stores = await this.stores("readonly");
        return promisfyRequest(stores.meta.getAll());
    }

    /**
     * @param {any} projectData 
     * @returns {Promise}
     */
    async save(projectData, key) {
        const meta = { date: (new Date()).toISOString() };
        if (this.generateMeta) Object.assign(meta, this.generateMeta(projectData)); 
    
        const stores = await this.stores("readwrite");
        stores.projects.put(projectData, key);
        stores.meta.put(meta, key);
        return promisfyTransaction(stores.transaction);
    }

    /**
     * @param {string} key
     * @returns {Promise<any>}
     */
    async load(key) {
        const stores = await this.stores("readonly");
        return promisfyRequest(stores.projects.get(key));
    }

    /**
     * @param {string} key
     */
    async delete(key) {
        const stores = await this.stores("readwrite");
        stores.projects.delete(key);
        stores.meta.delete(key);
        return promisfyTransaction(stores.transaction);
    }
}

    </script>
    <script>/**
 * @param {number} width
 * @param {number} height
 * @returns {CanvasRenderingContext2D}
 */
function createRendering2D(width, height) {
    const canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = height;
    const context = canvas.getContext('2d');
    context.imageSmoothingEnabled = false;
    return context;
}

/**
 * @param {CanvasRenderingContext2D} rendering 
 * @param {string | CanvasGradient | CanvasPattern | undefined} fillStyle
 */
function fillRendering2D(rendering, fillStyle = undefined) {
    if (fillStyle !== undefined) {
        const prevStyle = rendering.fillStyle;
        rendering.fillStyle = fillStyle;
        rendering.fillRect(0, 0, rendering.canvas.width, rendering.canvas.height);
        rendering.fillStyle = prevStyle;
    } else {
        rendering.clearRect(0, 0, rendering.canvas.width, rendering.canvas.height);
    }
}

/**
 * @param {CanvasRenderingContext2D} rendering
 * @param {CanvasRenderingContext2D} destination
 */
function copyRendering2D(rendering, destination = undefined) {
    destination = destination || createRendering2D(rendering.canvas.width, rendering.canvas.height);
    destination.canvas.width = rendering.canvas.width;
    destination.canvas.height = rendering.canvas.height;
    destination.drawImage(rendering.canvas, 0, 0);
    return destination;
}

/**

 * @param {CanvasRenderingContext2D} rendering 
 * @param {number} width 
 * @param {number} height 
 */
function resizeRendering2D(rendering, width, height) {
    const copy = copyRendering2D(rendering);
    rendering.canvas.width = width;
    rendering.canvas.height = height;
    rendering.drawImage(copy.canvas, 0, 0);
}

/**
 * @callback pixelsAction
 * @param {Uint32Array} pixels
 */

/**
 * @param {CanvasRenderingContext2D} rendering 
 * @param {pixelsAction} action 
 */
function withPixels(rendering, action) {
    const imageData = rendering.getImageData(0, 0, rendering.canvas.width, rendering.canvas.height);
    action(new Uint32Array(imageData.data.buffer));
    rendering.putImageData(imageData, 0, 0);
}

/**
 * @param {CanvasRenderingContext2D} mask 
 * @param {string} style 
 */
function recolorMask(mask, style) {
    const recolored = copyRendering2D(mask);
    recolored.globalCompositeOperation = "source-in";
    fillRendering2D(recolored, style);
    return recolored;
}

/**
 * @param {number} x0 
 * @param {number} y0 
 * @param {number} x1 
 * @param {number} y1 
 * @param {(x: number, y: number) => void} plot 
 */
// adapted from https://stackoverflow.com/a/34267311
function lineplot(x0, y0, x1, y1, plot) {
    x0 |= 0; y0 |= 0; x1 |= 0; y1 |= 0;

    const steep = Math.abs(y1 - y0) > Math.abs(x1 - x0);
    if (steep) [x0, y0, x1, y1] = [y0, x0, y1, x1];

    const dx = Math.abs(x1 - x0);
    const dy = Math.abs(y1 - y0);
    const ystep = Math.sign(y1 - y0);
    const xstep = Math.sign(x1 - x0);

    let err = Math.floor(dx / 2);
    let y = y0;

    if (dx === 0 && dy === 0) {
        plot(x0, y0);
    }

    for (let x = x0; x != (x1 + xstep); x += xstep) {
        plot(steep ? y : x, steep ? x : y);
        err -= dy;
        if (err < 0) {
            y += ystep;
            err += dx;
        }
    }
}

/**
 * @param {CanvasRenderingContext2D} rendering 
 * @param {number} x 
 * @param {number} y 
 * @param {number} color
 */
function floodfill(rendering, x, y, color, tolerance = 5) {
    const [width, height] = [rendering.canvas.width, rendering.canvas.height];
    withPixels(rendering, pixels => {
        const queue = [[x, y]];
        const done = new Array(width * height);
        const initial = pixels[y * width + x];

        const ir = initial >>>  0 & 0xFF;
        const ig = initial >>>  8 & 0xFF;
        const ib = initial >>> 16 & 0xFF;

        function enqueue(x, y) {
            const within = x >= 0 && y >= 0 && x < width && y < height;

            if (within && !done[y * width + x]) {
                const pixel = pixels[y * width + x];

                const pr = pixel >>>  0 & 0xFF;
                const pg = pixel >>>  8 & 0xFF;
                const pb = pixel >>> 16 & 0xFF;
                const dist = Math.abs(pr - ir) + Math.abs(pg - ig) + Math.abs(pb - ib);
                
                if (dist <= tolerance) queue.push([x, y]);
            }
        }

        while (queue.length > 0) {
            const [x, y] = queue.pop();
            pixels[y * width + x] = color;
            done[y * width + x] = true;

            enqueue(x - 1, y);
            enqueue(x + 1, y);
            enqueue(x, y - 1);
            enqueue(x, y + 1);
        }
    });
};

/**
 * @param {CanvasRenderingContext2D} rendering 
 * @param {number} x 
 * @param {number} y 
 * @param {number} color
 * @returns {CanvasRenderingContext2D}
 */
 function floodfillOutput(rendering, x, y, color) {
    const [width, height] = [rendering.canvas.width, rendering.canvas.height];
    const output = createRendering2D(width, height);
    withPixels(rendering, srcPixels =>
    withPixels(output, dstPixels => {
        const queue = [[x, y]];
        const done = new Array(width * height);
        const initial = srcPixels[y * width + x];

        function enqueue(x, y) {
            const within = x >= 0 && y >= 0 && x < width && y < height;

            if (within && srcPixels[y * width + x] === initial && !done[y * width + x]) {
                queue.push([x, y]);
            }
        }

        while (queue.length > 0) {
            const [x, y] = queue.pop();
            dstPixels[y * width + x] = color;
            done[y * width + x] = true;

            enqueue(x - 1, y);
            enqueue(x + 1, y);
            enqueue(x, y - 1);
            enqueue(x, y + 1);
        }
    }));
    return output;
};

/**
 * @param {{r:number,g:number,b:number}} rgb 
 */
function rgbToHex(rgb) {
    const packed = (0xFF000000 + (rgb.r << 16) + (rgb.g << 8) + (rgb.b << 0));
    return "#" + packed.toString(16).substr(-6);
}

/**
 * @param {string} hex 
 * @param {number} alpha
 */
function hexToUint32(hex, alpha = undefined) {
    if (hex.charAt(0) === '#') hex = hex.substring(1);
    if (alpha === undefined && hex.length === 8) alpha = parseInt(hex.substr(6, 2), 16);
    if (alpha === undefined) alpha = 255;
    hex = hex.substr(4, 2) + hex.substr(2, 2) + hex.substr(0, 2);
    return (parseInt(hex, 16) | (alpha << 24)) >>> 0;
}

/**
 * @param {number} number
 * @param {string} prefix 
 */
function numberToHex(number, prefix = '#') {
    number = (number | 0xff000000) >>> 0;
    let hex = number.toString(16).substring(2, 8);
    hex = hex.substr(4, 2) + hex.substr(2, 2) + hex.substr(0, 2);
    return prefix + hex;
}

const MASK_PALETTE = {
    '_': hexToUint32('#000000', 0),
    default: hexToUint32('#FFFFFF', 255),
};

/**
 * @param {string} text 
 * @param {Record<string, number>} palette 
 * @returns {CanvasRenderingContext2D}
 */
function textToRendering2D(text, palette = MASK_PALETTE) {
    text = text.trim();
    const lines = text.split('\n').map((line) => [...line.trim()]);

    const width = lines[0].length;
    const height = lines.length;

    const rendering = createRendering2D(width, height);
    withPixels(rendering, (pixels) => {
        lines.forEach((line, y) => line.forEach((char, x) => {
            const color = palette[char];
            pixels[y * width + x] = color !== undefined ? color : palette.default;
        }));
    });

    return rendering;
}

/**
 * @param {{ h: number, s: number, v: number }} hsv
 */
function HSVToRGB(hsv) {
    const { h, s, v } = hsv;
    let r, g, b;
    const i = Math.floor(h * 6);
    const f = h * 6 - i;
    const p = (1 - s);
    const q = (1 - f * s);
    const t = (1 - (1 - f) * s);
    switch (i % 6) {
        case 0: r = 1, g = t, b = p; break;
        case 1: r = q, g = 1, b = p; break;
        case 2: r = p, g = 1, b = t; break;
        case 3: r = p, g = q, b = 1; break;
        case 4: r = t, g = p, b = 1; break;
        case 5: r = 1, g = p, b = q; break;
    }

    r *= v * 255;
    g *= v * 255;
    b *= v * 255;

    return { r, g, b };
}

/**
 * @param {{ r: number, g: number, b: number }} rgb
 */
function RGBToHSV(rgb) {
    const { r, g, b } = rgb;
    var max = Math.max(r, g, b), min = Math.min(r, g, b),
        d = max - min,
        h,
        s = (max === 0 ? 0 : d / max),
        v = max / 255;

    switch (max) {
        case min: h = 0; break;
        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;
        case g: h = (b - r) + d * 2; h /= 6 * d; break;
        case b: h = (r - g) + d * 4; h /= 6 * d; break;
    }

    return { h, s, v };
}

function HSVToCone(hsv) {
    const a = Math.PI * hsv.h;
    const r = hsv.s * .5 * hsv.v;
    const x = Math.cos(a) * r;
    const y = Math.sin(a) * r;
    return { x, y, z: hsv.v };
}


function uint32ToRGB(uint32) {
    return {
        r: uint32 >>>  0 & 0xFF,
        g: uint32 >>>  8 & 0xFF,
        b: uint32 >>> 16 & 0xFF,
        uint32,
    };
}

function hexToRGB(hex) {
    if (hex.charAt(0) === '#') hex = hex.substring(1);
    return {
        b: parseInt(hex.substr(4, 2), 16),
        g: parseInt(hex.substr(2, 2), 16),
        r: parseInt(hex.substr(0, 2), 16),
        uint32: hexToUint32(hex),
    };
}

function RGBToUint32(rgb) {
    return rgb.r | rgb.g << 8 | rgb.b << 16 | 0xFF << 24;
}

/**
 * @param {CanvasRenderingContext2D} rendering 
 * @param {string[]} palette 
 */
function recolorToPalette(rendering, palette) {
    const paletteConverted = palette.map((hex) => { 
        const cone = HSVToCone(RGBToHSV(hexToRGB(hex)));
        const uint32 = hexToUint32(hex);
        return { ...cone, uint32 };
    });
    const mapping = new Map();

    function chooseColor(uint32) {
        const alpha = (uint32 >>> 24) < 16;
        if (alpha) return 0;

        const existing = mapping.get(uint32);
        if (existing) return existing;

        const actual = HSVToCone(RGBToHSV(uint32ToRGB(uint32)));
        let bestSqrDistance = Infinity;
        let best = paletteConverted[0];

        for (let candidate of paletteConverted) {
            const dx = Math.abs(actual.x - candidate.x);
            const dy = Math.abs(actual.y - candidate.y);
            const dz = Math.abs(actual.z - candidate.z);
            const sqrDistance = dx*dx + dy*dy + dz*dz;
            
            if (sqrDistance < bestSqrDistance) {
                bestSqrDistance = sqrDistance;
                best = candidate;
            }
        }

        mapping.set(uint32, best.uint32);
        return best.uint32;
    }

    withPixels(rendering, (pixels) => {
        for (let i = 0; i < pixels.length; ++i) {
            pixels[i] = chooseColor(pixels[i]);
        }
    });
}

/** 
 * Copy image contents to a new canvas rendering context.
 * @param {HTMLImageElement} image 
 */
function imageToRendering2D(image) {
    const rendering = createRendering2D(image.naturalWidth, image.naturalHeight);
    rendering.drawImage(image, 0, 0);
    return rendering;
}

/**
 * Create an html image from a given src (probably a datauri).
 * @param {string} src
 * @returns {Promise<HTMLImageElement>}
 */
async function loadImage(src) {
    return new Promise((resolve, reject) => {
        const image = document.createElement("img");
        image.addEventListener("load", () => resolve(image));
        image.addEventListener("error", reject);
        image.src = src;
    });
}

    </script>
    <script>const flickguy = {};

// browser saves will be stored under the id "flickguy"
flickguy.storage = new maker.ProjectStorage("flickguy");

// add a resource type called "canvas-datauri" that describes how to load a
// canvas rendering context from a datauri, how to copy one, and how to convert
// one back into a datauri
maker.resourceHandlers.set("canvas-datauri", {
    load: async (data) => imageToRendering2D(await loadImage(data)),
    copy: async (instance) => copyRendering2D(instance),
    save: async (instance) => instance.canvas.toDataURL("image/png", 1),
});

// type definitions for the structure of flickguy project data. useful for the
// code editor, ignored by the browser 
/**
 * @typedef {Object} FlickguyDataLayerOption
 * @property {string} image
 * @property {number?} palette
 */

/**
 * @typedef {Object} FlickguyDataLayer
 * @property {FlickguyDataLayerOption[]} options
 */

/**
 * @typedef {Object} FlickguyDataProject
 * @property {string[][]} palettes
 * @property {string[]} fixedPalette
 * @property {FlickguyDataLayer[]} layers
 * @property {number[]} selected
 */

/** 
 * @param {FlickguyDataProject} data 
 * @returns {string[]}
 */

// define how to determine which resources a particular flickguy project data
// depends on. in this case resources are the individual images, so the 
// dependencies are all image ids in the project
flickguy.getManifest = function (data) {
    // layer option images are the only resource dependencies in a flickguy
    return data.layers.flatMap((layer) => layer.options.map((option) => option.image));
}

// keep the image size constant in one place--haven't checked whether you can
// actually change these numbers and not break things
flickguy.layerWidth = 128;
flickguy.layerHeight = 128;
flickguy.exportScale = 4;

/** 
 * Create a valid bundle for an empty flickguy project.
 * @returns {maker.ProjectBundle<FlickguyDataProject>} 
 */
flickguy.makeBlankBundle = function () {
    const blank = createRendering2D(flickguy.layerWidth, flickguy.layerHeight);
    fillRendering2D(blank);
    const layers = ZEROES(8).map(() => ({  
        options: ZEROES(8).map(() => ({ image: "0", palette: 0 })),
    }));
    const project = { 
        palettes: flickguy.defaultPalettes, 
        fixedPalette: this.defaultFixedPalette,
        layers, 
        selected: ZEROES(8), 
    };
    const resources = {
        "0": { type: "canvas-datauri", data: blank.canvas.toDataURL() },
    };

    return { project, resources };
}

/** 
 * Update the given flickguy project data so that it's valid for this current
 * version of flickguy.
 * @param {FlickguyDataProject} project 
 */
flickguy.updateProject = function(project) {
    project.selected = project.selected || ZEROES(8);
    project.fixedPalette = project.fixedPalette || flickguy.defaultFixedPalette;
}

/**
 * In the given rendering, replace every instance of a color in the prev palette
 * with the corresponding color in the next palette, ignoring colors that don't
 * appear. This is broken in firefox because colors are not stored exactly. 
 * @param {CanvasRenderingContext2D} rendering 
 * @param {string[]} prev 
 * @param {string[]} next 
 */
function swapPalette(rendering, prev, next) {
    const mapping = new Map();
    prev.forEach((hex, index) => mapping.set(hexToUint32(prev[index]), hexToUint32(next[index])));

    withPixels(rendering, (pixels) => {
        for (let i = 0; i < pixels.length; ++i) {
            pixels[i] = mapping.get(pixels[i]) || pixels[i];
        }
    });
}

/**
 * Replace every color in the given rendering. Each existing color is matched
 * to the closest color in the prev palette and replaced with the corresponding
 * color in the next palette. 
 * @param {CanvasRenderingContext2D} rendering 
 * @param {string[]} prev 
 * @param {string[]} next 
 */
 function swapPaletteSafe(rendering, prev, next) {
    const mapping = new Map();
    const prevUint32 = prev.map((hex) => hexToUint32(hex));
    const nextUint32 = next.map((hex) => hexToUint32(hex));
    prevUint32.forEach((_, i) => mapping.set(prevUint32[i], nextUint32[i % nextUint32.length]));
    mapping.set(0, 0);

    function addMissing(prev) {
        let bestDistance = Infinity;
        let bestNext = nextUint32[0];

        const pr = prev >>>  0 & 0xFF;
        const pg = prev >>>  8 & 0xFF;
        const pb = prev >>> 16 & 0xFF;

        for (let i = 0; i < prevUint32.length; ++i) {
            const target = prevUint32[i];
            const tr = target >>>  0 & 0xFF;
            const tg = target >>>  8 & 0xFF;
            const tb = target >>> 16 & 0xFF;

            const dist = Math.abs(pr - tr) 
                       + Math.abs(pg - tg) 
                       + Math.abs(pb - tb);

            if (dist < bestDistance) {
                bestDistance = dist;
                bestNext = nextUint32[i];
            }
        }

        mapping.set(prev, bestNext);
        return bestNext;
    }

    withPixels(rendering, (pixels) => {
        for (let i = 0; i < pixels.length; ++i) {
            const prev = pixels[i];
            if (prev) pixels[i] = mapping.get(prev) || addMissing(prev);
        }
    });
}

/**
 * Return a random integer at least min and below max. Why is that the normal
 * way to do random ints? I have no idea.
 * @param {number} min 
 * @param {number} max 
 * @returns {number}
 */
 function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min)) + min;
}

// default palettes (8 palettes of 8 colors)
flickguy.defaultPalettes = [
    ["#000000","#94216a","#ff2674","#ff80a4","#34111f","#73392e","#c76e46","#ffb762"],["#000000","#d62411","#ff8426","#ffd100","#73392e","#c76e46","#eb9c6e","#ffdaac"],["#000000","#007899","#10d275","#bfff3c","#430067","#94216a","#ff2674","#ff80a4"],["#000000","#94216a","#ff2674","#ff80a4","#002859","#007899","#10d275","#bfff3c"],["#000000","#d62411","#ff8426","#ffd100","#1b1023","#002859","#007899","#68aed4"],["#000000","#002859","#007899","#68aed4","#430067","#94216a","#ff2674","#ff80a4"],["#000000","#007899","#10d275","#bfff3c","#7f0622","#d62411","#ff8426","#ffd100"],["#000000","#002859","#007899","#68aed4","#7f0622","#d62411","#ff8426","#ffd100"]
];

flickguy.defaultFixedPalette = [
    "#000000","#fafdff","#ff80a4","#68aed4","#d62411","#ff8426","#ffd100","#bfff3c","#10d275","#007899","#234975","#430067","#94216a","#ff2674","#73392e","#16171a",
];

// brush names and datauris
flickguy.brushes = [
    { name: "1px circle", image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAABlJREFUOI1jYBgFwx38/////0C7YRQMDQAApd4D/cefQokAAAAASUVORK5CYII=" },
    { name: "2px circle", image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAABpJREFUOI1jYBgFwx38hwJ8apjo5ZhRMKgBADvbB/vPRl6wAAAAAElFTkSuQmCC" },
    { name: "3px circle", image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAACNJREFUOI1jYBgFgxz8////PyE1jMRoZmRkxKmOYheMgmEBAARbC/qDr1pMAAAAAElFTkSuQmCC" },
    { name: "4px circle", image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAChJREFUOI1jYBgFgxz8hwJ8ahjxaUZRyMiIVS0TeW4jEhDjhVEwGAAAJhAT9IYiYRoAAAAASUVORK5CYII=" },
];

flickguy.Editor = class extends EventTarget {
    /**
     * Setup most of the stuff for the flickguy editor (the rest is in init
     * because constructors can't be async). This includes finding the existing
     * HTML UI so it doesn't really make sense to construct this more than once
     * but a class is easy syntax for wrapping functions and state together ðŸ¤·â€â™€ï¸
     */
    constructor() {
        super();

        // run full editor functionally? (or just simple playback?)
        this.editorMode = true;

        // are there changes to warn about losing?
        this.unsavedChanges = false;

        // is there a fully loaded project?
        this.ready = false;

        // to determine which resources are still in use for the project we
        // combine everything the flickguy needs plus anything this editor
        // needs
        const getManifest = (data) => [...flickguy.getManifest(data), ...this.getManifest()];

        /** @type {maker.StateManager<FlickguyDataProject>} */
        this.stateManager = new maker.StateManager(getManifest);
        /** @type {CanvasRenderingContext2D} */
        this.rendering = ONE("#renderer").getContext("2d");

        // temporary rendering for compositing layers in editor
        this.stackActive = createRendering2D(flickguy.layerWidth, flickguy.layerHeight);
        this.stackUnder = createRendering2D(flickguy.layerWidth, flickguy.layerHeight);
        this.stackOver = createRendering2D(flickguy.layerWidth, flickguy.layerHeight);
        
        // preview for paint tools e.g line cursor
        this.preview = createRendering2D(this.rendering.canvas.width, this.rendering.canvas.height);
        
        // thumbnails for various ui buttons
        this.layerThumbs = ZEROES(8).map(() => createRendering2D(flickguy.layerWidth, flickguy.layerHeight));
        this.optionThumbs = ZEROES(8).map(() => createRendering2D(flickguy.layerWidth, flickguy.layerHeight));
        this.paletteThumbs = ZEROES(8).map(() => createRendering2D(1, 1));

        // find all the ui already defined in the html
        this.layerSelect = ui.radio("layer-select");
        this.optionSelect = ui.radio("option-select");
        this.paletteSelect = ui.radio("palette-select");
        this.stackLayers = ui.toggle("stack-layers");
        this.fixedPalette = ui.toggle("fixed-palette");

        this.toolSelect = ui.radio("tool-select");
        this.brushSelect = ui.radio("brush-select");
        this.colorSelect = ui.radio("color-select");
        this.helpContainer = ONE("#help");   

        // initial selections
        this.layerSelect.selectedIndex = 0;
        this.optionSelect.selectedIndex = 0;
        this.paletteSelect.selectedIndex = 0;

        this.toolSelect.selectedIndex = 0;
        this.brushSelect.selectedIndex = 0;
        this.colorSelect.selectedIndex = 1;

        // add thumbnails to the layer select bar
        ALL("#layer-select canvas").forEach((canvas, index) => {
            canvas.replaceWith(this.layerThumbs[index].canvas);
        });

        // add thumbnails to the option select bar
        ALL("#option-select canvas").forEach((canvas, index) => {
            canvas.replaceWith(this.optionThumbs[index].canvas);
        });

        // add thumbnails to the palette select bar
        ALL("#palette-select canvas").forEach((canvas, index) => {
            canvas.replaceWith(this.paletteThumbs[index].canvas);
        });

        // add brush icons and tooltips to brush select buttons
        ALL("#brush-select label").forEach((label, index) => {
            ONE("input", label).title = flickguy.brushes[index].name + " brush";
            ONE("img", label).src = flickguy.brushes[index].image;
        });

        // state of the paint tools:
        // is the color pick key held down?
        this.heldColorPick = false;
        // current brush recolored with current color
        this.activeBrush = undefined;
        // saved start coordinates during a line draw
        this.lineStart = undefined;
        // saved start coordinates during shift
        this.shiftStart = undefined;
        // layer option currently in the clipboard
        this.copiedLayerOption = undefined;

        // editor actions controlled by html buttons
        this.actions = {
            // layer buttons
            layerUp: ui.action("layer-up", () => this.shiftLayerUp()),
            layerDown: ui.action("layer-down", () => this.shiftLayerDown()),

            // editor toolbar
            undo: ui.action("undo", () => this.stateManager.undo()),
            redo: ui.action("redo", () => this.stateManager.redo()),
            copy: ui.action("copy", () => this.copyLayerOption()),
            paste: ui.action("paste", () => this.pasteLayerOption()),
            clear: ui.action("clear", () => this.clearLayerOption()),
            randomise: ui.action("randomise", () => this.randomise()),
            save: ui.action("save", () => this.save()),

            // editor menu
            export_: ui.action("export", () => this.exportProject()),
            import_: ui.action("import", () => this.importProject()),
            reset: ui.action("reset", () => this.resetProject()),
            help: ui.action("help", () => this.toggleHelp()),
            update: ui.action("update", () => this.updateEditor()),

            // playback menu
            exportImage: ui.action("export-image", () => this.exportImage()),

            // special feature
            importPalettes: ui.action("import-palettes", () => this.importPalettes()),
            exportPalettes: ui.action("export-palettes", () => this.exportPalettes()),
        };

        // can't undo/redo/paste yet
        this.actions.undo.disabled = true;
        this.actions.redo.disabled = true;
        this.actions.paste.disabled = true;

        // hotkeys
        document.addEventListener("keydown", (event) => {
            if (event.ctrlKey) {
                if (event.key === "z") this.actions.undo.invoke();
                if (event.key === "y") this.actions.redo.invoke();
                if (event.key === "c") this.actions.copy.invoke();
                if (event.key === "v") this.actions.paste.invoke();
                if (event.key === "x") {
                    this.actions.copy.invoke();
                    this.actions.clear.invoke();
                }
                if (event.key === "s") {
                    event.preventDefault();
                    this.actions.save.invoke();
                }
                if (event.key === ",") this.randomise({ palettes: false });
                if (event.key === ".") this.randomise({ options: false });
            } else {
                if (event.code === "KeyQ") this.toolSelect.selectedIndex = 0;
                if (event.code === "KeyW") this.toolSelect.selectedIndex = 1;
                if (event.code === "KeyE") this.toolSelect.selectedIndex = 2;
                if (event.code === "KeyR") this.toolSelect.selectedIndex = 3;
    
                if (event.code === "KeyA") this.brushSelect.selectedIndex = 0;
                if (event.code === "KeyS") this.brushSelect.selectedIndex = 1;
                if (event.code === "KeyD") this.brushSelect.selectedIndex = 2;
                if (event.code === "KeyF") this.brushSelect.selectedIndex = 3;
            }

            this.heldColorPick = event.altKey;
        });

        // stop temporarily color picking if the alt key is released
        document.addEventListener("keyup", (event) => {
            this.heldColorPick = event.altKey;
        });

        // changes in layer select bar
        this.layerSelect.addEventListener("change", () => {
            this.refreshLayerDisplay();
        });

        // switching option within a layer
        this.optionSelect.addEventListener("change", async () => {
            // remember selected option for this layer
            this.stateManager.present.selected[this.layerSelect.selectedIndex] = this.optionSelect.selectedIndex;
            
            const { option } = this.getSelections();

            if (option.palette !== undefined) {
                // recolor new option to current color selection
                await this.setOptionPalette(
                    this.stateManager.present,
                    this.layerSelect.selectedIndex,
                    this.optionSelect.selectedIndex,
                    this.paletteSelect.selectedIndex,
                );
            }
            
            this.refreshColorSelect();
            this.render();
        });

        // changes in palette select bar
        this.paletteSelect.addEventListener("change", async () => {
            await this.setOptionPalette(
                this.stateManager.present,
                this.layerSelect.selectedIndex,
                this.optionSelect.selectedIndex,
                this.paletteSelect.selectedIndex,
            );

            this.render();
            this.refreshColorSelect();
        });

        // changes in stack layers toggle
        this.stackLayers.addEventListener("change", () => {
            this.render();
        });

        // changes in the brush and color select
        this.brushSelect.addEventListener("change", () => this.refreshActiveBrush());
        this.colorSelect.addEventListener("change", () => this.refreshActiveBrush());
    
        this.fixedPalette.addEventListener("change", () => {
            return this.stateManager.makeChange(async (data) => {
                return this.setOptionPalette(
                    data,
                    this.layerSelect.selectedIndex,
                    this.optionSelect.selectedIndex,
                    this.fixedPalette.checked ? undefined : this.paletteSelect.selectedIndex,
                );
            });
        });

        // whenever the project data is changed
        this.stateManager.addEventListener("change", () => {
            this.unsavedChanges = true;
            this.ready = true;

            this.refreshPaletteThumbs();
            this.refreshLayerThumbnails();
            this.refreshLayerDisplay();
    
            // enable/disable undo/redo buttons
            this.actions.undo.disabled = !this.stateManager.canUndo;
            this.actions.redo.disabled = !this.stateManager.canRedo;
        });

        // whenever a pointer moves anywhere on screen, update the paint cursors
        // --listen on the whole document because for e.g line drawing it is 
        // valid to move the mouse outside the edges of the drawing area
        document.addEventListener("pointermove", (event) => {
            const { x, y } = mouseEventToCanvasPixelCoords(this.rendering.canvas, event);
            this.refreshPreview(x, y);
        });
        
        // finger or mouse presses on the drawing area--could begin a drag or
        // end quickly in a click
        this.rendering.canvas.addEventListener("pointerdown", async (event) => {
            // for mouse ignore non-left-clicks
            if (event.button !== 0) return;
            // ignore in player mode
            if (!this.editorMode) return;

            // treat this as the beginning of a possible drag
            const drag = ui.drag(event);
            const { x, y } = mouseEventToCanvasPixelCoords(this.rendering.canvas, event);

            // prepare the plot function

            // temporary layer for painting to
            const mask = createRendering2D(flickguy.layerWidth, flickguy.layerHeight);
            // painting is done to the temporary layer. all brushes are 16x16
            const plotMask = (x, y) => mask.drawImage(this.activeBrush.canvas, (x - 7) | 0, (y - 7) | 0);
            // convenience function to draw accounting for the transparent color
            // and then notify changes
            const drawMask = (instance) => {
                // the first color of every palette is transparent
                const erase = this.colorSelect.selectedIndex === 0;
                // mask is the "source", image is the "destination". to erase
                // we cut DESTINATION pixels OUT according to source. to paint
                // normally we copy SOURCE pixels OVER destination pixels.
                instance.globalCompositeOperation = erase ? "destination-out" : "source-over";
                instance.drawImage(mask.canvas, 0, 0);
                instance.globalCompositeOperation = "source-over";
                // notify change so thumbnails etc can update
                this.stateManager.changed();
            };

            // color picker selected or color pick hotkey held
            if (this.toolSelect.value === "pick" || this.heldColorPick) {
                drag.addEventListener("click", () => this.pickColor(x, y));
            // flood fill selected
            } else if (this.toolSelect.value === "fill") {
                drag.addEventListener("click", () => this.floodFill(x, y));
            // freehand drawing selected
            } else if (this.toolSelect.value === "freehand") {
                // fork the current options's image for editing and make an 
                // undo/redo checkpoint
                this.stateManager.makeCheckpoint();
                const { option } = this.getSelections();
                const instance = await this.forkLayerOptionImage(option);

                // draw the brush at the position the drag begins
                plotMask(x, y);
                drawMask(instance);

                let prev = { x, y };

                // draw the brush at the last position of the drag
                drag.addEventListener("up", (event) => {
                    const { x, y } = mouseEventToCanvasPixelCoords(this.rendering.canvas, event.detail);
                    plotMask(x, y);
                    drawMask(instance);
                });

                // as the pointer moves, draw brush lines between the points
                drag.addEventListener("move", (event) => {
                    const { x: x0, y: y0 } = prev;
                    const { x: x1, y: y1 } = mouseEventToCanvasPixelCoords(this.rendering.canvas, event.detail);
                    lineplot(x0, y0, x1, y1, plotMask);
                    drawMask(instance);
                    prev = { x: x1, y: y1 };
                });
            // line drawing selected
            } else if (this.toolSelect.value === "line") {
                // need to save this to draw the line preview
                this.lineStart = { x, y };
                this.refreshPreview(x, y);

                // only actually draw the line at the end
                drag.addEventListener("up", async (event) => {
                    // fork the current options's image for editing and make an 
                    // undo/redo checkpoint
                    this.stateManager.makeCheckpoint();
                    const { option } = this.getSelections();
                    const instance = await this.forkLayerOptionImage(option);
                    
                    // line from pointer down position to pointer up position
                    const { x: x0, y: y0 } = this.lineStart;
                    const { x: x1, y: y1 } = mouseEventToCanvasPixelCoords(this.rendering.canvas, event.detail);

                    lineplot(x0, y0, x1, y1, plotMask);
                    drawMask(instance);

                    // stop tracking line drawing
                    this.lineStart = undefined;
                });
            } else if (this.toolSelect.value === "shift") {
                this.shiftStart = { x, y };

                drag.addEventListener("up", async (event) => {
                    const { x: x0, y: y0 } = this.shiftStart;
                    const { x: x1, y: y1 } = mouseEventToCanvasPixelCoords(this.rendering.canvas, event.detail);

                    fillRendering2D(this.preview);
                    this.preview.drawImage(this.stackActive.canvas, x1 - x0, y1 - y0);

                    // fork the current options's image for editing and make an 
                    // undo/redo checkpoint
                    this.stateManager.makeCheckpoint();
                    const { option } = this.getSelections();
                    const instance = await this.forkLayerOptionImage(option);
                    fillRendering2D(instance);
                    instance.drawImage(this.preview.canvas, 0, 0);
                    
                    this.shiftStart = undefined;
                    this.refreshPreview(x1, y1);
                });
            }
        });
    }

    async init() {
        // load all the brush images
        this.brushRenders = await Promise.all(flickguy.brushes.map(({ image }) => loadImage(image).then(imageToRendering2D)));
        
        // make brush and pattern valid
        this.refreshActiveBrush();
    }

    /**
     * Return the various "selected" / "active" objects from editor state and
     * either the given project data or the present project data.
     * @param {FlickguyDataProject} data
     */
    getSelections(data = undefined) {
        data = data || this.stateManager.present;
        const layer = data.layers[this.layerSelect.selectedIndex];
        const option = layer.options[this.optionSelect.selectedIndex];
        const palette = data.palettes[option.palette] || data.fixedPalette;
        const brush = this.brushRenders[this.brushSelect.selectedIndex];
        const color = palette[this.colorSelect.selectedIndex];
        const instance = this.stateManager.resources.get(option.image);

        return { layer, option, palette, color, instance, brush };
    }

    /**
     * Replace the current flickguy data with the given bundle.
     * @param {maker.ProjectBundle<FlickguyDataProject>} bundle
     */
    async loadBundle(bundle) {
        this.ready = false;

        // account for changes between flickguy versions
        flickguy.updateProject(bundle.project);

        await this.stateManager.loadBundle(bundle);
        this.unsavedChanges = false;
    }

    /**
     * @param {FlickguyDataLayerOption} option 
     * @returns {Promise<CanvasRenderingContext2D>}
     */
    async forkLayerOptionImage(option) {
        // create a new copy of the image resource
        const { id, instance } = await this.stateManager.resources.fork(option.image);
        // replace the option's image with the new copy
        option.image = id;
        // return the instance of the image for editing
        return instance;
    }

    render() {
        if (!this.ready) return;

        // clear everything
        fillRendering2D(this.stackActive);
        fillRendering2D(this.stackUnder);
        fillRendering2D(this.stackOver);
        fillRendering2D(this.rendering);

        // composite layers into below, current, above
        this.stateManager.present.layers.forEach((layer, index) => {
            // get the layer's current option scene's image
            const option = layer.options[this.stateManager.present.selected[index]];
            const image = this.stateManager.resources.get(option.image);
            
            if (index < this.layerSelect.selectedIndex) this.stackUnder.drawImage(image.canvas, 0, 0);
            if (index > this.layerSelect.selectedIndex) this.stackOver.drawImage(image.canvas, 0, 0);
            if (index === this.layerSelect.selectedIndex) this.stackActive.drawImage(image.canvas, 0, 0);
        });

        // should other layers be drawn transparent?
        const onion = this.editorMode && !this.stackLayers.checked;
        const inactiveAlpha = onion ? .35 : 1;

        // all layers below the active layer
        this.rendering.globalAlpha = inactiveAlpha;
        this.rendering.drawImage(this.stackUnder.canvas, 0, 0);
        // the active layer + paint preview
        this.rendering.globalAlpha = 1;
        this.rendering.drawImage(this.stackActive.canvas, 0, 0);
        this.rendering.drawImage(this.preview.canvas, 0, 0);
        // all layers above the active layer
        this.rendering.globalAlpha = inactiveAlpha;
        this.rendering.drawImage(this.stackOver.canvas, 0, 0);
        this.rendering.globalAlpha = 1;

        // signal, to anyone listening, that rendering happened
        this.dispatchEvent(new CustomEvent("render"));
    }

    refreshPreview(x, y) {
        if (!this.editorMode || !this.activeBrush) return;

        // clear existing preview
        fillRendering2D(this.preview);

        // prepare plot function
        const plot = (x, y) => this.preview.drawImage(this.activeBrush.canvas, (x - 7) | 0, (y - 7) | 0);

        // move tool has a special cursor, crosshair for everything else
        const cursor = this.toolSelect.value === "shift" ? "move" : "crosshair";
        this.rendering.canvas.style.setProperty("cursor", cursor);

        if (this.shiftStart) {
            // show another copy of the current layer as moved by the mouse
            const { x: ox, y: oy } = this.shiftStart;
            this.preview.drawImage(this.stackActive.canvas, x - ox, y - oy);
        } else if (this.heldColorPick) {
            // no preview for color picking
        } else if (this.lineStart) {
            // draw a line between the pointer down location and the current 
            // pointer location
            const { x: x0, y: y0 } = this.lineStart;
            lineplot(x0, y0, x, y, plot);
        } else if (this.toolSelect.value === "freehand" || this.toolSelect.value === "line") {
            // draw the colored brush at the current pointer location
            plot(x, y);
        } 

        this.render();
    }

    refreshLayerDisplay() {
        // can't shift layers beyond the edges
        this.actions.layerUp.disabled = this.layerSelect.selectedIndex < 1;
        this.actions.layerDown.disabled = this.layerSelect.selectedIndex > 6;

        // switch option to remembered option for this layer
        this.optionSelect.setSelectedIndexSilent(this.stateManager.present.selected[this.layerSelect.selectedIndex]);

        // switch palette select to match option's current palette if any
        const { option } = this.getSelections();
        if (option.palette !== undefined) {
            this.paletteSelect.selectedIndex = option.palette;
        }

        this.refreshLayerOptionThumbnails();
        this.refreshColorSelect();
        this.refreshActiveBrush();

        this.render();
    }

    refreshActiveBrush() {
        if (!this.ready) return;

        const { brush, color } = this.getSelections();

        // make a recolored copy of the brush for painting with
        this.activeBrush = this.colorSelect.selectedIndex > 0 
                         ? recolorMask(brush, color) 
                         : brush;
    }

    refreshPaletteThumbs() {
        // generate palette thumbnails
        this.paletteThumbs.forEach((thumbnail, index) => {
            const size = 12;

            thumbnail.canvas.width = 4 * size;
            thumbnail.canvas.height = 2 * size;

            const palette = this.stateManager.present.palettes[index];
            for (let y = 0; y < 2; ++y) {
                for (let x = 0; x < 4; ++x) {
                    thumbnail.fillStyle = palette[y * 4 + x];
                    thumbnail.fillRect(x * size, y * size, size, size);
                }
            }
        });
    }

    refreshColorSelect() {
        const { option, palette } = this.getSelections();

        this.fixedPalette.setCheckedSilent(option.palette === undefined);
        ONE("#tools").classList.toggle("fixed-palette", option.palette === undefined);

        // recolor the color select buttons to the corresponding color
        ALL("#color-select label").forEach((label, index) => {
            label.style.background = index > 0 ? palette[index] : "var(--trans-gradient)";
        });

        this.colorSelect.selectedIndex = Math.min(palette.length-1, this.colorSelect.selectedIndex);
    }

    refreshLayerThumbnails() {
        this.layerThumbs.forEach((thumbnail, index) => {
            const layer = this.stateManager.present.layers[index];

            fillRendering2D(thumbnail);

            layer.options.forEach((layer) => {
                const image = this.stateManager.resources.get(layer.image);
                thumbnail.drawImage(image.canvas, 0, 0);
            });

            // bleach all color to white and transparent
            thumbnail.globalCompositeOperation = "source-in";
            fillRendering2D(thumbnail, "#ffffff");
            thumbnail.globalCompositeOperation = "source-over";
        });
    }

    refreshLayerOptionThumbnails() {
        const { layer } = this.getSelections();

        this.optionThumbs.forEach((thumbnail, index) => {
            fillRendering2D(thumbnail);
            const image = this.stateManager.resources.get(layer.options[index].image);
            thumbnail.drawImage(image.canvas, 0, 0);

            // bleach all color to white and transparent
            thumbnail.globalCompositeOperation = "source-in";
            fillRendering2D(thumbnail, "#ffffff");
            thumbnail.globalCompositeOperation = "source-over";
        });
    }

    floodFill(x, y) {
        this.stateManager.makeChange(async (data) => {
            // fork the current options's image
            const { option, color } = this.getSelections(data);
            const instance = await this.forkLayerOptionImage(option);
            const uint32 = this.colorSelect.selectedIndex > 0 ? hexToUint32(color) : 0;
            floodfill(instance, x, y, uint32);
        });
    }

    pickColor(x, y) {
        // get the single pixel from the relevant image
        const { palette, instance } = this.getSelections();
        const [r, g, b, a] = instance.getImageData(x, y, 1, 1).data;
        const hex = rgbToHex({ r, g, b});
        
        // if it's transparent, it's color 0, otherwise search palette
        const paletteIndex = a === 0 
                           ? 0
                           : palette.findIndex((color) => color === hex);
        this.colorSelect.selectedIndex = paletteIndex; 
    }

    swapLayers(prevIndex, nextIndex) {
        this.stateManager.makeChange(async (data) => {
            // swap layers and selecteds
            [data.layers[nextIndex], data.layers[prevIndex]] = [data.layers[prevIndex], data.layers[nextIndex]];
            [data.selected[nextIndex], data.selected[prevIndex]] = [data.selected[prevIndex], data.selected[nextIndex]];
            
            // if one of the layers was currently selected, move with it
            if (this.layerSelect.selectedIndex === prevIndex) {
                this.layerSelect.selectedIndex = nextIndex;
            } else if (this.layerSelect.selectedIndex === nextIndex) {
                this.layerSelect.selectedIndex = prevIndex;
            }
            
            // update thumbnails and rendering
            this.refreshLayerDisplay();
        });
    }

    shiftLayerUp() {
        if (this.layerSelect.selectedIndex < 1) return;
        this.swapLayers(
            this.layerSelect.selectedIndex, 
            this.layerSelect.selectedIndex-1,
        );
    }

    shiftLayerDown() {
        if (this.layerSelect.selectedIndex > 6) return;
        this.swapLayers(
            this.layerSelect.selectedIndex, 
            this.layerSelect.selectedIndex+1,
        );
    }

    copyLayerOption() {
        // make a copy of option data and enable pasting
        const { option } = this.getSelections();
        this.copiedLayerOption = COPY(option);
        this.actions.paste.disabled = false;
    }

    pasteLayerOption() {
        this.stateManager.makeChange(async (data) => {
            // replace selected layer option with a copy of the copied option
            const { layer } = this.getSelections(data);
            layer.options[this.optionSelect.selectedIndex] = COPY(this.copiedLayerOption);
        });
    }

    clearLayerOption() {
        this.stateManager.makeChange(async (data) => {
            const { option } = this.getSelections(data);
            const instance = await this.forkLayerOptionImage(option);
            fillRendering2D(instance);
        });
    }

    /**
     * @param {FlickguyDataProject} data 
     * @param {number} layerIndex 
     * @param {number} optionIndex 
     * @param {number} paletteIndex
     */
    async setOptionPalette(data, layerIndex, optionIndex, paletteIndex) {
        const option = data.layers[layerIndex].options[optionIndex];

        const prev = option.palette !== undefined
                   ? data.palettes[option.palette]
                   : data.fixedPalette;
        option.palette = paletteIndex;
        const next = option.palette !== undefined
                   ? data.palettes[option.palette]
                   : data.fixedPalette;

        // only swap if necessary
        if (prev !== next) {
            const instance = await this.forkLayerOptionImage(option);
            swapPaletteSafe(instance, prev, next);
        }
    }

    async randomise({ palettes = true, options = true } = {}) {
        await this.stateManager.makeChange(async (data) => {
            // get existing selections
            let optionIndexes = data.selected;
            let paletteIndexes = optionIndexes.map((option, layer) => data.layers[layer].options[option].palette);

            // randomise selections
            if (palettes) paletteIndexes = ZEROES(8).map(() => getRandomInt(0, 8));
            if (options) optionIndexes = ZEROES(8).map(() => getRandomInt(0, 8)); 

            // apply new selections and palettes for each layer
            await Promise.all(data.layers.map(async (layer, index) => {
                data.selected[index] = optionIndexes[index];
                const option = layer.options[optionIndexes[index]];

                if (option.palette !== undefined) {
                    await this.setOptionPalette(
                        data, 
                        index, 
                        optionIndexes[index], 
                        paletteIndexes[index],
                    );
                }
            }));
        });
    }

    /** @returns {string[]} */
    getManifest() {
        // the editor adds a dependency to the image in the copied scene, if any
        // --we don't want this resource to be cleaned up accidentally because
        // we might still want to paste it even after it stops being used in
        // other scenes
        return this.copiedLayerOption ? [this.copiedLayerOption.image] : [];
    }

    async exportProject() {
        // make a standalone bundle of the current project state and the 
        // resources it depends upon
        const bundle = await this.stateManager.makeBundle();

        // make a copy of this web page
        const clone = /** @type {HTMLElement} */ (document.documentElement.cloneNode(true));
        // remove some unwanted elements from the page copy
        ALL("[data-empty]", clone).forEach((element) => element.replaceChildren());
        ALL("[data-editor-only]", clone).forEach((element) => element.remove());
        // insert the project bundle data into the page copy 
        ONE("#bundle-embed", clone).innerHTML = JSON.stringify(bundle);

        // track how many remixes this is (remixes have soft-limits to encourage finding updates)
        const generation = parseInt(clone.getAttribute("data-remix-generation"));
        clone.setAttribute("data-remix-generation", `${generation + 1}`);

        // default to player mode
        clone.setAttribute("data-app-mode", "player");

        // prompt the browser to download the page
        const name = "flickguy.html";
        const blob = maker.textToBlob(clone.outerHTML, "text/html");
        maker.saveAs(blob, name);
    }

    async importProject() {
        // ask the browser to provide a file
        const [file] = await maker.pickFiles("text/html");
        // read the file and turn it into an html page
        const text = await maker.textFromFile(file);
        const html = await maker.htmlFromText(text);
        // extract the bundle from the imported page
        const bundle = maker.bundleFromHTML(html);
        // load the contents of the bundle into the editor
        await this.loadBundle(bundle);
    } 

    async resetProject() {
        // open a blank project in the editor
        await this.loadBundle(flickguy.makeBlankBundle());
    }
    
    /**
     * Open a new tab with the original editor and send the current project to it.
     */
    async updateEditor() {
        // original editor url is stored in the html (may be different for 
        // custom editor mods)
        const liveURL = document.documentElement.getAttribute("data-editor-live");
        
        const bundle = await this.stateManager.makeBundle();
        
        // the original editor will check to see if it was opened by another
        // tab and then send us a message--if we receive it then we send the
        // bundle back 
        window.addEventListener("message", (event) => {
            event.data.port.postMessage({ bundle });
        });
        window.open(liveURL);
    }

    exportImage() {
        // scale up the image for sharing
        const scaled = createRendering2D(
            this.rendering.canvas.width * flickguy.exportScale,
            this.rendering.canvas.height * flickguy.exportScale,
        );
        scaled.imageSmoothingEnabled = false;
        scaled.drawImage(
            this.rendering.canvas, 
            0, 0, scaled.canvas.width, scaled.canvas.height,
        );

        // convert image to blob and ask browser to download it
        scaled.canvas.toBlob((blob) => maker.saveAs(blob, "your-guy.png"));        
    }

    async exportPalettes() {
        const rendering = createRendering2D(8, 10);

        withPixels(rendering, (pixels) => {
            this.stateManager.present.palettes.forEach((palette, y) => {
                palette.forEach((hex, x) => {
                    pixels[y * 8 + x] = hexToUint32(hex);
                });
            });

            this.stateManager.present.fixedPalette.forEach((hex, i) => {
                pixels[8 * 8 + i] = hexToUint32(hex);
            })
        });

        rendering.canvas.toBlob((blob) => maker.saveAs(blob, "flickguy-palettes.png"));
    }

    async importPalettes() {
        // ask user to provide palette image
        const [file] = await maker.pickFiles("image/*");
        const dataUri = await maker.dataURIFromFile(file);
        const image = await loadImage(dataUri);
        const rendering = imageToRendering2D(image);

        const prevPalettes = this.stateManager.present.palettes;
        const nextPalettes = ZEROES(8).map(() => REPEAT(8, "#000000"));
        
        const prevFixedPalette = this.stateManager.present.fixedPalette;
        const nextFixedPalette = REPEAT(16, "#000000");

        // read palettes from image (8 rows of 8 colors, ignore first column)
        withPixels(rendering, (pixels) => {
            for (let p = 0; p < 8; ++p) {
                for (let i = 1; i < 8; ++i) {
                    nextPalettes[p][i] = rgbToHex(uint32ToRGB(pixels[p * 8 + i]));
                }
            }

            for (let i = 0; i < 16; ++i) {
                nextFixedPalette[i] = rgbToHex(uint32ToRGB(pixels[8 * 8 + i]));
            }
        });

        // palette swap all images to the corresponding palette from the new set
        await this.stateManager.makeChange(async (data) => {
            data.palettes = nextPalettes;
            data.fixedPalette = nextFixedPalette;
            const promises = data.layers.flatMap((layer) => {
                return layer.options.map(async (option) => {
                    const instance = await this.forkLayerOptionImage(option);

                    if (option.palette !== undefined) {
                        swapPaletteSafe(
                            instance, 
                            prevPalettes[option.palette], 
                            nextPalettes[option.palette],
                        );
                    } else {
                        swapPaletteSafe(
                            instance,
                            prevFixedPalette,
                            nextFixedPalette,
                        );
                    }
                });
            });

            return Promise.all(promises);
        });
    }

    async save() {
        // visual feedback that saving is occuring
        this.actions.save.disabled = true;
        const timer = sleep(250);

        // make bundle and save it
        const bundle = await this.stateManager.makeBundle();
        flickguy.storage.save(bundle, "slot0");
        
        // successful save, no unsaved changes
        this.unsavedChanges = false;

        // allow saving again when enough time has passed to see visual feedback
        await timer;
        this.actions.save.disabled = false;
    }

    enterPlayerMode() {
        this.editorMode = false;
        // used to show/hide elements in css
        document.documentElement.setAttribute("data-app-mode", "player");
        // normal browser cursor in player mode
        this.rendering.canvas.style.setProperty("cursor", "unset");

        this.render();
    }

    enterEditorMode() {
        this.editorMode = true;
        // used to show/hide elements in css
        document.documentElement.setAttribute("data-app-mode", "editor");
        // default to crosshair paint cursor in editor mode
        this.rendering.canvas.style.setProperty("cursor", "crosshair");

        this.render();

        // check if storage is available for saving
        this.actions.save.disabled = !flickguy.storage.available;
    }

    toggleHelp() {
        this.helpContainer.hidden = !this.helpContainer.hidden;
    }
}

flickguy.start = async function () {
    const editor = new flickguy.Editor();
    await editor.init();

    // setup play/edit buttons to switch between modes
    const play = ui.action("play", () => editor.enterPlayerMode());
    const edit = ui.action("edit", () => editor.enterEditorMode());

    // determine if there is a project bundle embedded in this page
    const bundle = maker.bundleFromHTML(document);

    if (bundle) {
        // embedded project, load it in the player
        await editor.loadBundle(bundle);
        editor.enterPlayerMode();
    } else {
        // no embedded project, start editor with save or editor embed
        const save = await flickguy.storage.load("slot0").catch(() => undefined);
        const bundle = save || maker.bundleFromHTML(document, "#editor-embed");
        
        // load bundle and enter editor mode
        await editor.loadBundle(bundle);
        editor.enterEditorMode();

        // unsaved changes warning
        window.addEventListener("beforeunload", (event) => {
            if (!editor.unsavedChanges) return;
            event.preventDefault();
            return event.returnValue = "Are you sure you want to exit?";
        });
    }

    // if there's an opener window, tell it we're open to messages (e.g message
    // telling us to load a bundle from the "update" button of another flickguy)
    if (window.opener) {
        const channel = new MessageChannel();
        channel.port1.onmessage = async (event) => {
            if (event.data.bundle) {
                return editor.loadBundle(event.data.bundle);
            }
        };
        window.opener.postMessage({ port: channel.port2 }, "*", [channel.port2]);
    }

    flickguy.editor = editor;
}

    </script>
    <!-- styles-->
    <style id="base-style">
/* prevent weird highlights https://stackoverflow.com/questions/21003535/ */
.no-select {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* hidden elements should be hidden regardless of their display style */
[hidden] { display: none !important; }

/* default to width/height including padding and border */
* { box-sizing: border-box; }

/* used dynamically to prevent or cancel smooth transitions */
.skip-transition { transition: none !important; }

/* make buttons and select inherit font */ 
button, select { font-family: inherit; font-size: inherit; }

/* clickable things should use this cursor imo */
button, a, input[type="radio"],  input[type="checkbox"], select, option, label { cursor: pointer; }

/* crisp pixelart */
canvas, img {
    image-rendering: -moz-crisp-edges;
    image-rendering: -webkit-crisp-edges;
    image-rendering: pixelated;
    image-rendering: crisp-edges;
}

/* prevent pull down to refresh page (and lose data rip) */
body {
    overscroll-behavior-y: contain;
}

    </style>
    <style id="main-style">:root {
    --button-color: #ffd800;

    /** diagonal stripes for showing clearly transparent pixels of the paint area */
    --trans-color-1: rgb(32, 32, 32);
    --trans-color-2: rgb(48, 48, 48);
    --trans-gradient: repeating-linear-gradient( -45deg, var(--trans-color-1), var(--trans-color-1) .5em, var(--trans-color-2) .5em, var(--trans-color-2) 1em );

    font-family: sans-serif;
}

html, body {
    margin: 0; padding: 0;
    min-height: 100vh;

    overflow: hidden auto;
    overscroll-behavior-y: contain;
}

body {
    display: flex; flex-direction: column;
    justify-content: center;
    align-items: center;

    background: black;
    color: white;
}

#editor {
    display: flex; flex-direction: column;
    justify-content: center;
    align-items: center;
}

html:not([data-remix-generation="0"]) [data-original-only] {
    display: none !important;
}

html[data-remix-generation="0"] [data-remix-only] {
    display: none !important;
}

#editor main {
    padding: 1em;
    background: #367b6b;
    border-radius: 2em;
    gap: 1em;
}

@media (max-width: 650px) {
    #editor main {
        width: 100vw;
    }
}

h1, h2, h3, h4, h5, h6 {
    margin: 0;
}

#help {
    font-family: monospace;
    font-size: large;

    padding: 1em;

    overflow: hidden scroll;
}

#help, #help > section {
    display: flex;
    flex-direction: column;
    gap: 1em;
}

#help [name="help"] {
    position: absolute;
    top: 1em; right: 1em;

    padding: 0 1em;
    height: 32px;
}

#help p {
    margin: 0;
}

#help a {
    color: var(--button-color);
}

#help a:hover {
    color: white;
}

#help a:visited {
    color: gray;
}

#help ul {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    margin: 0 1em;
    padding: 0;
    gap: .5em 1em;
    list-style: none;

    align-content: center;
}

#tool-select input[type="radio"]:checked + img {
    filter: invert();
}

#color-select input[type="radio"]:checked {
    background: none;
    z-index: 5;

    animation-name: selection-flash;
    animation-direction: alternate;
    animation-duration: 2s;
    animation-iteration-count: infinite;
}

#viewport {
    position: relative;
    display: flex; flex-direction: column;
    border-radius: 1em;

    background: var(--trans-gradient);
    padding: .65em;

    justify-content: center;
    align-items: center;

    overflow: hidden;
}

#help {
    position: absolute;
    left: 0; top: 0;
    width: 100%; height: 100%;
    color: white;
    background-color: #000000DD;
    /* border-radius: 1em; */

    display: flex;
    flex-direction: column;
    padding: 1em;
    overflow: auto;
}

#renderer {
    width: 640px;
    height: 400px;
    background: magenta;

    touch-action: none;
}

.button-row {
    display: flex;
    flex-direction: row;
    gap: 1em;
}

button {
    flex: 1;
    flex-direction: column;
    white-space: nowrap;

    border: none;
    border-radius: 1em;
    background-color: var(--button-color);

    font-weight: bold;

    display: flex;
    justify-content: center;
    align-items: center;

    padding: .25em;
}

button:active {
    filter: invert();
}

button:disabled {
    opacity: .5;
    cursor: not-allowed;
}

.radio-select label {
    position: relative;

    margin: 0;
    appearance: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    background-color: var(--button-color);

    min-height: 3em;
}

.radio-select input[type="radio"] {
    margin: 0;
    appearance: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    border-radius: inherit;

    position: absolute;
    width: 100%; height: 100%;
}

.radio-select label img, .radio-select label svg, button img, button svg {
    pointer-events: none;
    width: 32px; height: 32px;
}

.radio-select label img, .radio-select label svg {
    position: absolute;
    left: 50%; top: 50%;
    transform: translate(-50%, -50%);
}

.radio-select input[type="radio"]:checked {
    border: none;
    background: blue;
}

.radio-select img {
    filter: brightness(0);
}

.radio-select svg {
    color: black;
}

.radio-select input[type="radio"]:checked + svg {
    color: white;
}

.radio-select input[type="radio"]:checked + img {
    filter: none;
}

@keyframes selection-flash {
    0%   { box-shadow: 0 0 0 .5em black; }
    100% { box-shadow: 0 0 0 .5em white; }
}

.horizontal-capsule > *, .vertical-capsule > * {
    flex: 1;
}

.horizontal-capsule {
    display: flex;
    flex-direction: row;
}

.vertical-capsule {
    display: flex;
    flex-direction: column;
}

.horizontal-capsule > :first-child {
    border-radius: 1em 0 0 1em;
}

.horizontal-capsule > :last-child {
    border-radius: 0 1em 1em 0;
}

.vertical-capsule > :first-child {
    border-radius: 1em 1em 0 0;
}

.vertical-capsule > :last-child {
    border-radius: 0 0 1em 1em;
}

:focus {
    outline: thick solid white;
    z-index: 5;
}
:focus:not(:focus-visible) { 
    outline: unset 
}

:focus + * {
    z-index: 5;
}

.hanging-menu {
    display: flex;
    flex-direction: row;
    gap: 1em;

    height: 32px;
}

.hanging-menu > * {
    background-color: var(--button-color);

    font-weight: bold;
    padding-left: 1em;
    padding-right: 1em;

    border: none;
    border-radius: 0 0 1em 1em;

    display: flex;
    justify-content: center;
    align-items: center;
}

.grid4 {
    display: grid;
    grid-template-columns: repeat(4, auto);
}

.grid8 {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
}

.grid4 label { border-radius: 0; }
.grid4 label:nth-child(1) { border-top-left-radius: 1em; }
.grid4 label:nth-child(4) { border-top-right-radius: 1em; }
.grid4 label:nth-last-child(4) { border-bottom-left-radius: 1em; }
.grid4 label:nth-last-child(1) { border-bottom-right-radius: 1em; }

.grid8 label { border-radius: 0; }
.grid8 label:nth-child(1) { border-top-left-radius: 1em; }
.grid8 label:nth-child(8) { border-top-right-radius: 1em; }
.grid8 label:nth-last-child(8) { border-bottom-left-radius: 1em; }
.grid8 label:nth-last-child(1) { border-bottom-right-radius: 1em; }

.grid8 label :not(input) { border-radius: inherit; }

    </style>
    <style>:root[data-app-mode="editor"] [data-hidden-in-editor] {
    display: none !important;
    visibility: hidden;
}

:root[data-app-mode="player"] [data-hidden-in-player] {
    display: none !important;
    visibility: hidden;
}

body {
    background-image: linear-gradient(rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.75)), url("https://kool.tools/flickguy/background.png");
    background-position: center; 
}

#editor {
    max-width: 100vw;
    overflow: hidden auto;
}

#editor main {
    display: flex;
    flex-direction: column;
    gap: 1em;
}

#viewport {
    padding: 0;
    background: black;
}

#renderer {
    max-width: 100%;
    width: 512px;
    height: auto;

    background: var(--trans-gradient);
}

#stack-layers {
    position: absolute;
    top: 1em; right: 1em;
    width: 60px;
    height: 48px;

    margin: 0;
    background-color: var(--button-color);

    border-radius: 1em;

    opacity: 50%;
}

#stack-layers input {
    appearance: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    margin: 0;
    border-radius: inherit;

    position: absolute;
    width: 100%; height: 100%;
}

#stack-layers input + svg {
    color: black;

    pointer-events: none;
    width: 32px; height: 32px;

    position: absolute;
    left: 50%; top: 50%;
    transform: translate(-50%, -50%);
}

#stack-layers input:checked {
    background: blue;
}

#stack-layers input:checked + svg {
    color: white;
}

#layer-select {
    gap: 2px;
    flex: 1;
}

#layer-select label {
    background-color: var(--button-color);
}

#layer-select *:checked + :not(input) {
    background: blue;
}

#layer-select label :not(input) {
    filter: invert();
}

#layer-select label *:checked + :not(input) {
    filter: none;
}

#layer-select label :not(input) {
    width: 100%; height: 100%;
    position: absolute;
    border-radius: inherit;
    object-fit: contain;
}

#option-select label :not(input) {
    width: 100%; height: 100%;
    position: absolute;
    border-radius: inherit;
    object-fit: contain;

    image-rendering: auto;
}

#option-select *:checked + :not(input) {
    background: blue;
}

#option-select label :not(input) {
    filter: brightness(0);
}

#option-select label *:checked + :not(input) {
    filter: none;
}

#palette-select label :not(input) {
    position: absolute;
    border-radius: none;

    position: absolute;
    left: 50%; top: 50%;
    transform: translate(-50%, -50%);
}

#middle {
    display: flex;
    flex-direction: row;
    gap: 1em;
}

#layer-options {
    display: flex;
    flex-direction: row;
    gap: 1em;
    align-items: stretch;
}

#option-select {
    grid-area: option;
    flex: 1;
    gap: 2px;
}

#palette-select {
    grid-area: palette;
    flex: 1;
}

.fixed-palette #palette-select {
    display: none;
}

#palette-select input[type="radio"]:checked {
    background: blue;
}

#layer-select label {
    min-width: 64px;
}

#tools {
    display: grid;
    gap: 1em;
}

:root[data-app-mode="editor"] #tools {
    grid-template-areas:
        "option palette"
        "tool   color  "
        "brush  color  "
        "bar    bar    ";
}

:root[data-app-mode="player"] #tools {
    grid-template-areas:
        "option palette";
}

:root[data-app-mode="editor"] #tools.fixed-palette {
    grid-template-areas:
        "option color  "
        "tool   color  "
        "brush  color  "
        "bar    bar    ";
}

#tool-select {
    grid-area: tool;

    display: flex;
    flex-direction: row;
}

#brush-select {
    grid-area: brush;
}

#color-select {
    grid-area: color;
}

#tools:not(.fixed-palette) #color-select > :nth-last-child(-n+8) {
    display: none;
}

#tools:not(.fixed-palette) #color-select > :nth-child(5) { border-bottom-left-radius: 1em; }
#tools:not(.fixed-palette) #color-select > :nth-child(8) { border-bottom-right-radius: 1em; }

#toolbar {
    grid-area: bar;
}

#layer-select > :nth-child(2) {
    border-radius: 1em 1em 0 0;
}

#layer-select > :nth-last-child(2) {
    border-radius: 0 0 1em 1em;
}

#layer-select > button {
    border-radius: 1em;
}

#layer-select > :first-child {
    margin-bottom: .5em;
}

#layer-select > :last-child {
    margin-top: .5em;
}

.vertical-capsule > :first-child[hidden] + * {
    border-radius: 1em 1em 0 0;
}

.vertical-capsule > :first-child[hidden] ~ :nth-last-child(2) {
    border-radius: 0 0 1em 1em;
}

#fixed-palette {
    flex: 1;
    flex-direction: column;
    white-space: nowrap;
    border: none;
    border-radius: 1em;
    background-color: var(--button-color);
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: .25em;

    position: relative;
}

#fixed-palette input {
    appearance: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    margin: 0;
    border-radius: inherit;

    position: absolute;
    width: 100%; height: 100%;
}

#fixed-palette input + svg {
    color: black;

    pointer-events: none;
    width: 32px; height: 32px;

    position: absolute;
    left: 50%; top: 50%;
    transform: translate(-50%, -50%);
}

#fixed-palette input:checked {
    background: blue;
}

#fixed-palette input:checked + svg {
    color: white;
}

    </style>
  </head>
  <body onload="flickguy.start()">
    <noscript>
      <h1>this tool requires javascript</h1>
      <p>this is an interactive tool for drawing little guys and requires javascript to function correctly. if javascript is not available <a href="https://kool.tools/blog/flickgame-study.html">you can read about it instead</a></p>
    </noscript>
    <div id="editor">
      <main>
        <section id="middle">
          <div class="vertical-capsule radio-select" id="layer-select">
            <button name="layer-up" title="shift layer up" data-hidden-in-player><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-layer-forward" viewBox="0 0 16 16"><path d="M8.354.146a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 0 .708l1 1a.5.5 0 0 0 .708 0L7 4.207V12H1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9V4.207l.646.647a.5.5 0 0 0 .708 0l1-1a.5.5 0 0 0 0-.708l-3-3z"/><path d="M1 7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5a.5.5 0 0 0 0-1H1V8h4.5a.5.5 0 0 0 0-1H1zm9.5 0a.5.5 0 0 0 0 1H15v2h-4.5a.5.5 0 0 0 0 1H15a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-4.5z"/></svg></button>
            <label>
              <input type="radio" name="layer-select" value="0" title="open layer 0">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="layer-select" value="1" title="open layer 1">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="layer-select" value="2" title="open layer 2">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="layer-select" value="3" title="open layer 3">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="layer-select" value="4" title="open layer 4">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="layer-select" value="5" title="open layer 5">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="layer-select" value="6" title="open layer 6">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="layer-select" value="7" title="open layer 7">
              <canvas width="1" height="1"></canvas>
            </label>
            <button name="layer-down" title="shift layer down" data-hidden-in-player><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-layer-backward" viewBox="0 0 16 16"><path d="M8.354 15.854a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708l1-1a.5.5 0 0 1 .708 0l.646.647V4H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H9v7.793l.646-.647a.5.5 0 0 1 .708 0l1 1a.5.5 0 0 1 0 .708l-3 3z"/><path d="M1 9a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h4.5a.5.5 0 0 1 0 1H1v2h4.5a.5.5 0 0 1 0 1H1zm9.5 0a.5.5 0 0 1 0-1H15V6h-4.5a.5.5 0 0 1 0-1H15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4.5z"/></svg></button>
          </div>
          <div id="viewport">
            <canvas id="renderer" width="128" height="128" draggable="false"></canvas>
            <label id="stack-layers" data-hidden-in-player>
              <input type="checkbox" name="stack-layers" title="show selected options for every layer at once"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stack" viewBox="0 0 16 16"><path d="m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.598.598 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.598.598 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.598.598 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535L7.733.063z"/><path d="m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.598.598 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.659z"/></svg>
            </label>
            <div id="help" hidden data-hidden-in-player>
              <button id="close-help" name="help" title="hide help">close</button>version 2 (22/6/2021)
              <section data-remix-only><h1>remix</h1>
<p>you are remixing a flickguy in an editor that is cloned from the original and may be out of date</p>
<p>if you're intending to make your own flickguy consider clicking the &quot;update&quot; button to reopen your data in the latest online version of this editor--this will help reduce the proliferaton of bugs</p>
<p>additionally the save feature is disabled in remixes to avoid a user's browser saves being scattered over many sites</p>
<p>if you are modding the flickguy editor itself, or simply wish to enable the features hidden in remixes, you can edit the html to reset the &quot;data-remix-generation&quot; to &quot;0&quot; and change the &quot;data-editor-live&quot; to point to your modded version (this is what the &quot;update&quot; button uses)</p>

              </section>
              <section><h1>flickguy</h1>
<p>i'm candle and this is my take on a low-effort picrew inspired by stephen lavelle's <a href="http://flickgame.org">flickgame</a> tool</p>
<p>i made this tool to help iron out a web tool template i'm working on, <a href="https://kool.tools/blog/flickgame-study.html">read more about it on my website</a></p>
<h2>format</h2>
<p>a flickguy is a tool for making little guys by compositing layers. each layer
has a selection of image options and those images can optionally be palette
swapped for color variations</p>
<p>this is a tool or creating flickguys by painting 8 image options for 8 layers. the exported flickguy also allows the user to &quot;remix&quot; it to either make bespoke
adjustments to their guy or make a whole new derivative flickguy to let others use</p>
<h2>hotkeys</h2>
<ul>
<li><strong>ctrl+z</strong>: undo</li>
<li><strong>ctrl+y</strong>: redo</li>
<li><strong>ctrl+c</strong>: copy image</li>
<li><strong>ctrl+v</strong>: paste image</li>
<li><strong>qwer</strong>: change tool</li>
<li><strong>asdf</strong>: change brush</li>
<li><strong>ctrl+,</strong>: randomise options</li>
<li><strong>ctrl+.</strong>: randomise colors</li>
<li><strong>alt+click</strong>: pick color</li>
</ul>
<h2>credits</h2>
<p>thanks to <a href="https://twitter.com/netgal_emi">em</a>, <a href="https://twitter.com/SeanSLeBlanc">sean</a>, <a href="https://twitter.com/jazzmickle">jazz</a> for testing and advice</p>
<p>palettes sampled from <a href="https://lospec.com/palette-list/bubblegum-16">BUBBLEGUM 16</a> by <a href="https://twitter.com/PineTreePizza">pine</a></p>
<p>icons from <a href="https://icons.getbootstrap.com/">bootstrap</a></p>

              </section>
              <h2>extra</h2>
              <p>you made it to the end so here's an extra feature that didn't fit in the ui:</p>
              <div class="button-row">
                <button name="export-palettes" title="export palettes as image">export palettes</button>
                <button name="import-palettes" title="import palettes from image">import palettes</button>
              </div>
            </div>
          </div>
        </section>
        <section id="tools">
          <div class="grid4 radio-select" id="option-select">
            <label>
              <input type="radio" name="option-select" value="0" title="open option 0">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="option-select" value="1" title="open option 1">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="option-select" value="2" title="open option 2">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="option-select" value="3" title="open option 3">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="option-select" value="4" title="open option 4">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="option-select" value="5" title="open option 5">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="option-select" value="6" title="open option 6">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="option-select" value="7" title="open option 7">
              <canvas width="1" height="1"></canvas>
            </label>
          </div>
          <div class="grid4 radio-select" id="palette-select" title="palettes">
            <label>
              <input type="radio" name="palette-select" value="0" title="select palette 0">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="palette-select" value="1" title="select palette 1">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="palette-select" value="2" title="select palette 2">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="palette-select" value="3" title="select palette 3">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="palette-select" value="4" title="select palette 4">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="palette-select" value="5" title="select palette 5">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="palette-select" value="6" title="select palette 6">
              <canvas width="1" height="1"></canvas>
            </label>
            <label>
              <input type="radio" name="palette-select" value="7" title="select palette 7">
              <canvas width="1" height="1"></canvas>
            </label>
          </div>
          <div class="horizontal-capsule radio-select" id="tool-select" title="tools" data-hidden-in-player>
            <label>
              <input type="radio" name="tool-select" value="freehand" title="freehand paint"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-brush" viewBox="0 0 16 16"><path d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z"/></svg>
            </label>
            <label>
              <input type="radio" name="tool-select" value="line" title="line paint"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-slash-lg" viewBox="0 0 16 16"><path d="M14.707 1.293a1 1 0 0 1 0 1.414l-12 12a1 1 0 0 1-1.414-1.414l12-12a1 1 0 0 1 1.414 0z"/></svg>
            </label>
            <label>
              <input type="radio" name="tool-select" value="fill" title="flood fill"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-paint-bucket" viewBox="0 0 16 16"><path d="M6.192 2.78c-.458-.677-.927-1.248-1.35-1.643a2.972 2.972 0 0 0-.71-.515c-.217-.104-.56-.205-.882-.02-.367.213-.427.63-.43.896-.003.304.064.664.173 1.044.196.687.556 1.528 1.035 2.402L.752 8.22c-.277.277-.269.656-.218.918.055.283.187.593.36.903.348.627.92 1.361 1.626 2.068.707.707 1.441 1.278 2.068 1.626.31.173.62.305.903.36.262.05.64.059.918-.218l5.615-5.615c.118.257.092.512.05.939-.03.292-.068.665-.073 1.176v.123h.003a1 1 0 0 0 1.993 0H14v-.057a1.01 1.01 0 0 0-.004-.117c-.055-1.25-.7-2.738-1.86-3.494a4.322 4.322 0 0 0-.211-.434c-.349-.626-.92-1.36-1.627-2.067-.707-.707-1.441-1.279-2.068-1.627-.31-.172-.62-.304-.903-.36-.262-.05-.64-.058-.918.219l-.217.216zM4.16 1.867c.381.356.844.922 1.311 1.632l-.704.705c-.382-.727-.66-1.402-.813-1.938a3.283 3.283 0 0 1-.131-.673c.091.061.204.15.337.274zm.394 3.965c.54.852 1.107 1.567 1.607 2.033a.5.5 0 1 0 .682-.732c-.453-.422-1.017-1.136-1.564-2.027l1.088-1.088c.054.12.115.243.183.365.349.627.92 1.361 1.627 2.068.706.707 1.44 1.278 2.068 1.626.122.068.244.13.365.183l-4.861 4.862a.571.571 0 0 1-.068-.01c-.137-.027-.342-.104-.608-.252-.524-.292-1.186-.8-1.846-1.46-.66-.66-1.168-1.32-1.46-1.846-.147-.265-.225-.47-.251-.607a.573.573 0 0 1-.01-.068l3.048-3.047zm2.87-1.935a2.44 2.44 0 0 1-.241-.561c.135.033.324.11.562.241.524.292 1.186.8 1.846 1.46.45.45.83.901 1.118 1.31a3.497 3.497 0 0 0-1.066.091 11.27 11.27 0 0 1-.76-.694c-.66-.66-1.167-1.322-1.458-1.847z"/></svg>
            </label>
            <label>
              <input type="radio" name="tool-select" value="pick" title="pick color"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16"><path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"/></svg>
            </label>
            <label>
              <input type="radio" name="tool-select" value="shift" title="shift image"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrows-move" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"/></svg>
            </label>
          </div>
          <div class="horizontal-capsule radio-select" id="brush-select" title="brushes" data-hidden-in-player>
            <label>
              <input type="radio" name="brush-select" value="0"><img>
            </label>
            <label>
              <input type="radio" name="brush-select" value="1"><img>
            </label>
            <label>
              <input type="radio" name="brush-select" value="2"><img>
            </label>
            <label>
              <input type="radio" name="brush-select" value="3"><img>
            </label>
          </div>
          <div class="grid4 radio-select" id="color-select" title="colors" data-hidden-in-player>
            <label>
              <input type="radio" name="color-select" value="0" title="select color 0">
            </label>
            <label>
              <input type="radio" name="color-select" value="1" title="select color 1">
            </label>
            <label>
              <input type="radio" name="color-select" value="2" title="select color 2">
            </label>
            <label>
              <input type="radio" name="color-select" value="3" title="select color 3">
            </label>
            <label>
              <input type="radio" name="color-select" value="4" title="select color 4">
            </label>
            <label>
              <input type="radio" name="color-select" value="5" title="select color 5">
            </label>
            <label>
              <input type="radio" name="color-select" value="6" title="select color 6">
            </label>
            <label>
              <input type="radio" name="color-select" value="7" title="select color 7">
            </label>
            <label>
              <input type="radio" name="color-select" value="8" title="select color 8">
            </label>
            <label>
              <input type="radio" name="color-select" value="9" title="select color 9">
            </label>
            <label>
              <input type="radio" name="color-select" value="10" title="select color 10">
            </label>
            <label>
              <input type="radio" name="color-select" value="11" title="select color 11">
            </label>
            <label>
              <input type="radio" name="color-select" value="12" title="select color 12">
            </label>
            <label>
              <input type="radio" name="color-select" value="13" title="select color 13">
            </label>
            <label>
              <input type="radio" name="color-select" value="14" title="select color 14">
            </label>
            <label>
              <input type="radio" name="color-select" value="15" title="select color 15">
            </label>
          </div>
          <div class="button-row" id="toolbar" title="toolbar" data-hidden-in-player>
            <button name="undo" title="undo"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/><path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/></svg></button>
            <button name="redo" title="redo"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/></svg></button>
            <button name="copy" title="copy image"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16"><path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"/></svg></button>
            <button name="paste" title="paste image"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-data" viewBox="0 0 16 16"><path d="M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V7zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0V9z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/></svg></button>
            <button name="clear" title="clear image"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/><path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/></svg></button>
            <button name="randomise" title="randomise selections"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dice-5" viewBox="0 0 16 16"><path d="M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h10zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z"/><path d="M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/></svg></button>
            <label id="fixed-palette">
              <input type="checkbox" name="fixed-palette" title="lock this option to a single large palette"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-palette" viewBox="0 0 16 16"><path d="M8 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM5.5 7a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/><path d="M16 8c0 3.15-1.866 2.585-3.567 2.07C11.42 9.763 10.465 9.473 10 10c-.603.683-.475 1.819-.351 2.92C9.826 14.495 9.996 16 8 16a8 8 0 1 1 8-8zm-8 7c.611 0 .654-.171.655-.176.078-.146.124-.464.07-1.119-.014-.168-.037-.37-.061-.591-.052-.464-.112-1.005-.118-1.462-.01-.707.083-1.61.704-2.314.369-.417.845-.578 1.272-.618.404-.038.812.026 1.16.104.343.077.702.186 1.025.284l.028.008c.346.105.658.199.953.266.653.148.904.083.991.024C14.717 9.38 15 9.161 15 8a7 7 0 1 0-7 7z"/></svg>
            </label>
          </div>
        </section>
      </main>
      <div class="hanging-menu" data-hidden-in-player>
        <button name="play" title="playtest this flickguy">play</button>
        <button name="save" title="save to browser" data-original-only>save</button>
        <button name="export" title="export as webpage">export</button>
        <button name="update" title="open this flickguy in the latest version" data-remix-only>update</button>
        <button name="import" title="import from webpage" data-original-only>import</button>
        <button name="reset" title="reset to blank">reset</button>
        <button name="help" title="how to use this tool">help</button>
      </div>
      <div class="hanging-menu" data-hidden-in-editor>
        <button name="edit" title="remix this flickguy">remix</button>
        <button name="randomise" title="randomise selections">randomise</button>
        <button name="export-image" title="download as image">save image</button>
        <div><a href="https://kool.tools" target="_new">kool.tools</a></div>
      </div>
    </div>
    <script id="bundle-embed" type="application/json"></script>
    <script id="editor-embed" type="application/json" data-editor-only>{"project":{"palettes":[["#000000","#94216a","#ff2674","#ff80a4","#34111f","#73392e","#c76e46","#ffb762"],["#000000","#d62411","#ff8426","#ffd100","#73392e","#c76e46","#eb9c6e","#ffdaac"],["#000000","#007899","#10d275","#bfff3c","#430067","#94216a","#ff2674","#ff80a4"],["#000000","#94216a","#ff2674","#ff80a4","#002859","#007899","#10d275","#bfff3c"],["#000000","#d62411","#ff8426","#ffd100","#1b1023","#002859","#007899","#68aed4"],["#000000","#002859","#007899","#68aed4","#430067","#94216a","#ff2674","#ff80a4"],["#000000","#007899","#10d275","#bfff3c","#7f0622","#d62411","#ff8426","#ffd100"],["#000000","#002859","#007899","#68aed4","#7f0622","#d62411","#ff8426","#ffd100"]],"layers":[{"options":[{"image":"1","palette":6},{"image":"1272","palette":4},{"image":"1255","palette":6},{"image":"1141","palette":2},{"image":"1299","palette":4},{"image":"1220","palette":4},{"image":"1203","palette":4},{"image":"1281","palette":5}]},{"options":[{"image":"1168","palette":7},{"image":"1282","palette":4},{"image":"1300","palette":3},{"image":"1265","palette":5},{"image":"1256","palette":5},{"image":"1273","palette":6},{"image":"1291","palette":5},{"image":"1160","palette":5}]},{"options":[{"image":"1292","palette":5},{"image":"1266","palette":6},{"image":"1257","palette":3},{"image":"1214","palette":5},{"image":"1178","palette":7},{"image":"1230","palette":0},{"image":"1283","palette":5},{"image":"1301","palette":0}]},{"options":[{"image":"1231","palette":6},{"image":"1275","palette":0},{"image":"1258","palette":3},{"image":"1293","palette":5},{"image":"1117","palette":0},{"image":"1284","palette":1},{"image":"1144","palette":4},{"image":"1308","palette":6}]},{"options":[{"image":"1289","palette":7},{"image":"1263","palette":2},{"image":"1245","palette":0},{"image":"1202","palette":5},{"image":"1184","palette":3},{"image":"1280","palette":1},{"image":"1298","palette":1},{"image":"1309","palette":3}]},{"options":[{"image":"1295","palette":6},{"image":"1260","palette":3},{"image":"1119","palette":2},{"image":"1277","palette":7},{"image":"1233","palette":7},{"image":"1181","palette":3},{"image":"1190","palette":1},{"image":"1304","palette":4}]},{"options":[{"image":"1076","palette":7},{"image":"1278","palette":7},{"image":"1234","palette":0},{"image":"1226","palette":5},{"image":"1270","palette":7},{"image":"1305","palette":2},{"image":"1287","palette":4},{"image":"1209","palette":4}]},{"options":[{"image":"1201","palette":2},{"image":"1139","palette":6},{"image":"1279","palette":7},{"image":"1253","palette":6},{"image":"1306","palette":5},{"image":"1244","palette":5},{"image":"1262","palette":0},{"image":"1297","palette":3}]}]},"resources":{"1":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADhUlEQVR4Xu2bMXITQRQFrRsQcQQyyKniEhyGCEIyDuMjQEYOGafgBqKWwoUsS2tp3YF7pp1KevX2vZ75sytrd9Pf1Anspr76Lv4mAM5A8OLHh/3xS7/ffBkur+Eu6NpFfaroNY3RIJgWgKX429ffH3T9/ufbVYYC4Nol9gzff678O6trEATAMyz0Wktf9+8ezPdDjQC4NlHZ+wPgf2FTngHWRkBnANlq3mJ3bQcIgC2Jyj4TAJOPgK0AjHYHsGAw5RngHACzbf9TArB19S9htQPIZv0puwFwP5XpRsBWAEZc/Y2Aoy1ipieAd5feDnAAQQAMMOMfu4QtI2DU7b8RMPnqD4AAmO9B0JaHQI2Axwar6PUA6DnAyX8GOXcHMPLq7wxwwRkgAETb+yVWrx0BAXBJqqL3BEBngM4ABwz0KPhfGB0CRdv4U6w2AiYfAfvPr/bfPr68l8KMXwJN+23gcuELBH/vgT/92q39NnD0O4ApnwMcj48AeMpAHeSzs/wU/FRd090FDMIsdhkBgEXpFAoAZ2+Y6wDAonQKBYCzN8x1AGBROoUCwNkb5joAsCidQgHg7A1zHQBYlE6hAHD2hrkOACxKp1AAOHvDXAcAFqVTKACcvWGuAwCL0ikUAM7eMNcBgEXpFAoAZ2+Y6wDAonQKBYCzN8x1AGBROoUCwNkb5joAsCidQgHg7A1zHQBYlE6hAHD2hrkOACxKp1AAOHvDXAcAFqVTKACcvWGuAwCL0ikUAM7eMNcBgEXpFAoAZ2+Y6wDAonQKBYCzN8x1AGBROoUCwNkb5joAsCidQgHg7A1zHQBYlE6hAHD2hrkOACxKp1AAOHvDXAcAFqVTKACcvWGuAwCL0ikUAM7eMNcBgEXpFAoAZ2+Y6wDAonQKBYCzN8x1AGBROoUCwNkb5joAsCidQgHg7A1zHQBYlE6hAHD2hrkOACxKp1AAOHvDXAcAFqVTKACcvWGuAwCL0ikUAM7eMNcBgEXpFAoAZ2+Y6wDAonQKBYCzN8x1AGBROoUCwNkb5joAsCidQgHg7A1zHQBYlE6hAHD2hrkOACxKp1AAOHvDXAcAFqVTKACcvWGuAwCL0ikUAM7eMNcBgEXpFAoAZ2+Y6wDAonQKBYCzN8x1AGBROoUCwNkb5joAsCidQgHg7A1zHQBYlE6hAHD2hrkOACxKp1AAOHvDXAcAFqVT6A9eRr6BMAuj6AAAAABJRU5ErkJggg=="},"1076":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1117":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAACoklEQVR4Xu2XYWoCYRTE3Hv2MB6m97QIFUR0vwWR4Ev618o4k/jU7dSfeoFN3b7ypwSQS5AACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9bsACSBfQF6/C5AA8gXk9XUX4HL+vTxjvp1/dFtcd1CUfgX9yJt/uhijBHgH9J4MkyUYI8Cn4N/EmCqBVoAb0KPiJMCRD0z4f1Yw9yDuPXcq/L4E/gs7GfDqPTnmI+Cx6OoaLIeR/CwcKcC78Kd/8buXf6QA14L3EqxO/DNhVs9ZXZBveXysAN8CgH6dCUATgPMTAAZAxycATQDOTwAYAB2fADQBOD8BYAB0fALQBOD8BIAB0PEJQBOA8xMABkDHJwBNAM5PABgAHZ8ANAE4PwFgAHR8AtAE4PwEgAHQ8QlAE4DzEwAGQMcnAE0Azk8AGAAdnwA0ATg/AWAAdHwC0ATg/ASAAdDxCUATgPMTAAZAxycATQDOTwAYAB2fADQBOD8BYAB0fALQBOD8BIAB0PEJQBOA8xMABkDHJwBNAM5PABgAHZ8ANAE4PwFgAHR8AtAE4PwEgAHQ8QlAE4DzEwAGQMcnAE0Azk8AGAAdnwA0ATg/AWAAdHwC0ATg/ASAAdDxCUATgPMTAAZAx/8BCII0gZ4JiDgAAAAASUVORK5CYII="},"1119":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1139":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1141":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAE6klEQVR4Xu2czY0UMRCFZ0UkmwZXIiACjkhAOIDEkQiIgCtpbCQI5EGWjNWetvvn+c3Ut6fdnm5X+b3PZbe7Z58u/IRW4Cl07+n8BQCCQwAAABBcgeDdpwIAQHAFgnefCgAAwRUI3n0qAAAEVyB496kAABBcgeDdpwIAQHAFgnefCgAAwRUI3n0qAAAEVyB490NUgM/PH/7s8fnTy9eH1enhOjZi9sd3ry9fvv+6ycbSOT9efl+v+Xn59vTm8v4KV/o9N5SOlX/vge/sax8CgNr0ZFr6aZm79nkpeguSBMHb51fXU9PvAHA2qlX7t0b6rZE9+lkvAAmGcqq4lypwdxWgp8SPmpzZWrquB4BcBXJFWKoK4vHRHe6uAOgxP/V8CwCta7YCUELhvIi8GwCW5vlbc/zoZ3sBaFWBsio4gmAJQGl2Em3E/FsV4MjKUC4Cc72tj+W/6+NOINgB0FPm127fRkfzlvZaZpeTb32nkD5zqwhWAPSYv3WOb123Zn7rujUAeipEhmVmRbAGYHQkr8GxtDTeCkDd1hoQ9RrBZVp4KAB6zOy+P6pOHGl7afS7LhLvDoARI7aavfe6XgCWoFBPBwCw1+3q+vycoFzste4SWlUhHVc9SwCAgwG41VzvwrB+tnBmijYALN0BjGzNninSUW0DwA0lewE4yowZ7YwAoNovsKgAW5/szTBxT8ytAKSYZy0OpwGQTV/a6i1FvodVfw8UvXcGrfMeCoDeHb8tGzs9Zjid07OBdJb5SYcpFWD04Y6TYUfm0jslhAAgC7v2jt6RBsxuqweAM823qQDZiEeZ73vBml3+pwGQAke47VvbFEqf16+RlcfOHv0A0DtURefV28ihAIhW/mumlt4eAgDRyHMIExoARv//XzLJ64IwFQAAAGD1O3oOZfqMHOoXR1UPgXJfpuwE1reBkSsAAKx8k+eMUefY5qyXRKkABjQsvUamWADabAQxBfz7mnn+UZk/FYByHRAVgNazgHAAGFThKSkAwM7/3TPFtQODhgeg9VSwpfEZpXHk7aQDvb/+W5n6uwP52Bn9bOU+7S6glVD91fAjRe9pawYQM54CTt8I6jHD4RwFEGU1UI7+6XcBDgaP5nA0EDPNB4BR9xfO3wrEzM2fsht2a4ADPJnaxFYg1KWfNYAIkx4gZpnPFCCCwDkMU4CzO4LcAEAgsnMIAHB2R5AbAAhEdg4BAM7uCHIDAIHIziEAwNkdQW4AIBDZOQQAOLsjyA0ABCI7hwAAZ3cEuQGAQGTnEADg7I4gNwAQiOwcAgCc3RHkBgACkZ1DAICzO4LcAEAgsnMIAHB2R5AbAAhEdg4BAM7uCHIDAIHIziEAwNkdQW4AIBDZOQQAOLsjyA0ABCI7hwAAZ3cEuQGAQGTnEADg7I4gNwAQiOwcAgCc3RHkBgACkZ1DAICzO4LcAEAgsnMIAHB2R5AbAAhEdg4BAM7uCHIDAIHIziEAwNkdQW4AIBDZOQQAOLsjyA0ABCI7hwAAZ3cEuQGAQGTnEADg7I4gNwAQiOwcAgCc3RHkBgACkZ1DAICzO4LcAEAgsnMIAHB2R5AbAAhEdg4BAM7uCHIDAIHIziEAwNkdQW4AIBDZOQQAOLsjyA0ABCI7hwAAZ3cEuQGAQGTnEADg7I4gNwAQiOwcAgCc3RHkBgACkZ1D/AVKeLif9Wsm8gAAAABJRU5ErkJggg=="},"1144":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAC8ElEQVR4Xu2YsU3DABREnRFAlHQMwAhUTMC4VIxARUVHiVghCCRLwdjJybIUuPeoPyH37uVisRv8QRPYodMbflAAuAQKoABwAvD4LoACwAnA47sACgAnAI/vAigAnAA8vgugAHAC8PgugALACcDjuwAKACcAj+8CKACcADy+C6AAcALw+C6AAsAJwOO7AAoAJwCP7wIoAJwAPL4LoABwAvD4LoACwAnA47sACgAnAI/vAigAnAA8vgugAHAC8PgugALACcDjuwAKACcAj+8CKACcADy+C6AAcALw+C6AAsAJwOO7AAoAJwCP7wIoAJwAPL4LoABwAvD4LoACwAnA47sACgAnAI/vAigAnAA8vgugAHAC8PgugALACcDjuwAKACcAj+8CKEA3gf3zsP9KuLsdlH2m6looY/HH9FaKofNTkZQ/JwZRiLoFWFv+VAiKDFUCbFX+KANBgmoBru9uFh8B3p5eo6ffdglqBJj79B8TYNr+MSGaJagVYKn8x6uPH93fv1/+WoKpDAoQjeV5j5a+/w9FmJY/vuOpBApw3i5X//VTD4EvDxezr60Aq5H/vV88JcH4jkcZTpXf/l/EmmeAQxVTCRJ9m7//v+VOIPzXmy1EUID/2v7B+14rQnv59Quw5G4iBKF8rAAFo7ZZhOpngM0oFb+QAhSXm0RTgIRS8Y0CFJebRFOAhFLxjQIUl5tEU4CEUvGNAhSXm0RTgIRS8Y0CFJebRFOAhFLxjQIUl5tEU4CEUvGNAhSXm0RTgIRS8Y0CFJebRFOAhFLxjQIUl5tEU4CEUvGNAhSXm0RTgIRS8Y0CFJebRFOAhFLxjQIUl5tEU4CEUvGNAhSXm0RTgIRS8Y0CFJebRFOAhFLxjQIUl5tEU4CEUvGNAhSXm0RTgIRS8Y0CFJebRFOAhFLxjQIUl5tEU4CEUvGNAhSXm0RTgIRS8Y0CFJebRFOAhFLxjQIUl5tEU4CEUvGNAhSXm0RTgIRS8Y0CFJebRPsEO5pJgckpG3QAAAAASUVORK5CYII="},"1160":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEUUlEQVR4Xu2awXHcMBAEdcn47Xgch8NwHI7Hbycj17mKJRZFEgtweNrBtt7gcjHTGAA8Pd74K63Ao/TsmfwbABSHAAAAoLgCxadPAgBAcQWKT58EAIDiChSfPgkAAMUVKD59EgAAiitQfPokAAAUV6D49EkAACiuQPHpkwAAUFyB4tMnAQCguALFp08CAEBxBYpPnwQAgOIKFJ8+CQAAxRUoPn0SAACKK1B8+iQAANRR4P3bz/fR2T7+/ppysUw5qbXJV0w/gmUmGKYF4A7j94Bwh2EqAF5l+kwgWAPwlYafnSWcUsESgKzGr6FwgcAOAAfznUCwAsDN/AWEzGkAAKMfBjqeA4AOsY6Guq7+7ClgkQDu5j8hyJoC6QGYwfzMKQAAgu0pWiJjCqQGYKbVnzUFagDw4/vHIv39J7pg4+OW+oHa2VIgLQCy1b82f7E0YFTY/W39Rm0ACCh72fw909fvVQBw9A4ACDjcGBIGoGX03nt6ze95R6A2CTCr+c95BQDI9k0g3RngltUfNOYTm+LVn/Em4AvAU82WQWfGR28GV95xkHaZtgFvAEaPG3ffDBp9AcCJQOEtQGl+x/49+tr1cwAAAGmSN00jTyZuX/1n54bRg+JAJJAAB6LdDsDZgQ4ABlAWPwIAYkED5ebfAlrXuDt+H+AWEEBvM6R79Ud+gRs1P1J76b9nbML/DEqTAF0ARH6Bi5q/vQJGah8dJgPniEwHwP+fpfvX6j1PNAHoPcBFAdiaFgFg8JfAbL8D+ADQMnNv5bWeOdv7W7EOAPoUOE2A3tV/tD8rPgFPZL5HAoyaf8Zoa4VHnl2PCez9GeM/PwCtGA8KL8urCwmS7fC3aJLmELj7KRgAZOweFQKAHokjN4SdellXf6otwDIBglsQAHSssk+3gQun7o7XxoYOJEBm89MlwG4KbK90Z/f3mI3XRnXcILKbnxKAEATB6L3m9PWnAeCChs1Pwxdqv+JRB/PTJsBikCsELuanB+B0O3jFMh58BwAMCnf0mFMSOJlvkQBO24Gb+VYAZN8OHM23AyAjBK7GL8ma6reAnqPDV58L3I23B+CrzgazGD8NANvUuCsZZjN+WgDWQChgmNX4EgD0nCmqjrU9BFY1TD1vAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZuFwDUiprVAwAzw9TtAoBaUbN6AGBmmLpdAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZuFwDUiprVAwAzw9TtAoBaUbN6AGBmmLpdAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZu9x9NVkSQhnYrHAAAAABJRU5ErkJggg=="},"1168":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAETklEQVR4Xu2a0XHcMAxEfc24G3eUz3SUbtyMM5cZTTSyJILU6owlnr8pCNx9XJI6P974K63Ao/TsmfwbABSHAAAAoLgCxadPAgBAcQWKT58EAIDiChSfPgkAAMUVKD59EgAAiitQfPokAAAUV6D49EkAACiuQPHpkwAAUFyB4tMnAQCguALFp08CAEBxBYpPnwQAgOIKFJ8+CQAAxRUoPn0SAACKK1B8+iQAANRR4Ov3+9fobB+/PqdcLFNOam3yFdOPYJkJhmkBuMP4PSDcYZgKgFeZPhMI1gD8pOFnZwmnVLAEIKvxayhcILADwMF8JxCsAHAzfwEhcxoAwOiHgY7nAKBDrKOhrqs/ewpYJIC7+U8IsqZAegBmMD9zCgCAYHuKlsiYAqkBmGn1Z02BGgB8fP5fpH/eows2Pm6pH6idLQXSAiBb/WvzF0sDRoXd39Zv1AaAgLKXzd8zff1eBQBH7wCAgMONIWEAWkbvvafX/J53BGqTALOa/5xXAIBs3wTSnQFuWf1BY76xKV79GW8CvgA81WwZdGZ89GZw5R0HaZdpG/AGYPS4cffNoNEXAJwIFN4ClOZ37N+jr10/BwAAkCZ50zTyZOL21X92bhg9KA5EAglwINrtAJwd6ABgAGXxIwAgFjRQbv4toHWNu+P3AW4BAfQ2Q7pXf+QXuFHzI7WX/nvGJvzPoDQJ0AVA5Be4qPnbK2Ck9tFhMnCOyHQA/PdZun+t3vNEE4DeA1wUgK1pEQAGfwnM9juADwAtM/dWXuuZs72/FesAoE+B0wToXf1H+7PiE/BE5nskwKj5Z4y2Vnjk2fWYwN6fMf7zA9CK8aDwsry6kCDZDn+LJmkOgbufggFAxu5RIQDokThyQ9ipl3X1p9oCLBMguAUBQMcq+3YbuHDq7nhtbOhAAmQ2P10C7KbA9kp3dn+P2XhtVMcNIrv5KQEIQRCM3mtOX38aAC5o2Pw0fKH2Kx51MD9tAiwGuULgYn56AE63g1cs48F3AMCgcEePOSWBk/kWCeC0HbiZbwVA9u3A0Xw7ADJC4Gr8kqypfgvoOTr89LnA3Xh7AH7qbDCL8dMAsE2Nu5JhNuOnBWANhAKGWY0vAUDPmaLqWNtDYFXD1PMGALWiZvUAwMwwdbsAoFbUrB4AmBmmbhcA1Iqa1QMAM8PU7QKAWlGzegBgZpi6XQBQK2pWDwDMDFO3CwBqRc3qAYCZYep2AUCtqFk9ADAzTN0uAKgVNasHAGaGqdsFALWiZvUAwMwwdbsAoFbUrB4AmBmmbhcA1Iqa1QMAM8PU7QKAWlGzegBgZpi6XQBQK2pWDwDMDFO3CwBqRc3qAYCZYep2AUCtqFk9ADAzTN0uAKgVNasHAGaGqdsFALWiZvUAwMwwdbsAoFbUrB4AmBmmbhcA1Iqa1QMAM8PU7QKAWlGzegBgZpi6XQBQK2pWDwDMDFO3CwBqRc3qAYCZYep2/wIpUESQvvAgagAAAABJRU5ErkJggg=="},"1178":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADJ0lEQVR4Xu2c0U1bURQE7YpSTyqgplSQelKREZYcIWSDn23GczmTb8TunZ0cnHyw3/VnNIH96Nf3+F0CDJcgARJgOIHhz+8CJMBwAsOf3wVIgOEEhj+/C5AAwwkMf34XIAGGExj+/C5AAgwnMPz5XYAEGE5g+PO7AAkwnMDw53cBEmA4geHP7wIkwHACw5/fBUiA4QSGP78LkADDCQx/fhcgAYYTGP78LkACDCcw/PldgAQYTmD487sACTCcwPDndwESYDiB4c/vAiTAcALDn98FSID1CRz+7Q6XXrH/df9vQvvu7//MBZa/AJ+N8x7srSJ89/d/5vhv2csKcO0w90iwNeNWyZ4pwZICXBpm//fPkeXh98tZplsGIjKeOfwp+8cIcBr/9LCPEmwZ/yjRmc8VX2UcT+oDPnOQYowQ4JZREoDUcGPWlvN8y/j/r8gnV+Dcj5l7sjYieNiXL3kBLp3oez7wXSJ67QfBFcdf+l8BD/srcMU36v8BroDUl6xJYNkfAWvi9rVOAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZ6BT2kS4EnYgUFAAAAAElFTkSuQmCC"},"1181":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1184":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEeklEQVR4Xu2aUW7cMBBDk8v0hD1GT9jLpEiABbYby+LYos1gXj4bm54hn0ay0/c3flo78N66e5p/A4DmEAAAADR3oHn7TAAAaO5A8/aZAADQ3IHm7TMBAKC5A83bZwIAQHMHmrfPBACA5g40b58JAADNHWjePhMAAJo70Lx9JgAANHegeftMAABo7kDz9pkAANDcgebtMwEAoLkDzdtnAgBAcweat88EAICeDnz8+v3x2vn73z/tFkS7hreCfwZhBMHR+9KXVysAZiE+wnqF4Oh96eF/1vcjATgyvtUQv0x52QrO3JsOwe0AvJo724f3wqiO78f1e0BVwt+CBwAGDhwJ8lNKDeQZBgWyrWtGz9rT/mkQ3DIBlBC3VrNy3+hk/7hXnRKf16lbjQJY6iS4HIBKiOpKUzTPbC2jw+Hj31VQEiG4FIDZSN1bSbNVdgaCM/eOIJgBlwLDZQAoq6RyGFNHufKxR9n/Z4Eq/aWE/t93j6uKmq3g2UpS73/uRwlldM2K582gucr7vedcMgGUIBwAbL01zN7xK4e/V2MrfSaEf8mHoKopo5V3ZEWuAqCyko/WeRcQ9glQNUQ5kFXetWcArtj/97adCjx3QPAjAaiYWjlYPsCqQjs7d4yCrfThgiMKgNWrf28LqIBRCUrtYfZtwRX4t7ci94PU1VQx7kwgo+//6kenmV+VPhIgsE+A51VYfXdX/lhTDUQ95avgKm8CsxorQM+0qr+/BIBRUXurRXldU5pVVqTydwc1JAUc5RqltxXX3AZAJfytvVx5E1DCfzbxzDYwetZKuFYEfvkZYKvoilnqCXsW3grzjm5hs21CnS4reogGYK/BvfOAYsxo71fuPXLNXqjtt4DqaD4SQGW0n9X/tqqE/1388ODO1f+1ja5uXtG7EgDV4BU1qc9SPLrqmlsAGB3qKk3PtoQVYTyv0hkgK55X6X/VtbcBoDYw+5av6nDdtgPxABCc1wEA8Pobrw4A8RF5CwQAr7/x6gAQH5G3QADw+huvDgDxEXkLBACvv/HqABAfkbdAAPD6G68OAPEReQsEAK+/8eoAEB+Rt0AA8Pobrw4A8RF5CwQAr7/x6gAQH5G3QADw+huvDgDxEXkLBACvv/HqABAfkbdAAPD6G68OAPEReQsEAK+/8eoAEB+Rt0AA8Pobrw4A8RF5CwQAr7/x6gAQH5G3QADw+huvDgDxEXkLBACvv/HqABAfkbdAAPD6G68OAPEReQsEAK+/8eoAEB+Rt0AA8Pobrw4A8RF5CwQAr7/x6gAQH5G3QADw+huvDgDxEXkLBACvv/HqABAfkbdAAPD6G68OAPEReQsEAK+/8eoAEB+Rt0AA8Pobrw4A8RF5CwQAr7/x6gAQH5G3QADw+huvDgDxEXkLBACvv/HqABAfkbdAAPD6G68OAPEReQsEAK+/8eoAEB+Rt0AA8Pobrw4A8RF5CwQAr7/x6gAQH5G3QADw+huvDgDxEXkLBACvv/HqABAfkbdAAPD6G68OAPEReQsEAK+/8er/AD9j+JCTCZawAAAAAElFTkSuQmCC"},"1190":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1201":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1202":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEe0lEQVR4Xu2bPW4UQRhExyLnDs4IuIVPAJdAcso5iEBInIIT+BYESATcgRwZjeVeNe35eTNYSP26NjOuXVFVb77p7llfTQO+Pl3f3te2v/78/fDj3fTlarQ4hjPclj8XHgAGwr4G4NuH2+n1+88XAEacAkNNgLb8wv2Ptx8vl8Bot4FhAZgbX5oAo02BoQEol31ZA5SfR5oCwwCwtPgLANM0BABb5de7gEwA6W6gBaDc+9sJcPfq13Tz/eVQZwLDTYC5/PKat4BlAszll9cMwSjrAD0AS+O/ngD1ArCeAKPsBoYEYOkYeO3uZ58EagD2Fn9LC8AWhADQ6cKwlN8u+Fo77RnAkl0zBNoJMAOwtOALAH8noAagPu5dG2RrE2CULaESAHLvXzsFfFj9D7QlDACPXwZ5svirDoXMW8IAUAHQngOMsCPQAXBk/NfbwHbsj3IuMBwAa88Byr2/PAvY2v2atoVDAbD2HODoUUcAOJrYf9KT8b81AY78Ny0QqCYAAeDMQZD5dFADwM307v7N9YsjF/HlUfDhNz2+wTAFNACcufrJwyD7YlABwN4z/60Sl46C184Dlv699ymgBIA8BKqhaL8UUn5XbwnXzgkCwNkb6DO9b+3ev/cYeA2ArfOA1cnQ8d8Udj8Bzt77twA4w2avk6BrAM6u/J9rK1h/TgA4c9n843uW/tDzzEeSbwXtfW4A2EvomX9fX/1k0be3JhgVgi5vAXP5M0/1wc9WwS0gc9ntodEZAAyLwq4BaCHYGjJ7E+DoodDe4+NebgldAjCXVaZAKf3MMTBZDG59SWTzd51sDbsFYOtqPwvHkz8Tb74bSJcxvVz9sx8lAJeTvMe1Ql3c2qQg3w5eAmAuuwDXU/HFixoAesWOrAsAI7dvvwUM3i2ynwmAYvKKAoC3W+QsAKCYvKIA4O0WOQsAKCavKAB4u0XOAgCKySsKAN5ukbMAgGLyigKAt1vkLACgmLyiAODtFjkLACgmrygAeLtFzgIAiskrCgDebpGzAIBi8ooCgLdb5CwAoJi8ogDg7RY5CwAoJq8oAHi7Rc4CAIrJKwoA3m6RswCAYvKKAoC3W+QsAKCYvKIA4O0WOQsAKCavKAB4u0XOAgCKySsKAN5ukbMAgGLyigKAt1vkLACgmLyiAODtFjkLACgmrygAeLtFzgIAiskrCgDebpGzAIBi8ooCgLdb5CwAoJi8ogDg7RY5CwAoJq8oAHi7Rc4CAIrJKwoA3m6RswCAYvKKAoC3W+QsAKCYvKIA4O0WOQsAKCavKAB4u0XOAgCKySsKAN5ukbMAgGLyigKAt1vkLACgmLyiAODtFjkLACgmrygAeLtFzgIAiskrCgDebpGzAIBi8ooCgLdb5CwAoJi8ogDg7RY5CwAoJq8oAHi7Rc4CAIrJKwoA3m6RswCAYvKKAoC3W+QsAKCYvKIA4O0WOQsAKCavKAB4u0XOAgCKySsKAN5ukbMAgGLyigKAt1vkLACgmLyiAODtFjkLACgmrygAeLtFzgIAiskr+gNZHGaQUYMArwAAAABJRU5ErkJggg=="},"1203":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADwElEQVR4Xu2d220bMRRE7X5STapwSaki1aSfGAIiYKFI4uu+yDn+9ZKXM3N2di19+PODH2kHPqXVI/4DAMQhAAAAEHdAXD4NAADiDojLpwEAQNwBcfk0AACIOyAunwYAAHEHxOXTAAAg7oC4fBoAAMQdEJdPAwDAeQ58/f7zt1fVr58/pG+C8uKvYb4KayTwHjCUoCgLwKtQ7+FYh94C41QoSgIQHW4r/MffnwRDKQCqB/8MlN1hKAPAjuGf0AzpAJwQ/M4gpAJwYvi7wZAGgEL4VxiqviukAKAWfmUQAGD0b0CD6yu1QTgAynd/xfeDUAAI///6yG6DMAAI//WzIxMCADB4pltskQVBCADc/W1EAKDt0fFXZEDg3gDc/WPcRkMAAGP5uF8NAO4W1x8QCQENUJSHKAgAAAB8HeAlcN7fiBagAebzcV8JAO4W1x/gDQENUJwBACgeUMTxPCGgASISXJwBAIsGnrDcCwIaYBM6tgXg5i+fBdhQ5gGBewMAgE34t10AwM7LLXcCgC1jsz20NQQ8Amzzcd8NANwtrj0AAGrn4346AHC3uPYAAKidT8jpLCFwfwnkQyB7JgDA3tOtdgSAreKyPywA2Hu61Y4AsFVc9ofdBgBeAO3Dt/5SyPWvAADwAcASAgDwy8h1Z6vHAAC4xuS3eXkAqH+/8Ld4BAAAAHT/1w5fq87cnUfAmbl2qyoNAPXfneP0hQAwbd0ZCwHgjBynVZQFgPqfznRoIQAM2XXexSUB4O6PA60cAIQfF365TwIJPzb8+zSLFjD5MggAAICPfRMYoAESTK80EgAqpZFwlhIA8PxPSP7fSADI877EZAAoEUPeIQAgz/sSk9MB4Pnf5uAekodXAND2P/2Ka0jWEABAerzvD/AqICsQZACwrtF3xlmF0/rCxmLO0QBY3z2jZq0G1DMvYkarJKe/DFo9/LOD9Zh2Wzcyu3fPZ+cZmfO4fmTu7JyRGa9ASAVgVUDLuNX976a15qyEf10bNec6MxQAq0Batebx+95wLDRGzgoBwMIUj1Bn9nwXjqXOHggs5rkAYHGwmXBOW9OCwMJnUwAsDnRaiKt6vBtnGoDHt3HCX436/fpnIFh4vgSAr2R2f3TgCoFF+Lf9AUCcMwAAAHEHxOXTAAAg7oC4fBoAAMQdEJdPAwCAuAPi8mkAABB3QFw+DQAA4g6Iy6cBAEDcAXH5NAAAiDsgLp8GAABxB8Tl0wAAIO6AuHwaAADEHRCXTwMAgLgD4vJpAAAQd0BcPg0AAOIOiMv/Bq1npJAbJYq0AAAAAElFTkSuQmCC"},"1209":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1214":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADNUlEQVR4Xu2XPU4bARQG7S4SV0yfK6Sk5Ar0uSJSOke2MLLARLvWGO3whnr5/P2Mn7X7XX+jG9iPTl/4XQAMhyAAAmB4A8PjdwECYHgDw+N3AQJgeAPD43cBAmB4A8PjdwECYHgDw+N3AQJgeAPD43cBAmB4A8PjdwECYHgDw+N3AQJgeAPD43cBAmB4A8PjdwECYHgDw+N3AQJgeAPD43cBAmB4A8PjdwECYHgDw+N3AQJgeAPD43cBAmB4A8PjdwECYHgDw+N3AQJgeAPD43cBAmB4A8Pjj7kAh8c/h/3jz1V5l/zP8ZkjQ2u1t8LdqkK2YvrsY2n55+fWDHX5P0tzGyHQAnDLQAHwEeUAuPL1vjdcSy/KVzynBeBYzr2GupfuVwy69jO0ANw60tKfgbX6xt//UxdridnK89cG2v99Odk7/Hj41Oaaod5/xv/01+hupUM1AO9/As7jvL0hXIHg1pHe3jZeAbv8jFs1twKB9gJcFnh6X78yzuUz2FC/n0/v/bunX9+iu28RYivfJqOPADCuBnoOALBMo1QAGFcDPQcAWKZRKgCMq4GeAwAs0ygVAMbVQM8BAJZplAoA42qg5wAAyzRKBYBxNdBzAIBlGqUCwLga6DkAwDKNUgFgXA30HABgmUapADCuBnoOALBMo1QAGFcDPQcAWKZRKgCMq4GeAwAs0ygVAMbVQM8BAJZplAoA42qg5wAAyzRKBYBxNdBzAIBlGqUCwLga6DkAwDKNUgFgXA30HABgmUapADCuBnoOALBMo1QAGFcDPQcAWKZRKgCMq4GeAwAs0ygVAMbVQM8BAJZplAoA42qg5wAAyzRKBYBxNdBzAIBlGqUCwLga6DkAwDKNUgFgXA30HABgmUapADCuBnoOALBMo1QAGFcDPQcAWKZRKgCMq4GeAwAs0ygVAMbVQM8BAJZplAoA42qg5wAAyzRKBYBxNdBzAIBlGqUCwLga6DkAwDKNUgFgXA30HABgmUapADCuBnoOALBMo1QAGFcDPQcAWKZRKgCMq4GeAwAs0ygVAMbVQM8BAJZplAoA42qg5wAAyzRKBYBxNdBzAIBlGqUCwLga6Pkfg5FegbaGfo0AAAAASUVORK5CYII="},"1220":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADu0lEQVR4Xu2dW44aMRREYUXZ/zKyoomIgtQigF/3ZdeZX9q+vlWny6Ybae43/qQVuEt3T/M3ABCHAAAAQFwB8fZJAAAQV0C8fRIAAMQVEG+fBAAAcQXE2ycBAEBcAfH2SQAAEFdAvH0SAADEFRBvnwQAgPMU+Pl9++nt6v5L+zcR5RPgauYns0YM7wFDCYqyAHwy9WmOtektME6FoiQA0ea2zH/9/CQYSgFQ3fh3oOwOQxkAdjT/hGRIB+AE43cGIRWAE83fDYY0ABTMv8JQ9ayQAoCa+ZVBAIDR74AG11dKg3AAlO/+iueDUAAw///4yE6DMAAw//PekQkBABjs6RZTZEEQAgB3fxsRAGhrdPwVGRC4JwB3/xi30RAAwJg/7lcDgLvE9QtEQkACFOUhCgIAAABfBTgEzusbkQIkwLw/7iMBwF3i+gW8ISABijMAAMUNilieJwQkQISDizUAYFHAE4Z7QUACbELHtgA89OVZgA1lHhC4JwAA2Jj/mAUA7LTcciYA2NI220VbQ8AWYOuP+2wA4C5x7QIAUNsf99UBgLvEtQsAQG1/QlZnCYH7IZCHQPZMAIC9plvNCABb2WW/WACw13SrGQFgK7vsF7sNABwA7c23fink+i0AAHwAsIQAAPw8cp3ZahsAAFeb/CYvDwDx72f+FlsAAABA93/t8JXqzNnZAs70tbur0gAQ/90+Tl8IANPSnTEQAM7wcbqLsgAQ/9OeDg0EgCG5zru4JADc/XGglQMA8+PML/ckEPNjzX9Ws0gBk5dBAAAAPPZNYIAESBC9UkkAqORGwlpKAMD+n+D8v5IAkKd9icoAUMKGvEUAQJ72JSqnA8D+3+bgaZKHVgDQ1j/9iqtJ1hAAQLq93xfwySArEGQAsI7Rb8JZmdN6YWNR52gArO+eUbFWDeqpF1GjFZLTL4NWF/9uYT2iPcaN1O6d8916Ruq8jh+pO1tnpMYnEFIBWG2gJdzq/E/RWnVWzL+OjapzrRkKgJUhrVjz+LzXHIseI2uFAGAhioepM3N+M8eyzx4ILOq5AGCxsBlzThvTgsBCZ1MALBZ0momr/XgnzjQAr6dxzF+1+vv4dyBYaL4EgG/LzP6qwBUCC/P/PqxCZm0FAEDbfxJA3H8AAAB1BcT75wwAAOIKiLdPAgCAuALi7ZMAACCugHj7JAAAiCsg3j4JAADiCoi3TwIAgLgC4u2TAAAgroB4+yQAAIgrIN4+CQAA4gqIt08CAIC4AuLtkwAAIK6AePskAACIKyDe/h/0yDuQV1OQcwAAAABJRU5ErkJggg=="},"1226":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1230":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADGUlEQVR4Xu2Y4U2bYRjEYIVu1TW6QGfpAl2jW3UFKoQioQooScCf0zP/4e7xWW8i7u/6mSZwP319x98lwLgECZAA4wTGz+8FSIBxAuPn9wIkwDiB8fN7ARJgnMD4+b0ACTBOYPz8XoAEGCcwfn4vQAKMExg/vxcgAcYJjJ/fC5AA4wTGz+8FSIBxAuPn9wIkwDiB8fN7ARJgnMD4+b0ACTBOYPz8XoAEGCcwfn4vQAKMExg/vxcgAcYJjJ/fC5AA4wTGz+8FSIBxAuPn9wIkwO0TePj17eG1K+6//rxa8s/++0cucDWcI8s/Zr81zvNul4rw2X//aH43K8B7h7lGgnMzLpXsSAluUoBXh/n+5Ynlj98vMj1nICLjyOFP2f+PAKfxT5f9JcE547/60fKPjMffOzfnaAkmBLhklBdfgAQ42ten/HOe50vGP135pgQvfMxck3UU2Zt8Ad7z7f+jxnjvF8GPyqNFuFkBSFD9H4CkXRZKoBcAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2+gN3Q1SBrfSAZgAAAABJRU5ErkJggg=="},"1231":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAACoklEQVR4Xu2WQWoCURQEnXtlk5O7yb0UQUGCmT8gofBVZWuk7a6ap9upP/UCm7p95U8JIJcgARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOt3ARJAvoC8fhcgAeQLyOvrLsD58nV5xfx7+9FtcdtBUfov6Ece/ulijBLgHdB7MkyWYIwA/wX/IcZUCbQCPIAeFScBjnxhwv+zgrkHce+9U+H3I/Au7GTAq2dyzFfA76Kra7AaxiLFSAHehT/9h9+z/CMFuBV8lmD1NL8SZvWe1QX5lNfHCvApAOjPmQA0ATg/AWAAdHwC0ATg/ASAAdDxCUATgPMTAAZAxycATQDOTwAYAB2fADQBOD8BYAB0fALQBOD8BIAB0PEJQBOA8xMABkDHJwBNAM5PABgAHZ8ANAE4PwFgAHR8AtAE4PwEgAHQ8QlAE4DzEwAGQMcnAE0Azk8AGAAdnwA0ATg/AWAAdHwC0ATg/ASAAdDxCUATgPMTAAZAxycATQDOTwAYAB2fADQBOD8BYAB0fALQBOD8BIAB0PEJQBOA8xMABkDHJwBNAM5PABgAHZ8ANAE4PwFgAHR8AtAE4PwEgAHQ8QlAE4DzEwAGQMcnAE0Azk8AGAAdnwA0ATg/AWAAdPwVpcs0gXbhDu4AAAAASUVORK5CYII="},"1233":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1234":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1244":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1245":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEKUlEQVR4Xu2bwXHUQBRE7SyIghsHJ0AExMGFOLgQBxGQgA/ciIIsoORCVUKlkVa21f+N5/m69nZP99PfmbF9f+fX0AncD716F38nAINDIAACMHgCgy/fCSAAgycw+PKdAAIweAKDL98JIACDJzD48p0AAjB4AoMv3wlQAMCXh/d/Jtmvj7/K8y83UJB/qeRc/myiGoISAJYhVAeQpGFdPmEKxAEghpCCYGvt1RAgAKgOIQFAq/zqtWMAqA7iSgj2yq9edxyAacHUp+EqCARglSw5kNeG4GitToCNxN/SyUAANgqmh/JaU2C9zk8f3j299fefv/+TqAQetwdYJlMZzEshaJU/v+8Sgsp1ogGg3JadhWFrws1PvwAcnAJaYVc+JS8FYF3++mOgcm2oCdD6jOxpEtzy9C8BqCx/8oEBYG9E9rIvaG1u9yaAAPxr92hM9jAFzj791XcAZRNg6zZwC4CtIxMZBAE4sVt6Tljrt68en0s/PY5/1ASYzJydApRp8JzyCeMfB0CPEOzdah7tawgTrOQUsLUHmJ/m3qbAmaefdP6f8y4DoAVBC4C9DWH1OD269qXd/i33Ll0B0IKAMEpnoG8FmOK5FIAzx8EltZRfpKxPJY+fPz79uXfri+gbB8DeRnAO9uHbj3LfWyULwIl7gPlbz26ipp+jAjB524NgngCU8V96DFyycuulEL38valAHP9dAUB+6o8GH+2/gTCngFunQM/lrz/qSOMfMwFadwLV5/ujJ/stvI7ZTRP/beotFHy0BgwArSlAG5lHgfb2OhoAy78eJwG4PmO0ggCg67neHAqA5T7A8X99+ahjYGa5qqwTwE0AK8omIADZvHFqAoCrJGtIALJ549QEAFdJ1pAAZPPGqQkArpKsIQHI5o1TEwBcJVlDApDNG6cmALhKsoYEIJs3Tk0AcJVkDQlANm+cmgDgKskaEoBs3jg1AcBVkjUkANm8cWoCgKska0gAsnnj1AQAV0nWkABk88apCQCukqwhAcjmjVMTAFwlWUMCkM0bpyYAuEqyhgQgmzdOTQBwlWQNCUA2b5yaAOAqyRoSgGzeODUBwFWSNSQA2bxxagKAqyRrSACyeePUBABXSdaQAGTzxqkJAK6SrCEByOaNUxMAXCVZQwKQzRunJgC4SrKGBCCbN05NAHCVZA0JQDZvnJoA4CrJGhKAbN44NQHAVZI1JADZvHFqAoCrJGtIALJ549QEAFdJ1pAAZPPGqQkArpKsIQHI5o1TEwBcJVlDApDNG6cmALhKsoYEIJs3Tk0AcJVkDQlANm+cmgDgKskaEoBs3jg1AcBVkjUkANm8cWoCgKska0gAsnnj1AQAV0nWkABk88apCQCukqwhAcjmjVMTAFwlWUMCkM0bpyYAuEqyhgQgmzdOTQBwlWQNCUA2b5zaX3KdU5BmlTjbAAAAAElFTkSuQmCC"},"1253":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1255":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADvklEQVR4Xu2dS24bMRBE7U0OkosauWgOkk0MAREwUCTx1z+ynrcesllVb2rG0sKfH/xIO/AprR7xHwAgDgEAAIC4A+LyaQAAEHdAXD4NAADiDojLpwEAQNwBcfk0AACIOyAunwYAAHEHxOXTAAAg7oC4fBoAAM5z4OvHz7+9qn79+S19E5QXfw3zVVgjgfeAoQRFWQBehXoPxzr0FhinQlESgOhwW+E//v4kGEoBUD34Z6DsDkMZAHYM/4RmSAfghOB3BiEVgBPD3w2GNAAUwr/CUPVdIQUAtfArgwAAo38DGlxfqQ3CAVC++yu+H4QCQPj/10d2G4QBQPivnx2ZEACAwTPdYossCEIA4O5vIwIAbY+OvyIDAvcG4O4f4zYaAgAYy8f9agBwt7j+gEgIaICiPERBAAAA4OsAL4Hz/ka0AA0wn4/7SgBwt7j+AG8IaIDiDABA8YAijucJAQ0QkeDiDABYNPCE5V4Q0ACb0LEtADd/+SzAhjIPCNwbAABswr/tAgB2Xm65EwBsGZvtoa0h4BFgm4/7bgDgbnHtAQBQOx/30wGAu8W1BwBA7XxCTmcJgftLIB8C2TMBAPaebrUjAGwVl/1hAcDe0612BICt4rI/7DYA8AJoH771l0KufwUAgA8AlhAAgF9GrjtbPQYAwDUmv83LA0D9+4W/xSMAAACg+792+Fp15u48As7MtVtVaQCo/+4cpy8EgGnrzlgIAGfkOK2iLADU/3SmQwsBYMiu8y4uCQB3fxxo5QAg/Ljwy30SSPix4d+nWbSAyZdBAAAAfOybwAANkGB6pZEAUCmNhLOUAIDnf0Ly/0YCQJ73JSYDQIkY8g4BAHnel5icDgDP/zYH95A8vAKAtv/pV1xDsoYAANLjfX+AVwFZgSADgHWNvjPOKpzWFzYWc44GwPruGTVrNaCeeREzWiU5/WXQ6uGfHazHtNu6kdm9ez47z8icx/Ujc2fnjMx4BUIqAKsCWsat7n83rTVnJfzr2qg515mhAFgF0qo1j9/3hmOhMXJWCAAWpniEOrPnu3AsdfZAYDHPBQCLg82Ec9qaFgQWPpsCYHGg00Jc1ePdONMAPL6NE/5q1O/XPwPBwvMlAHwls/ujA1cILMK/7Q8A4pwBAACIOyAunwYAAHEHxOXTAAAg7oC4fBoAAMQdEJdPAwCAuAPi8mkAABB3QFw+DQAA4g6Iy6cBAEDcAXH5NAAAiDsgLp8GAABxB8Tl0wAAIO6AuHwaAADEHRCXTwMAgLgD4vJpAAAQd0Bc/jebQKSQLk7jjwAAAABJRU5ErkJggg=="},"1256":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEUUlEQVR4Xu2awXHcMBAEdcn47Xgch8NwHI7Hbycj17mKJRZFEgtweNrBtt7gcjHTGAA8Pd74K63Ao/TsmfwbABSHAAAAoLgCxadPAgBAcQWKT58EAIDiChSfPgkAAMUVKD59EgAAiitQfPokAAAUV6D49EkAACiuQPHpkwAAUFyB4tMnAQCguALFp08CAEBxBYpPnwQAgOIKFJ8+CQAAxRUoPn0SAACKK1B8+iQAANRR4P3bz/fR2T7+/ppysUw5qbXJV0w/gmUmGKYF4A7j94Bwh2EqAF5l+kwgWAPwlYafnSWcUsESgKzGr6FwgcAOAAfznUCwAsDN/AWEzGkAAKMfBjqeA4AOsY6Guq7+7ClgkQDu5j8hyJoC6QGYwfzMKQAAgu0pWiJjCqQGYKbVnzUFagDw4/vHIv39J7pg4+OW+oHa2VIgLQCy1b82f7E0YFTY/W39Rm0ACCh72fw909fvVQBw9A4ACDjcGBIGoGX03nt6ze95R6A2CTCr+c95BQDI9k0g3RngltUfNOYTm+LVn/Em4AvAU82WQWfGR28GV95xkHaZtgFvAEaPG3ffDBp9AcCJQOEtQGl+x/49+tr1cwAAAGmSN00jTyZuX/1n54bRg+JAJJAAB6LdDsDZgQ4ABlAWPwIAYkED5ebfAlrXuDt+H+AWEEBvM6R79Ud+gRs1P1J76b9nbML/DEqTAF0ARH6Bi5q/vQJGah8dJgPniEwHwP+fpfvX6j1PNAHoPcBFAdiaFgFg8JfAbL8D+ADQMnNv5bWeOdv7W7EOAPoUOE2A3tV/tD8rPgFPZL5HAoyaf8Zoa4VHnl2PCez9GeM/PwCtGA8KL8urCwmS7fC3aJLmELj7KRgAZOweFQKAHokjN4SdellXf6otwDIBglsQAHSssk+3gQun7o7XxoYOJEBm89MlwG4KbK90Z/f3mI3XRnXcILKbnxKAEATB6L3m9PWnAeCChs1Pwxdqv+JRB/PTJsBikCsELuanB+B0O3jFMh58BwAMCnf0mFMSOJlvkQBO24Gb+VYAZN8OHM23AyAjBK7GL8ma6reAnqPDV58L3I23B+CrzgazGD8NANvUuCsZZjN+WgDWQChgmNX4EgD0nCmqjrU9BFY1TD1vAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZuFwDUiprVAwAzw9TtAoBaUbN6AGBmmLpdAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZuFwDUiprVAwAzw9TtAoBaUbN6AGBmmLpdAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZu9x9NVkSQhnYrHAAAAABJRU5ErkJggg=="},"1257":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADG0lEQVR4Xu2YQU6UYRQE4TRewYULPbkuXHgFT4PBOIkxgMyM1F9jF3voftWVbybc3/UzTeB++vqOv0uAcQkSIAHGCYyf3wuQAOMExs/vBUiAcQLj5/cCJMA4gfHzewESYJzA+Pm9AAkwTmD8/F6ABBgnMH5+L0ACjBMYP78XIAHGCYyf3wuQAOMExs/vBUiAcQLj5/cCJMA4gfHzewESYJzA+Pm9AAkwTmD8/F6ABBgnMH5+L0ACjBMYP78XIAHGCYyf3wuQAOMExs/vBUiA2yfw+eHDw3NXfLr/erXkb/33j1zgajhHln/Mfmmc37tdKsJb//2j+d2sAK8d5hoJzs24VLIjJbhJAZ4b5uO79z9Zfvn+7Umm5wxEZBw5/Cn7vxHgNP7psD8lOGf85z5a/pbx+Hvn5hwtwYQAl4zy1AuQAEfr+iv/nOf5kvFPZ74kwVMfM9dkHYX2Jl+A13z7/1djvPaL4L/Ko0W4WQFIUP0fgKRdFkqgFwDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjb6AcxRXIHSNOz2AAAAAElFTkSuQmCC"},"1258":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAC8UlEQVR4Xu2YsU3DABRE7YqauViAghEYIkPAAEgULMAKrENNFQSSpWCc5GRZCtx71J+Qe/dysRgHf9AERnR6ww8KAJdAARQATgAe3wVQADgBeHwXQAHgBODxXQAFgBOAx3cBFABOAB7fBVAAOAF4fBdAAeAE4PFdAAWAE4DHdwEUAE4AHt8FUAA4AXh8F0AB4ATg8V0ABYATgMd3ARQATgAe3wVQADgBeHwXQAHgBODxXQAFgBOAx3cBFABOAB7fBVAAOAF4fBdAAeAE4PFdAAWAE4DHdwEUAE4AHt8FUAA4AXh8F0AB4ATg8V0ABYATgMd3ARQATgAe3wVQADgBeHwXQAHgBODxXQAFgBOAx3cBFABOAB7fBVAAOAF4fBdAAeAE4PFdAAXoJrDfPe+/Eo67O2VfqLoWylT8Kb2VYhgqBUjKXxKDKESdAGvLnwtBkaFKgK3Kn2QgSFAtwPjyevQRYH97Ez39tktQI8DSp/+UAPP2TwnRLEGtAMfKf/i4/tH9/dX7ryWYy6AA0Vhe9ujY9/+hCPPyp3c8l0ABLtvl6r9+7iHw8elt8bUVYDXyv/eL5ySY3vEkw7ny2/+LWPMMcKhiKkGib/P3/7fcCYT/erOFCArwX9s/eN9rRWgvv34BjrmbCEEoHytAwahtFqH6GWAzSsUvpADF5SbRFCChVHyjAMXlJtEUIKFUfKMAxeUm0RQgoVR8owDF5SbRFCChVHyjAMXlJtEUIKFUfKMAxeUm0RQgoVR8owDF5SbRFCChVHyjAMXlJtEUIKFUfKMAxeUm0RQgoVR8owDF5SbRFCChVHyjAMXlJtEUIKFUfKMAxeUm0RQgoVR8owDF5SbRFCChVHyjAMXlJtEUIKFUfKMAxeUm0RQgoVR8owDF5SbRFCChVHyjAMXlJtEUIKFUfKMAxeUm0RQgoVR8owDF5SbRFCChVHyjAMXlJtEUIKFUfKMAxeUm0RQgoVR8owDF5SbRFCChVHyjAMXlJtE+AVSfWIEHqBRPAAAAAElFTkSuQmCC"},"1260":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1262":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1263":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADrElEQVR4Xu2ZwW3bQBREpQ7SSHIPkEtKSDGpIsWkhFwC5O40kg4c0IAAgiClNUfS7uN/utpjzZ95/LuSzydfpRM4l57e4U8CUBwCARCA4gkUH98NIADFEyg+vhtAAIonUHx8N4AAFE+g+PhuAAEonkDx8d0AAlA8geLjuwEEoHgCxcd3AwhA8QSKj+8GEIDiCRQf3w0gAMUTKD6+G0AAiidQfHw3gAAUT6D4+G4AASieQPHx3QACUDyB4uOX2AAfXr6/vrfnf59+lMjmcEPuKbsVjiNCcQgAHln6Ghw/P/45ffv7+XQEIHAA3Cr7Uk7rU73n99begwoDBoBfr1/ezvHpyZu/lmU8GoDWv08BYngApid+Cn3+mkMwKgAXv6ODMDQAl3XfCkDr07ln7V80yXuMCMOQACzP+S0Anv30TxAkAIy4FYYCYO2Ctyx/fg94NgD3KH80CLoD0HKrp57/t46aEY6ErgDcKv+yco8KwDRXbwiwADx7/d/r/F9uhbIA7Hn6j3L+zyEQgCsHZevHv0c9nde+cLp1vrf+XACKA9D7HtDtDrDnCNj6BvCeH8+2eHzke/TcAsMCcNTP/2uACcBKKhXO/xG+FMJsANI/gFovgALgBfAtAY+ABQiVzn8BKH7+9z4GhrwDJBfAZ6zTlo+wlHtANwCmgLaCvAZA75XZWux7IHkGtFu+hwRg/l/Ar+ffXT22Fk79va7hXntKej4V1DL3+O4KwPIYsPQ9FWaa7gBk9lWnCQhAmiBcLwDwAlP7ApAmCNcLALzA1L4ApAnC9QIALzC1LwBpgnC9AMALTO0LQJogXC8A8AJT+wKQJgjXCwC8wNS+AKQJwvUCAC8wtS8AaYJwvQDAC0ztC0CaIFwvAPACU/sCkCYI1wsAvMDUvgCkCcL1AgAvMLUvAGmCcL0AwAtM7QtAmiBcLwDwAlP7ApAmCNcLALzA1L4ApAnC9QIALzC1LwBpgnC9AMALTO0LQJogXC8A8AJT+wKQJgjXCwC8wNS+AKQJwvUCAC8wtS8AaYJwvQDAC0ztC0CaIFwvAPACU/sCkCYI1wsAvMDUvgCkCcL1AgAvMLUvAGmCcL0AwAtM7QtAmiBcLwDwAlP7ApAmCNcLALzA1L4ApAnC9QIALzC1LwBpgnC9AMALTO0LQJogXC8A8AJT+wKQJgjXCwC8wNS+AKQJwvUCAC8wtS8AaYJwvQDAC0ztC0CaIFwvAPACU/sCkCYI1wsAvMDUvgCkCcL1/wF5tWGQvZLWgwAAAABJRU5ErkJggg=="},"1265":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEUUlEQVR4Xu2awXHcMBAEdcn47Xgch8NwHI7Hbycj17mKJRZFEgtweNrBtt7gcjHTGAA8Pd74K63Ao/TsmfwbABSHAAAAoLgCxadPAgBAcQWKT58EAIDiChSfPgkAAMUVKD59EgAAiitQfPokAAAUV6D49EkAACiuQPHpkwAAUFyB4tMnAQCguALFp08CAEBxBYpPnwQAgOIKFJ8+CQAAxRUoPn0SAACKK1B8+iQAANRR4P3bz/fR2T7+/ppysUw5qbXJV0w/gmUmGKYF4A7j94Bwh2EqAF5l+kwgWAPwlYafnSWcUsESgKzGr6FwgcAOAAfznUCwAsDN/AWEzGkAAKMfBjqeA4AOsY6Guq7+7ClgkQDu5j8hyJoC6QGYwfzMKQAAgu0pWiJjCqQGYKbVnzUFagDw4/vHIv39J7pg4+OW+oHa2VIgLQCy1b82f7E0YFTY/W39Rm0ACCh72fw909fvVQBw9A4ACDjcGBIGoGX03nt6ze95R6A2CTCr+c95BQDI9k0g3RngltUfNOYTm+LVn/Em4AvAU82WQWfGR28GV95xkHaZtgFvAEaPG3ffDBp9AcCJQOEtQGl+x/49+tr1cwAAAGmSN00jTyZuX/1n54bRg+JAJJAAB6LdDsDZgQ4ABlAWPwIAYkED5ebfAlrXuDt+H+AWEEBvM6R79Ud+gRs1P1J76b9nbML/DEqTAF0ARH6Bi5q/vQJGah8dJgPniEwHwP+fpfvX6j1PNAHoPcBFAdiaFgFg8JfAbL8D+ADQMnNv5bWeOdv7W7EOAPoUOE2A3tV/tD8rPgFPZL5HAoyaf8Zoa4VHnl2PCez9GeM/PwCtGA8KL8urCwmS7fC3aJLmELj7KRgAZOweFQKAHokjN4SdellXf6otwDIBglsQAHSssk+3gQun7o7XxoYOJEBm89MlwG4KbK90Z/f3mI3XRnXcILKbnxKAEATB6L3m9PWnAeCChs1Pwxdqv+JRB/PTJsBikCsELuanB+B0O3jFMh58BwAMCnf0mFMSOJlvkQBO24Gb+VYAZN8OHM23AyAjBK7GL8ma6reAnqPDV58L3I23B+CrzgazGD8NANvUuCsZZjN+WgDWQChgmNX4EgD0nCmqjrU9BFY1TD1vAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZuFwDUiprVAwAzw9TtAoBaUbN6AGBmmLpdAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZuFwDUiprVAwAzw9TtAoBaUbN6AGBmmLpdAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZu9x9NVkSQhnYrHAAAAABJRU5ErkJggg=="},"1266":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADJUlEQVR4Xu2c0U1bURQE7RJSCdVRBdWlEkowAskSQjb42WY8lzP5Rt69s5MDyQf7XX9GE9iPfn2P3yXAcAkSIAGGExj+/C5AAgwnMPz5XYAEGE5g+PO7AAkwnMDw53cBEmA4geHP7wIkwHACw5/fBUiA4QSGP78LkADDCQx/fhcgAYYTGP78LkACDCcw/PldgAQYTmD487sACTCcwPDndwESYDiB4c/vAiTAcALDn98FSIDhBIY/vwuQAMMJDH9+FyABhhMY/vwuQAIMJzD8+V2ABFifwOH/7nDuFfun238T2m9//iMXWP4CfDfOZ7DXivDbn//I8d+zlxXg0mFukWBrxrWSPVKCJQU4N8y//fMHy9fDy0mmWwYiMh45/DH7zwhwHP/4sK8SbBn//TNOCfBTxsdJvcPPHKQYIwS4ZpQEIDXcmLXlPF8z/rHOdxKc+jZzS9ZGBHf78iUvwLkTfcsPfOeIXvqD4IrjL/2vgLv9Fbjgg/p/gAsg9SVrElj2W8CauH2tE8C3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CNEgDF7QtLAN8maKMEQHH7whLAtwnaKAFQ3L6wBPBtgjZKABS3LywBfJugjRIAxe0LSwDfJmijBEBx+8ISwLcJ2igBUNy+sATwbYI2SgAUty8sAXyboI0SAMXtC0sA3yZoowRAcfvCEsC3CdooAVDcvrAE8G2CNkoAFLcvLAF8m6CN3gD31UuBYhczHgAAAABJRU5ErkJggg=="},"1270":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1272":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADvklEQVR4Xu2dS47bMBBEx5fJKbPMKXOZCRzEgODY5q9/ZL3ZWmR3Vz0VZXkxty/+pBW4SU/P8F8AIA4BAACAuALi45MAACCugPj4JAAAiCsgPj4JAADiCoiPTwIAgLgC4uOTAAAgroD4+CQAAIgrID4+CQAA5ynw/evHd+9Ut5+/pW+C8sNfzXxn1ojhPWAoQVEWgHemPsyxNr0FxqlQlAQg2tyW+c+fnwRDKQCqG/8KlN1hKAPAjuafkAzpAJxg/M4gpAJwovm7wZAGgIL5VxiqPiukAKBmfmUQAGD0O6DB9ZXSIBwA5bu/4vNBKACY/398ZKdBGACY//7syIQAAAzOdIstsiAIAYC7v40IALQ1Ov6KDAjcE4C7f4zbaAgAYMwf96sBwF3i+gUiISABivIQBQEAAICvAjwEzusbkQIkwLw/7isBwF3i+gW8ISABijMAAMUNimjPEwISIMLBxRoAsCjgCcu9ICABNqFjWwDu+vIuwIYyDwjcEwAAbMy/7wIAdlpuuRMAbGmbbdPWEHAE2PrjvhsAuEtcuwAA1PbHvTsAcJe4dgEAqO1PSHeWELg/BPISyJ4JALDXdKsdAWAru+ybBQB7TbfaEQC2ssu+2W0A4AHQ3nzrH4VcvwUAgA8AlhAAgJ9HrjtbHQMA4GqT3+blASD+/czf4ggAAADo/q8dvlKduTtHwJm+dk9VGgDiv9vH6QsBYFq6MxYCwBk+Tk9RFgDif9rToYUAMCTXeReXBIC7Pw60cgBgfpz55d4EYn6s+Y9qFilg8mMQAAAAr30TGCABEkSvVBIAKrmR0EsJADj/E5z/VxIA8rQvURkAStiQ1wQA5GlfonI6AJz/bQ4eJnloBQBt/dOvuJpkDQEApNv7uYF3BlmBIAOAdYx+Es7KnNYPNhZ1jgbA+u4ZFWvVoJ56ETVaITn9Y9Bq868a6xHtvm6kdu+er/oZqfO8fqTubJ2RGu9ASAVgdYCWcKv7P0Rr1Vkx/7o2qs61ZigAVoa0Ys3j815zLGaMrBUCgIUoHqbO7PnJHMs5eyCwqOcCgEVjM+actqYFgYXOpgBYNHSaiavzeCfONADPT+OYv2r15/WvQLDQfAkA35HZ/VmBKwQW5v99WYXM2goAgLb/JIC4/wAAAOoKiM/PMwAAiCsgPj4JAADiCoiPTwIAgLgC4uOTAAAgroD4+CQAAIgrID4+CQAA4gqIj08CAIC4AuLjkwAAIK6A+PgkAACIKyA+PgkAAOIKiI9PAgCAuALi45MAACCugPj4fwAeSqSQsGkdYAAAAABJRU5ErkJggg=="},"1273":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAETklEQVR4Xu2a0XHcMAxEfc24G3eUz3SUbtyMM5cZTTSyJILU6owlnr8pCNx9XJI6P974K63Ao/TsmfwbABSHAAAAoLgCxadPAgBAcQWKT58EAIDiChSfPgkAAMUVKD59EgAAiitQfPokAAAUV6D49EkAACiuQPHpkwAAUFyB4tMnAQCguALFp08CAEBxBYpPnwQAgOIKFJ8+CQAAxRUoPn0SAACKK1B8+iQAANRR4Ov3+9fobB+/PqdcLFNOam3yFdOPYJkJhmkBuMP4PSDcYZgKgFeZPhMI1gD8pOFnZwmnVLAEIKvxayhcILADwMF8JxCsAHAzfwEhcxoAwOiHgY7nAKBDrKOhrqs/ewpYJIC7+U8IsqZAegBmMD9zCgCAYHuKlsiYAqkBmGn1Z02BGgB8fP5fpH/eows2Pm6pH6idLQXSAiBb/WvzF0sDRoXd39Zv1AaAgLKXzd8zff1eBQBH7wCAgMONIWEAWkbvvafX/J53BGqTALOa/5xXAIBs3wTSnQFuWf1BY76xKV79GW8CvgA81WwZdGZ89GZw5R0HaZdpG/AGYPS4cffNoNEXAJwIFN4ClOZ37N+jr10/BwAAkCZ50zTyZOL21X92bhg9KA5EAglwINrtAJwd6ABgAGXxIwAgFjRQbv4toHWNu+P3AW4BAfQ2Q7pXf+QXuFHzI7WX/nvGJvzPoDQJ0AVA5Be4qPnbK2Ck9tFhMnCOyHQA/PdZun+t3vNEE4DeA1wUgK1pEQAGfwnM9juADwAtM/dWXuuZs72/FesAoE+B0wToXf1H+7PiE/BE5nskwKj5Z4y2Vnjk2fWYwN6fMf7zA9CK8aDwsry6kCDZDn+LJmkOgbufggFAxu5RIQDokThyQ9ipl3X1p9oCLBMguAUBQMcq+3YbuHDq7nhtbOhAAmQ2P10C7KbA9kp3dn+P2XhtVMcNIrv5KQEIQRCM3mtOX38aAC5o2Pw0fKH2Kx51MD9tAiwGuULgYn56AE63g1cs48F3AMCgcEePOSWBk/kWCeC0HbiZbwVA9u3A0Xw7ADJC4Gr8kqypfgvoOTr89LnA3Xh7AH7qbDCL8dMAsE2Nu5JhNuOnBWANhAKGWY0vAUDPmaLqWNtDYFXD1PMGALWiZvUAwMwwdbsAoFbUrB4AmBmmbhcA1Iqa1QMAM8PU7QKAWlGzegBgZpi6XQBQK2pWDwDMDFO3CwBqRc3qAYCZYep2AUCtqFk9ADAzTN0uAKgVNasHAGaGqdsFALWiZvUAwMwwdbsAoFbUrB4AmBmmbhcA1Iqa1QMAM8PU7QKAWlGzegBgZpi6XQBQK2pWDwDMDFO3CwBqRc3qAYCZYep2AUCtqFk9ADAzTN0uAKgVNasHAGaGqdsFALWiZvUAwMwwdbsAoFbUrB4AmBmmbhcA1Iqa1QMAM8PU7QKAWlGzegBgZpi6XQBQK2pWDwDMDFO3CwBqRc3qAYCZYep2/wIpUESQvvAgagAAAABJRU5ErkJggg=="},"1275":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAACtElEQVR4Xu2WUW4aARTEwj17mBym96RKVaoKhZDp8rO285k8IjxjZrm89aNO4KKmD/4tAeQSJEACyBOQ47cACSBPQI7fAiSAPAE5fguQAPIE5PgtQALIE5DjtwAJIE9Ajt8CJIA8ATl+C5AA8gTk+C1AAsgTkOO3AAkgT0CO3wIkgDwBOX4LkADyBOT4LUACyBOQ47cACSBPQI7fAiSAPAE5fguQAPIE5PgtQALIE5DjtwAJIE9Ajt8CJIA8ATl+C5AA8gTk+C1AAsgTkOO3AAkgT0CO3wIkgDwBOX4LkADyBOT4LUACyBOQ47cACSBPQI7fAiSAPAE5fguQAPIE5PgtQALIE5DjtwAJIE9Ajt8CJIA8ATl+C5AA8gTk+C3AnQDX95/Xj19d3n8ossFBHinw9tqbEwYJUAIcKfD+tZYVSIA/H/cEAHwZOlLikfU4c3ToBfjus/yIOGcu//dj7uwA9+//szL/vbl9sfvqzvDl7++HgybAB88zCZ4xJ8CzhE7w9/+VwFQ+8hGwPhI+ezycwO+XvUXcd4BHyTxaBNsn/j4fjQAv+8jA/lECwApdcRJgTQx2nwCwQlecBFgTg90nAKzQFScB1sRg9wkAK3TFSYA1Mdh9AsAKXXESYE0Mdp8AsEJXnARYE4PdJwCs0BUnAdbEYPcJACt0xUmANTHYfQLACl1xEmBNDHafALBCV5wEWBOD3ScArNAVJwHWxGD3CQArdMVJgDUx2H0CwApdcRJgTQx2nwCwQlecBFgTg90nAKzQFScB1sRg9wkAK3TFSYA1Mdh9AsAKXXESYE0Mdp8AsEJXnARYE4PdJwCs0BUnAdbEYPcJACt0xUmANTHYfQLACl1xEmBNDHafALBCV5wEWBOD3ScArNAVJwHWxGD3CQArdMVJgDUx2H0CwApdcX4Bd6ZEgYuxktMAAAAASUVORK5CYII="},"1277":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1278":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1279":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1280":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEuUlEQVR4Xu2a25HUMBREZ3KAFAhjoyAEvgmGb0Igig2DFCCHpUyVqlTCth6+vaitM38Usz2t7uMr2TPPB6+lE3guvXoW/wCAxSEAAABYPIHFl88EAIDFE1h8+UwAAFg8gcWXzwQAgMUTWHz5TAAAWDyBxZfPBACAuRP49f3r2+bw45dvwCqoatpQU/H5moEgnoApAdgrnykQX/6maAWAMwSzbmVTArAVfTQFHCEo1zLTVmYJgBMEs59lpgXgDlPA4SxjC8DsU8BlC5sagNoUmBkCAAi6azkLclYAXMqf9jYwZ6cGwGwQ1PzOdAcAAEFTKsnUyp8NVgsAWs4BMwTrWD4ABEyAluLTx8w2/m8FwP+YAu7l2wDQug28JwQ95b+nr96hNv1zgJ4DVnrvh5eXx/PTZ8naeoufufxbToCt/PSKhmCkfADonUkH728NXwVA6+eX9mc8+OUeJWMyqPN/ZFpKyAH4/foa8lOyls89WjMABNJQK6Is/+r4TZ+36W4wjbwAYCS1wW1gD4BNauRQmMM2CsDs5VsdAltuBaMA2MovSx+BAAACr/6rAPScB95+/vj7U/TtlUZ/LwAO5dtNgBoEexOgLK5WTLr6ASD46o2SOzsItgBwdjAs9/1RCGqQRWURoWN1G5gWvAfB2f6/d4IvSyo1W2HaKwEAItA80YgAIJ8ErXot5wCn8i3PAEfngN4J0MLoyBQAgJZkL74n8oo9swIAF4tS/nnknn3ksxcAt6vfdgsotwHF+E9Q9EAAAMpLfkc7f1Zf3rJt/245tNUstwLgWL71BMinwAwTAABql5Lg/88mQMvVn5d29ICpBS7X8m89AWoA7JXWA0GuDwCCq7tVsvfZ/VlZIwA4l28/AbYF7H1zd3QAbCmr9RlD+ozo3x22gh/1PsvvAvLFtwLQUv7RU8ZUdnmnMfJDk6jionRuCUDvV8BlmC1ToBWoqKJUOvYApG0g/8bv6gENAFS4iXT3Hgv3/AJoz1YNAve9P635FhNgb++OGNFn3zcAgOhqviKbCoso/+hAeIeDX57xbSbAFXCO/vbouUAUYArPvZoAUEmshOBO5d/iQVAv8SPvj95aRjyo/oYJoErWRBcATIpS2QQAVbImugBgUpTKJgCokjXRBQCTolQ2AUCVrIkuAJgUpbIJAKpkTXQBwKQolU0AUCVrogsAJkWpbAKAKlkTXQAwKUplEwBUyZroAoBJUSqbAKBK1kQXAEyKUtkEAFWyJroAYFKUyiYAqJI10QUAk6JUNgFAlayJLgCYFKWyCQCqZE10AcCkKJVNAFAla6ILACZFqWwCgCpZE10AMClKZRMAVMma6AKASVEqmwCgStZEFwBMilLZBABVsia6AGBSlMomAKiSNdEFAJOiVDYBQJWsiS4AmBSlsgkAqmRNdAHApCiVTQBQJWuiCwAmRalsAoAqWRNdADApSmUTAFTJmugCgElRKpsAoErWRBcATIpS2QQAVbImugBgUpTKJgCokjXRBQCTolQ2AUCVrIkuAJgUpbIJAKpkTXQBwKQolU0AUCVrogsAJkWpbAKAKlkTXQAwKUplEwBUyZroAoBJUSqbAKBK1kQXAEyKUtkEAFWyJrp/AFgkL5+1OU5KAAAAAElFTkSuQmCC"},"1281":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAE6klEQVR4Xu2czY0UMRCFZ0UkmwZXIiACjkhAOIDEkQiIgCtpbCQI5EGWjNWetvvn+c3Ut6fdnm5X+b3PZbe7Z58u/IRW4Cl07+n8BQCCQwAAABBcgeDdpwIAQHAFgnefCgAAwRUI3n0qAAAEVyB496kAABBcgeDdpwIAQHAFgnefCgAAwRUI3n0qAAAEVyB490NUgM/PH/7s8fnTy9eH1enhOjZi9sd3ry9fvv+6ycbSOT9efl+v+Xn59vTm8v4KV/o9N5SOlX/vge/sax8CgNr0ZFr6aZm79nkpeguSBMHb51fXU9PvAHA2qlX7t0b6rZE9+lkvAAmGcqq4lypwdxWgp8SPmpzZWrquB4BcBXJFWKoK4vHRHe6uAOgxP/V8CwCta7YCUELhvIi8GwCW5vlbc/zoZ3sBaFWBsio4gmAJQGl2Em3E/FsV4MjKUC4Cc72tj+W/6+NOINgB0FPm127fRkfzlvZaZpeTb32nkD5zqwhWAPSYv3WOb123Zn7rujUAeipEhmVmRbAGYHQkr8GxtDTeCkDd1hoQ9RrBZVp4KAB6zOy+P6pOHGl7afS7LhLvDoARI7aavfe6XgCWoFBPBwCw1+3q+vycoFzste4SWlUhHVc9SwCAgwG41VzvwrB+tnBmijYALN0BjGzNninSUW0DwA0lewE4yowZ7YwAoNovsKgAW5/szTBxT8ytAKSYZy0OpwGQTV/a6i1FvodVfw8UvXcGrfMeCoDeHb8tGzs9Zjid07OBdJb5SYcpFWD04Y6TYUfm0jslhAAgC7v2jt6RBsxuqweAM823qQDZiEeZ73vBml3+pwGQAke47VvbFEqf16+RlcfOHv0A0DtURefV28ihAIhW/mumlt4eAgDRyHMIExoARv//XzLJ64IwFQAAAGD1O3oOZfqMHOoXR1UPgXJfpuwE1reBkSsAAKx8k+eMUefY5qyXRKkABjQsvUamWADabAQxBfz7mnn+UZk/FYByHRAVgNazgHAAGFThKSkAwM7/3TPFtQODhgeg9VSwpfEZpXHk7aQDvb/+W5n6uwP52Bn9bOU+7S6glVD91fAjRe9pawYQM54CTt8I6jHD4RwFEGU1UI7+6XcBDgaP5nA0EDPNB4BR9xfO3wrEzM2fsht2a4ADPJnaxFYg1KWfNYAIkx4gZpnPFCCCwDkMU4CzO4LcAEAgsnMIAHB2R5AbAAhEdg4BAM7uCHIDAIHIziEAwNkdQW4AIBDZOQQAOLsjyA0ABCI7hwAAZ3cEuQGAQGTnEADg7I4gNwAQiOwcAgCc3RHkBgACkZ1DAICzO4LcAEAgsnMIAHB2R5AbAAhEdg4BAM7uCHIDAIHIziEAwNkdQW4AIBDZOQQAOLsjyA0ABCI7hwAAZ3cEuQGAQGTnEADg7I4gNwAQiOwcAgCc3RHkBgACkZ1DAICzO4LcAEAgsnMIAHB2R5AbAAhEdg4BAM7uCHIDAIHIziEAwNkdQW4AIBDZOQQAOLsjyA0ABCI7hwAAZ3cEuQGAQGTnEADg7I4gNwAQiOwcAgCc3RHkBgACkZ1DAICzO4LcAEAgsnMIAHB2R5AbAAhEdg4BAM7uCHIDAIHIziEAwNkdQW4AIBDZOQQAOLsjyA0ABCI7hwAAZ3cEuQGAQGTnEADg7I4gNwAQiOwcAgCc3RHkBgACkZ1D/AVKeLif9Wsm8gAAAABJRU5ErkJggg=="},"1282":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAETElEQVR4Xu2ZQXLVMBBEk0uxyYHgCByBI4QDseFSUB/KlHHZ1khu509rXraxxzPdTy3Z//WFv9IKvJaenuFfAKA4BAAAAMUVKD4+CQAAxRUoPj4JAADFFSg+PgkAAMUVKD4+CQAAxRUoPj4JAADFFSg+PgkAAMUVKD4+CQAAxRUoPj4JAADFFSg+PgkAAMUVKD4+CQAAxRUoPj4JAADFFSg+PgkAAMUVKD4+CQAAhRT4+v3X8LTfPk+5WKYc6j+Tr5h+RMtEMMwLwB3G7wFhDsNcAHyU6ROB4A3AMw0/O0wYpYInAFmNX0NhAoEfAA7mG4HgBYCb+QsIidMAAIY/DHTcCAAdYh1d6rr6k6eARwK4m/+AIGkK5AdgBvMTpwAACHancImEKZAbgJlWf9IUKAHAl09v/xbp+88f4QUbvXCpH6qdLAXyAiBa/WvzF0NDRgXd39Zv1gaAgLIXzd8zff3UpkmBFo+e0awNAAF1gwC0jN57UtOgzU09zwjVBoAGAKbmP6YKAZDsm0C+M8ANAISNuXv1J3wTsAXgoWUrns+Mj74ZXHnGYdYl2gasAQicJnYvufvNoNkXAJxIFNwCmiIfXDB8eh994N59AAAASp6u1Mq1Bdy8+s/ODaMHxSHxSYAD2W4G4OxABwBDKItvAgCxoO1y028Brde4RSISoA3LvVd0rv7IL3Cj5kdqL2L0XPvnnkT7/6OdPAnQAUDkF7io+dtPuJHaR4fJUIoAwNgBsPcAFwVga1oEgEvfEgCgH4CWmXsrr3XP2d7finUAuOM0cLIF9K7+o/1Z8Ql4JvMtzgCj5p8x2lrhkXvX14T2/oQHwPQAtGI8LLwosS4lSLK9f5Ekz1vAo6PNNgAAInJPygBAh8aRN4TdcklXf64twDABwlsQAHQss+A2EBa/49GtS4cSILH5+RJgJwW2r3Rn7+8tAxX/73qDSG5+TgACEDxj9Q/BAwBDsv29qeO3gQtPue9WA/PzJsBiiysEJubnB8A1CQBAnKxOSWBkvkcCOG0HZuZ7AZB9OzA03w+AjBCYGr8Ea67fAnqODs8+F5gb7w/As84Gkxg/DwDb1LgrGSYzfl4A1kAoYJjU+BoA9Jwpil7rewgsaph6bABQK2pWDwDMDFO3CwBqRc3qAYCZYep2AUCtqFk9ADAzTN0uAKgVNasHAGaGqdsFALWiZvUAwMwwdbsAoFbUrB4AmBmmbhcA1Iqa1QMAM8PU7QKAWlGzegBgZpi6XQBQK2pWDwDMDFO3CwBqRc3qAYCZYep2AUCtqFk9ADAzTN0uAKgVNasHAGaGqdsFALWiZvUAwMwwdbsAoFbUrB4AmBmmbhcA1Iqa1QMAM8PU7QKAWlGzegBgZpi6XQBQK2pWDwDMDFO3CwBqRc3qAYCZYep2AUCtqFk9ADAzTN0uAKgVNasHAGaGqdsFALWiZvUAwMwwdbsAoFbUrB4AmBmmbvc3Po5KkIoBfO8AAAAASUVORK5CYII="},"1283":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADGUlEQVR4Xu2YQU6UYRQEmZ2JV/QwHMYrmrjDYMQYA8jMQP01drGH7q+68gY43fU1TeA0/foef5cA4xIkQAKMExh/fhcgAcYJjD+/C5AA4wTGn98FSIBxAuPP7wIkwDiB8ed3ARJgnMD487sACTBOYPz5XYAEGCcw/vwuQAKMExh/fhcgAcYJjD+/C5AA4wTGn98FSIBxAuPP7wIkwDiB8ed3ARJgnMD487sACTBOYPz5XYAEGCcw/vwuQAKMExh/fhcgAcYJjD+/C5AAt0/g4f7rw0uvON1/uVryj/75Ry5wNZwjyz9mvzbOn90uFeGjf/7R/G5WgLcOc40E52ZcKtmREtykAC8Nc/r+7SfLh0+fn2V6zkBExpHDP2X/NwI8jf/0sL8lOGf8lz5a/pXx+H3n5hwtwYQAl4zy3AVIgKN1/ZV/znm+ZPzfV+SZvy5e+5i5JusotDd5Ad7y2/97jfHWXwTfK48W4WYFIEH1fwCSdlkogS4AitsXlgC+TdBGCYDi9oUlgG8TtFECoLh9YQng2wRtlAAobl9YAvg2QRslAIrbF5YAvk3QRgmA4vaFJYBvE7RRAqC4fWEJ4NsEbZQAKG5fWAL4NkEbJQCK2xeWAL5N0EYJgOL2hSWAbxO0UQKguH1hCeDbBG2UAChuX1gC+DZBGyUAitsXlgC+TdBGCYDi9oUlgG8TtFECoLh9YQng2wRtlAAobl9YAvg2QRslAIrbF5YAvk3QRgmA4vaFJYBvE7RRAqC4fWEJ4NsEbZQAKG5fWAL4NkEbJQCK2xeWAL5N0EYJgOL2hSWAbxO0UQKguH1hCeDbBG2UAChuX1gC+DZBGyUAitsXlgC+TdBGCYDi9oUlgG8TtFECoLh9YQng2wRtlAAobl9YAvg2QRslAIrbF5YAvk3QRgmA4vaFJYBvE7RRAqC4fWEJ4NsEbZQAKG5fWAL4NkEbJQCK2xeWAL5N0EYJgOL2hSWAbxO0UQKguH1hCeDbBG2UAChuX1gC+DZBGyUAitsXlgC+TdBGCYDi9oUlgG8TtFECoLh9YQng2wRt9APCcFyBqrR4iQAAAABJRU5ErkJggg=="},"1284":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAACs0lEQVR4Xu2WUW4aARTE4ES5/zF6IqJUpaoQKZ0uP2s7n8kjwjNmluulH3UCVzV98JcEkEuQAAkgT0CO3wIkgDwBOX4LkADyBOT4LUACyBOQ47cACSBPQI7fAiSAPAE5fguQAPIE5PgtQALIE5DjtwAJIE9Ajt8CJIA8ATl+C5AA8gTk+C1AAsgTkOO3AAkgT0CO3wIkgDwBOX4LkADyBOT4LUACyBOQ47cACSBPQI7fAiSAPAE5fguQAPIE5PgtQALIE5DjtwAJIE9Ajt8CJIA8ATl+C5AA8gTk+C1AAsgTkOO3AAkgT0CO3wIkgDwBOX4LkADyBOT4LUACyBOQ47cACSBPQI7fAiSAPAE5fguQAPIE5PgtQALIE5DjtwAPAtx+XG5fv7p+XBTZ4CCPFHh/7d0JgwQoAY4U+PhaywokwK+PewIAvgwdKfHIepw5OvQC/Ouz/Ig4Zy7/52Pu7ACP7/9ZmX/e3L/Y/e3O8OXv94eDJsAXzysJXjEnwKuETvD3/5XAVD7yEbA+Ep49Hk7g99veIu47wHfJfLcItk/8Yz4aAd72kYH9owSAFbriJMCaGOw+AWCFrjgJsCYGu08AWKErTgKsicHuEwBW6IqTAGtisPsEgBW64iTAmhjsPgFgha44CbAmBrtPAFihK04CrInB7hMAVuiKkwBrYrD7BIAVuuIkwJoY7D4BYIWuOAmwJga7TwBYoStOAqyJwe4TAFboipMAa2Kw+wSAFbriJMCaGOw+AWCFrjgJsCYGu08AWKErTgKsicHuEwBW6IqTAGtisPsEgBW64iTAmhjsPgFgha44CbAmBrtPAFihK04CrInB7hMAVuiKkwBrYrD7BIAVuuIkwJoY7D4BYIWuOAmwJga7TwBYoStOAqyJwe4TAFboipMAa2Kw+wSAFbrifAIRuzOBIeJVeAAAAABJRU5ErkJggg=="},"1287":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1289":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEbUlEQVR4Xu2Z0Y3bMBBE7/pJNakiJaWKVJN+EvjDgCGI4iwljcfYl89A1OzOPC4p3/cX/1o78N26e5r/AoDmEAAAADR3oHn7TAAAaO5A8/aZAADQ3IHm7TMBAKC5A83bZwIAQHMHmrfPBACA5g40b58JAADNHWjePhMAAJo70Lx9JgAANHegeftMAABo7kDz9pkAANDcgebtMwEAoLkDzdtnAgBAcweat88EAICeDvz68/fftvPfP3+02xDtGt4L/hWEEQSr69K3VysAZiE+w9pCsLouPfxHfR8JwMr4VkN8mLIKwN7adAjeDsA2mNk5fBRkdXw/nz8CqgIOABRwXwny8Xo1kFcYFMj2nhlpHb370yB4ywRQQtzbzcq60c3+uVadEo/n1KNGAaywN6yP2gGohKjuNOWdZ46W0eXw+f8qKNZkRTErALORerSTZrvsDARn1o4gmAEn5nP7YzYAlF1SuYypo1z5sUc5/2eBKv3dnuaCwNsAUAMc3dRngYwujMon3t75v6KnrFnI7NIlFgAqu2M06mdHwMiV2Tpl96s3+0qfl6Z44mW3A1A1JRGAyk6eAXciq1uW2gGYmalcyNQdqRwDygSY1fyaDABsOK0aogBwJpBXeEbTqVrzEQBH27bSxy3b3/G3gIqZSviV3b83AVZ+/q0EpfYw+23hrsC37405AirGnQlE+aqo3ltWJ0ACBLcD8LoL1U+/rTFXBqL+xFuZXACwOK+Odv3se12dAspkUf7usKp35bsXbT5cZpkAexVUwldu81WNvefVvz1UtABgx61R+LNdpkKj7PqV3bR6hG21Vo+XlZpna94yAVYCOrq9z5p8fjms6Crvnk0TANg44Axi+9no0J5NMuVivApedd3HTIBqY9VPrCvAUIJf7eOudW8BYHSpqzQ5OxKuCOMJxejT8bXeK/Qq/V/17NsAUBs48xuAqtH5uXgAOofj6B0AHC4HawBAcDiO0gDA4XKwBgAEh+MoDQAcLgdrAEBwOI7SAMDhcrAGAASH4ygNABwuB2sAQHA4jtIAwOFysAYABIfjKA0AHC4HawBAcDiO0gDA4XKwBgAEh+MoDQAcLgdrAEBwOI7SAMDhcrAGAASH4ygNABwuB2sAQHA4jtIAwOFysAYABIfjKA0AHC4HawBAcDiO0gDA4XKwBgAEh+MoDQAcLgdrAEBwOI7SAMDhcrAGAASH4ygNABwuB2sAQHA4jtIAwOFysAYABIfjKA0AHC4HawBAcDiO0gDA4XKwBgAEh+MoDQAcLgdrAEBwOI7SAMDhcrAGAASH4ygNABwuB2sAQHA4jtIAwOFysAYABIfjKA0AHC4HawBAcDiO0gDA4XKwBgAEh+MoDQAcLgdrAEBwOI7SAMDhcrAGAASH4ygNABwuB2sAQHA4jtIAwOFysAYABIfjKA0AHC4HawBAcDiO0gDA4XKwBgAEh+MoDQAcLgdrAEBwOI7SAMDhcrAGAASH4ygNABwuB2sAQHA4jtIAwOFysMZ/kIP4kJ+oB74AAAAASUVORK5CYII="},"1291":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEUUlEQVR4Xu2awXHcMBAEdcn47Xgch8NwHI7Hbycj17mKJRZFEgtweNrBtt7gcjHTGAA8Pd74K63Ao/TsmfwbABSHAAAAoLgCxadPAgBAcQWKT58EAIDiChSfPgkAAMUVKD59EgAAiitQfPokAAAUV6D49EkAACiuQPHpkwAAUFyB4tMnAQCguALFp08CAEBxBYpPnwQAgOIKFJ8+CQAAxRUoPn0SAACKK1B8+iQAANRR4P3bz/fR2T7+/ppysUw5qbXJV0w/gmUmGKYF4A7j94Bwh2EqAF5l+kwgWAPwlYafnSWcUsESgKzGr6FwgcAOAAfznUCwAsDN/AWEzGkAAKMfBjqeA4AOsY6Guq7+7ClgkQDu5j8hyJoC6QGYwfzMKQAAgu0pWiJjCqQGYKbVnzUFagDw4/vHIv39J7pg4+OW+oHa2VIgLQCy1b82f7E0YFTY/W39Rm0ACCh72fw909fvVQBw9A4ACDjcGBIGoGX03nt6ze95R6A2CTCr+c95BQDI9k0g3RngltUfNOYTm+LVn/Em4AvAU82WQWfGR28GV95xkHaZtgFvAEaPG3ffDBp9AcCJQOEtQGl+x/49+tr1cwAAAGmSN00jTyZuX/1n54bRg+JAJJAAB6LdDsDZgQ4ABlAWPwIAYkED5ebfAlrXuDt+H+AWEEBvM6R79Ud+gRs1P1J76b9nbML/DEqTAF0ARH6Bi5q/vQJGah8dJgPniEwHwP+fpfvX6j1PNAHoPcBFAdiaFgFg8JfAbL8D+ADQMnNv5bWeOdv7W7EOAPoUOE2A3tV/tD8rPgFPZL5HAoyaf8Zoa4VHnl2PCez9GeM/PwCtGA8KL8urCwmS7fC3aJLmELj7KRgAZOweFQKAHokjN4SdellXf6otwDIBglsQAHSssk+3gQun7o7XxoYOJEBm89MlwG4KbK90Z/f3mI3XRnXcILKbnxKAEATB6L3m9PWnAeCChs1Pwxdqv+JRB/PTJsBikCsELuanB+B0O3jFMh58BwAMCnf0mFMSOJlvkQBO24Gb+VYAZN8OHM23AyAjBK7GL8ma6reAnqPDV58L3I23B+CrzgazGD8NANvUuCsZZjN+WgDWQChgmNX4EgD0nCmqjrU9BFY1TD1vAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZuFwDUiprVAwAzw9TtAoBaUbN6AGBmmLpdAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZuFwDUiprVAwAzw9TtAoBaUbN6AGBmmLpdAFAralYPAMwMU7cLAGpFzeoBgJlh6nYBQK2oWT0AMDNM3S4AqBU1qwcAZoap2wUAtaJm9QDAzDB1uwCgVtSsHgCYGaZu9x9NVkSQhnYrHAAAAABJRU5ErkJggg=="},"1292":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADGUlEQVR4Xu2YQU6UYRQEmZ2JV/QwHMYrmrjDYMQYA8jMQP01drGH7q+68gY43fU1TeA0/foef5cA4xIkQAKMExh/fhcgAcYJjD+/C5AA4wTGn98FSIBxAuPP7wIkwDiB8ed3ARJgnMD487sACTBOYPz5XYAEGCcw/vwuQAKMExh/fhcgAcYJjD+/C5AA4wTGn98FSIBxAuPP7wIkwDiB8ed3ARJgnMD487sACTBOYPz5XYAEGCcw/vwuQAKMExh/fhcgAcYJjD+/C5AAt0/g4f7rw0uvON1/uVryj/75Ry5wNZwjyz9mvzbOn90uFeGjf/7R/G5WgLcOc40E52ZcKtmREtykAC8Nc/r+7SfLh0+fn2V6zkBExpHDP2X/NwI8jf/0sL8lOGf8lz5a/pXx+H3n5hwtwYQAl4zy3AVIgKN1/ZV/znm+ZPzfV+SZvy5e+5i5JusotDd5Ad7y2/97jfHWXwTfK48W4WYFIEH1fwCSdlkogS4AitsXlgC+TdBGCYDi9oUlgG8TtFECoLh9YQng2wRtlAAobl9YAvg2QRslAIrbF5YAvk3QRgmA4vaFJYBvE7RRAqC4fWEJ4NsEbZQAKG5fWAL4NkEbJQCK2xeWAL5N0EYJgOL2hSWAbxO0UQKguH1hCeDbBG2UAChuX1gC+DZBGyUAitsXlgC+TdBGCYDi9oUlgG8TtFECoLh9YQng2wRtlAAobl9YAvg2QRslAIrbF5YAvk3QRgmA4vaFJYBvE7RRAqC4fWEJ4NsEbZQAKG5fWAL4NkEbJQCK2xeWAL5N0EYJgOL2hSWAbxO0UQKguH1hCeDbBG2UAChuX1gC+DZBGyUAitsXlgC+TdBGCYDi9oUlgG8TtFECoLh9YQng2wRtlAAobl9YAvg2QRslAIrbF5YAvk3QRgmA4vaFJYBvE7RRAqC4fWEJ4NsEbZQAKG5fWAL4NkEbJQCK2xeWAL5N0EYJgOL2hSWAbxO0UQKguH1hCeDbBG2UAChuX1gC+DZBGyUAitsXlgC+TdBGCYDi9oUlgG8TtFECoLh9YQng2wRt9APCcFyBqrR4iQAAAABJRU5ErkJggg=="},"1293":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAACGklEQVR4Xu3VwQ2CUBQFUWnGCi3DCm0Gg4mJRkwQN+Sfcc3CuW8YplM/eoGJpg/+lAC4BAmQAPgCOH4FSAB8ARy/AiQAvgCOXwESAF8Ax68ACYAvgONXgATAF8DxK0AC4Avg+BUgAfAFcPwKkAD4Ajh+BUgAfAEcvwIkAL4Ajl8BEgBfAMevAAmAL4DjV4AEwBfA8StAAuAL4PgVIAHwBXD8CpAA+AI4fgVIAHwBHL8CJAC+AI5fARIAXwDHrwAJgC+A41eABMAXwPErQALgC+D4FSAB8AVw/AqQAPgCOH4FSAB8ARy/AiQAvgCOXwESAF8Ax68ACYAvgONXgATAF8DxK0AC4Avg+BUgAfAFcPwKkAD4Ajg+U4D5fJm33nq6XZldCNBfjv+URJFgeAH2HH+RIAG29vLgz+0RQDn+Q/SD3++vv7d2fOm4W8YbVoBvb34CvGtBCdDxP5swrAAL6msFOv76B2FoAbZ8A/VnEgA3IAESAF8Ax68ACYAvgONXgATAF8DxK0AC4Avg+BUgAfAFcPwKkAD4Ajh+BUgAfAEcvwIkAL4Ajl8BEgBfAMevAAmAL4DjV4AEwBfA8StAAuAL4PgVIAHwBXD8CpAA+AI4fgVIAHwBHL8CJAC+AI5fARIAXwDHrwAJgC+A41eABMAXwPErQALgC+D4FSAB8AVw/AqQAPgCOH4FSAB8ARy/AiQAvgCOXwFwAe65pSCB0/MxbgAAAABJRU5ErkJggg=="},"1295":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1297":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1298":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEJklEQVR4Xu2bQW7UQBREkyOw4AYICU7FQVhyEE4FEuIGLDhC0IwwMpbbHidx/dfTL9uJpqqrnv90dzKPD/4MncDj0Kt38Q8CMDgEAiAAgycw+PKdAAIweAKDL98JIACDJzD48p0AAjB4AoMv3wkgAIMnMPjynQAFAHx79+bpIvvx5+/y/MsNFORfKjmVP5mohqAEgHkI1QEkaViWT5gCcQCIIaQgWFt7NQQIAKpDSADQKr967RgAqoM4E4Kt8qvXHQfgsmDq03AWBAKwSJYcyGtDsLdWJ8BK4vd0MhCAlYLpobzWFFiu88Ont9e3/v71138SlcDj9gDzZCqDeSkErfKn951DULlONACU27KjMKxNuOnpF4CdU0Ar7Mqn5KUALMtffgxUrg01AVqfkT1Nglue/jkAleVffGAA2BqRvewLWpvbrQkgAH/b3RuTPUyBo09/9R1A2QRYuw1cA2DtyEQGQQAO7JaeE9by7avH59xPj+MfNQEuZo5OAco0eE75hPGPA6BHCLZuNff2NYQJVnIKWNsDTE9zb1PgyNNPOv9PeZcB0IKgBcDWhrB6nO5d+9Ju/+Z7l64AaEFAGKUT0LcCTPFcCsCR4+CcWsofUpankqcv76//7t36IfrGAbC1Efz3ufX5R7nvtZIF4MA9wPSrRzdR16MLFICLty0IpglAGf+lx8A5K7deCtHL35oKxPHfFQDkp35v8NG+DYQ5Bdw6BXouf/lRRxr/mAnQuhOoPt/vPdn38DpmN0382tQ9FLy3BgwArSlAG5l7gfb2OhoAyz8fJwE4P2O0ggCg6znfHAqA+T7A8X9++ahjYGa5qiwTwE0AK8omIADZvHFqAoCrJGtIALJ549QEAFdJ1pAAZPPGqQkArpKsIQHI5o1TEwBcJVlDApDNG6cmALhKsoYEIJs3Tk0AcJVkDQlANm+cmgDgKskaEoBs3jg1AcBVkjUkANm8cWoCgKska0gAsnnj1AQAV0nWkABk88apCQCukqwhAcjmjVMTAFwlWUMCkM0bpyYAuEqyhgQgmzdOTQBwlWQNCUA2b5yaAOAqyRoSgGzeODUBwFWSNSQA2bxxagKAqyRrSACyeePUBABXSdaQAGTzxqkJAK6SrCEByOaNUxMAXCVZQwKQzRunJgC4SrKGBCCbN05NAHCVZA0JQDZvnJoA4CrJGhKAbN44NQHAVZI1JADZvHFqAoCrJGtIALJ549QEAFdJ1pAAZPPGqQkArpKsIQHI5o1TEwBcJVlDApDNG6cmALhKsoYEIJs3Tk0AcJVkDQlANm+cmgDgKskaEoBs3jg1AcBVkjUkANm8cWoCgKska0gAsnnj1AQAV0nWkABk88apCQCukqwhAcjmjVMTAFwlWUMCkM0bpyYAuEqyhgQgmzdOTQBwlWQNCUA2b5zaH1KHU5CpM6YJAAAAAElFTkSuQmCC"},"1299":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADU0lEQVR4Xu2bwW3bUBQE5aZySUF2CS4hJdhNuItcck4/DmSAiBNRxJAnc9746qXA3R3+/0hKD5f+RifwMNp95i8BcA+C59f3m3/9eNTlpTO0+6JeK3rrQ2QQzAXg+fX96dv3m6pffv3cZigAdl9jX++AO+UvJ7oJQQB8vT73ntHT2+/b/f3ThwTA3kRPpg+Av4XNnAE2toBmgJNdzUdOd2sFCIAjiZ7smAAYvgUcBkB2B3DFYOQMcA+Aacv/SAAOX/3XtFoBTrbZr5xuAPwbyrgt4DAAwqu/LeC/FWLSE8DFeivA0EfAAbAyH9xdAaTLf1vA8Ks/AAJg3oOgQw+B2gLOf/+/OAiAngOsfhlk4gDYDEBmAPHyHwAB0BC4MNAW4JnzNp3sHgLbAlxkBEB3Ad0FfGJg3Mugy8o3gie+BRz7MujD+PJ7wOv+vvXbQPn+P/I28GaiCQDXkHfIzZCfgq9lM28GOESI96AA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnAUAiskrCgBvt8hZAKCYvKIA8HaLnP0BuAG0gcNzYAYAAAAASUVORK5CYII="},"1300":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEXElEQVR4Xu2ZwZHVMBBE/2ZAIsudMAiGKDYYwuAOiZAB1D+YcrlsayS3+dOat9e1xqPup5bk//bgr7QCb6Vnz+QfAFAcAgAAgOIKFJ8+CQAAxRUoPn0SAACKK1B8+iQAABRXoPj0SQAAKK5A8emTAABQXIHi0ycBAKC4AsWnTwIAQHEFik+fBACA4goUnz4JAADFFSg+fRIAAIorUHz6JAAAFFeg+PRJAAAorkDx6ZMAAFBHgU8/v/0Zne3vzx9TLpYpJ7U2+YrpR7DMBMO0ANxh/B4Q7jBMBcD/Mn0mEKwBeKXhZ2cJp1SwBCCr8WsoXCCwA8DBfCcQrABwM38BIXMaAMDoh4GOcQDQIdbRo66rP3sKWCSAu/lPCLKmQHoAZjA/cwoAgGB7ipbImAKpAZhp9WdNgRIAfH//8W+Rfv31Jbpgw88t9SO1s6VAWgBUq39t/uJoxKio+9v6rdoAEFD2qvl7pq9f2zIp0OLj6B2t2gAQUDcKQMvovVe1DNqO6XlHpDYANABwNf85rQgA2b4JpDsD3AFA1Ji7V3/Gm4AtAE8xW/F8Znz0ZnDlHUdhl2kbsAYgcJzYfeTum0GrLwA4USi6BbREPvr/6Ol99H174wAAANIkb5pGnkzcvfrPzg2jB8WRZCABDlS7G4CzAx0AjKAsHgMAYkED5abfAlrXuDt+H2jpzhawo1Dv6o/8AjdqfqT2MoWeZ7N9BXz2kyYBegCI/AIXNX/7CTdS++gwGTlHZFr9VgD0HuCiAGxNiwBw5VsCAAzcAFpm7q281pizvb8V6wDQOuUM/P9sC+hd/Uf7s+IT8EzmW2wBo+afMdha4ZGx62cie3/GA2B6AFoxHhV+IJB2h1xJkGx7/zLBNLeAvU/BAKBC97gOAHRoHLkh7JXLuvpTbQGOCRDdggCgY5VtbwNXTt0drw09OpIAmc1PlwB7KbC90p3d30MuXnyo5waR3fyUAEQgiEbvRa8vDweACxL2/DZw4TW3DXUwP20CLK64QuBifnoAzraD25auoDAACERcl3BKAifzLRLAaTtwM98KgOzbgaP5dgBkhMDV+CVZU/0W0HN0ePW5wN14ewBedTaYxfhpANimxl3JMJvx0wKgvj7OanwJAHrOFFWftT0EVjVMPW8AUCtqVg8AzAxTtwsAakXN6gGAmWHqdgFArahZPQAwM0zdLgCoFTWrBwBmhqnbBQC1omb1AMDMMHW7AKBW1KweAJgZpm4XANSKmtUDADPD1O0CgFpRs3oAYGaYul0AUCtqVg8AzAxTtwsAakXN6gGAmWHqdgFArahZPQAwM0zdLgCoFTWrBwBmhqnbBQC1omb1AMDMMHW7AKBW1KweAJgZpm4XANSKmtUDADPD1O0CgFpRs3oAYGaYul0AUCtqVg8AzAxTtwsAakXN6gGAmWHqdgFArahZPQAwM0zdLgCoFTWrBwBmhqnbBQC1omb1AMDMMHW7AKBW1KweAJgZpm73L0FyfpAMdFS5AAAAAElFTkSuQmCC"},"1301":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADMUlEQVR4Xu2XwW1TURQF4xYoIr3QBg2woQw2NEAb9EIRtODIiRxFsoH/rHH0J3dYO8fnzpm8iMND/0YTOIy+vuMfEmC4BAmQAMMJDD+/FyABhhMYfn4vQAIMJzD8/F6ABBhOYPj5vQAJMJzA8PN7ARJgOIHh5/cCJMBwAsPP7wVIgOEEhp/fC5AAwwkMP78XIAGGExh+fi9AAgwnMPz8XoAEGE5g+Pm9AAkwnMDw83sBEmA4geHn9wIkwHACw8/vBUiA4QSGn98LkADDCQw/vxcgAYYTGH5+L0ACDCcw/PwxL8Dx15fj4fPPpXu3/MzpMyeHVrP34t0SkL2UPvfYCv/8uZWh3v7M1ruNEmgFuGWgBLhUOQGu/HrfW66tL8p7fE4rwAnOvYa6V+57DLr6HVoBbh1p65+B1Xzj3/9nFqvG7OXzVwf6+uml3o8/f625MtTFd/wjfyV3LwzVAlz8CTiPc6Z7RYJbR3oV4cp33Jq5Fwm0L8BbgM8D/UcAaqjj47eX//f//v4h2H2II/by22TskQDG1cDOCQDCNEYlgHE1sHMCgDCNUQlgXA3snAAgTGNUAhhXAzsnAAjTGJUAxtXAzgkAwjRGJYBxNbBzAoAwjVEJYFwN7JwAIExjVAIYVwM7JwAI0xiVAMbVwM4JAMI0RiWAcTWwcwKAMI1RCWBcDeycACBMY1QCGFcDOycACNMYlQDG1cDOCQDCNEYlgHE1sHMCgDCNUQlgXA3snAAgTGNUAhhXAzsnAAjTGJUAxtXAzgkAwjRGJYBxNbBzAoAwjVEJYFwN7JwAIExjVAIYVwM7JwAI0xiVAMbVwM4JAMI0RiWAcTWwcwKAMI1RCWBcDeycACBMY1QCGFcDOycACNMYlQDG1cDOCQDCNEYlgHE1sHMCgDCNUQlgXA3snAAgTGNUAhhXAzsnAAjTGJUAxtXAzgkAwjRGJYBxNbBzAoAwjVEJYFwN7JwAIExjVAIYVwM7JwAI0xiVAMbVwM4JAMI0RiWAcTWwcwKAMI1RCWBcDeycACBMY1QCGFcDOycACNMYlQDG1cDOCQDCNEYlgHE1sHMCgDCNUQlgXA3s/ARlJ1qBb3v/5gAAAABJRU5ErkJggg=="},"1304":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1305":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1306":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAB0UlEQVR4Xu3UAQ0AAAyDsM+/6QspcwAh2zXawGj64K8A8AgKoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7gALADeD4PUAB4AZw/B6gAHADOH4PUAC4ARy/BygA3ACO3wMUAG4Ax+8BCgA3gOP3AAWAG8Dxe4ACwA3g+D1AAeAGcPweoABwAzh+D1AAuAEcvwcoANwAjt8DFABuAMfvAQoAN4Dj9wAFgBvA8XuAAsAN4Pg9QAHgBnD8HqAAcAM4fg9QALgBHL8HKADcAI7fAxQAbgDH7wEKADeA4/cABYAbwPF7ADyAB6SPAIFm19U7AAAAAElFTkSuQmCC"},"1308":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAACF0lEQVR4Xu3XsRGCQBgFYWjGKg2t0mZwSDluBtP71thk37+suG996AV2mj74LQFwCRIgAfAFcPwKkAD4Ajh+BUgAfAEcvwIkAL4Ajl8BEgBfAMevAAmAL4DjV4AEwBfA8StAAuAL4PgVIAHwBXD8CpAA+AI4fgVIAHwBHL8CJAC+AI5fARIAXwDHrwAJgC+A41eABMAXwPErQALgC+D4FSAB8AVw/AqQAPgCOH4FSAB8ARy/AiQAvgCOXwESAF8Ax68ACYAvgONXgATAF8DxK0AC4Avg+BUgAfAFcPwKkAD4Ajh+BUgAfAEcvwIkAL4Ajl8BEgBfAMevAAmAL4DjV4AEwBfA8StAAuAL4PgVIAHwBXB8vgDH53VcHdjfX2YXBvQ88t2xZwFQJGAE+Of4pxQJsNBvY8efH3P5Ajw5vvK032mwtACz48sHH154Fyr9gKK/4T+57dIFuL759+SPSiwvwJOnQP5OAsjXP//u4vw8fgLgCiRAAuAL4PgVIAHwBXD8CpAA+AI4fgVIAHwBHL8CJAC+AI5fARIAXwDHrwAJgC+A41eABMAXwPErQALgC+D4FSAB8AVw/AqQAPgCOH4FSAB8ARy/AiQAvgCOXwESAF8Ax68ACYAvgONXgATAF8DxK0AC4Avg+BUgAfAFcPwKkAD4Ajh+BUgAfAEcvwIkAL4Ajl8BEgBfAMevAAmAL4DjVwBcgB8AxSCBC57zsQAAAABJRU5ErkJggg=="},"1309":{"type":"canvas-datauri","data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAD0UlEQVR4Xu2cvY0UMQBG52ISKID8SMiRCKACBNl1QANkSAiJjAZogwqOFoDgCqABEuJFs1qvfJbt8ZgVkv3eZveze/t9fvP8MwtXC/Bxe3h+iGO//vns+OXvp5+vaHXgAqeDvw64AICwjwF48fHt8u3DlzMARAugDJAOfuD+0Zvv50uANg1gAVhHPGcAmgXQAITLPqwBwtckC2AAyC3+BGBZEADUBj/eBWiASXcDKQBh7k8N8OnVn+X91weoMwGcAdbBD491CxgMsA5+eKwQUNYB0wOQ039sgHgBGBuAshtAApA7Bi7NfrObYGoAthZ/uQVgCoIADLowDIOfLvjSOOkZQC7uzBBMa4AVgNyCTwDuNzA1APFxb0lkJQNQtoRTAtAy95dOAdfvk7aEAnD6MEhqCMqWUAAiANJBJ+wIpgNgj/7jbWCqfcq5AA6A0n2AMPeHewG13e9M20IUAKX7AHuPOgRgb2P/6fdb9F8zwJ63OQsEUxmgBYCeg6CZTwfnAeD65nB792vPRXy+Fbz7SacnzGCBaQDoufpbbgbNvhicAoCte/61QcwdBZfOA3LfH90CUwLQchOo9JmA0nlA6fsC0DuBXup5hbl/6zZwCYDaeUDJDCNDMLwBeuf+GgA9bI4KwdgAdK78L7UVjF9HAHoum398Tu4feva8ZMungrZeVwC2Grr0z6Orv2XRt7UmoEIw5hRwfXP8Dx7ig5/aAKeAvHzy+N5ze88DZlgUDg1ACkFNMlsG2AvB1u3jUaaEMQFYR+tkgTDoPcfALYvB2odEaj8TgEvP+XterxOOdB2wdZWX3tIog7++/3EN0AJEAkJtymj5dHDuT66D/fDHu+OaZKSBD1nmBqAFEvjvCIAAwBuAx9cAAgBvAB5fAwgAvAF4fA0gAPAG4PE1gADAG4DH1wACAG8AHl8DCAC8AXh8DSAA8Abg8TWAAMAbgMfXAAIAbwAeXwMIALwBeHwNIADwBuDxNYAAwBuAx9cAAgBvAB5fAwgAvAF4fA0gAPAG4PE1gADAG4DH1wACAG8AHl8DCAC8AXh8DSAA8Abg8TWAAMAbgMfXAAIAbwAeXwMIALwBeHwNIADwBuDxNYAAwBuAx9cAAgBvAB5fAwgAvAF4fA0gAPAG4PE1gADAG4DH1wACAG8AHl8DCAC8AXh8DSAA8Abg8TWAAMAbgMfXAAIAbwAeXwMIALwBeHwNIADwBuDxNYAAwBuAx9cAAgBvAB5fAwgAvAF4fA0gAPAG4PE1gADAG4DH1wACAG8AHl8DCAC8AXh8DSAA8Abg8TUAHIC/SMlwkPnx3YIAAAAASUVORK5CYII="}}}</script>
  <script>/**
ðŸ“¸
@file filters
@summary adds post-processing filters to flickguys
@license MIT
@version 1.2.2
@author Sean S. LeBlanc

@description
The main drawing/output canvas is overlaid with
a WebGL canvas which copies the original and applies the filters.

Note that filters will work in remix mode,
but ones which modify UVs may make it difficult draw.

HOW TO USE:
1. Copy-paste this script into a script tag in your flickguy
2. (optional) edit `hackOptions` below with custom filters
*/
this.hacks = this.hacks || {};
(function (exports, flickguy) {
'use strict';
const hackOptions = {
	source: 'https://github.com/seleb/flickguy-hacks/blob/main/dist/filters.js',
	filters: [
		{
			name: 'none',
			shader: undefined,
		},
		{
			name: 'invert',
			shader: `
precision mediump float;
uniform sampler2D tex0;
uniform vec2 resolution;

void main(void) {
	vec2 uv = gl_FragCoord.xy / resolution;
	vec4 col = texture2D(tex0, uv);
	gl_FragColor.rgb = 1.0 - col.rgb;
	gl_FragColor.a = col.a;
}`,
		},
		{
			name: '1-bit',
			scale: 2,
			shader: `
precision mediump float;
uniform sampler2D tex0;
uniform vec2 resolution;
const float posterize = 1.0;

void main(void) {
	vec2 uv = gl_FragCoord.xy / resolution;
	vec4 col = texture2D(tex0, uv);
	vec3 raw = vec3(col.r+col.g+col.b)/3.0;
	vec3 posterized = raw - mod(raw, 1.0/posterize);

	vec2 dit = floor(mod(uv * resolution, 2.0));
	float limit = (dit.x + dit.y) * 0.25 + 0.2;
	vec3 dither = step(limit, (raw - posterized) * posterize) / posterize;

	gl_FragColor.rgb = posterized + dither;
	gl_FragColor.a = col.a;
}`,
		},
		{
			name: 'lcd',
			scale: 8,
			shader: `
// rough simulated lcd pixel grid with shadowing + burn-in
precision mediump float;
uniform sampler2D tex0;
uniform sampler2D tex1;
uniform float time;
uniform vec2 resolution;
vec2 uBufferSize = vec2(128, 128);
//https://stackoverflow.com/questions/12964279/whats-the-origin-of-this-glsl-rand-one-liner
float rand(vec2 co){
	return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}
vec3 tex(vec2 uv){
	return texture2D(tex0, uv).rgb;
}
float vignette(vec2 uv, float amount){
	uv*=2.0;
	uv -= 1.0;
	return clamp((1.0-uv.y*uv.y)*(1.0-uv.x*uv.x)/amount, 0.0, 1.0);
}
float grille(vec2 uv, vec2 amount){
	vec2 g = mod(uv*uBufferSize,vec2(1.0));
	g *= 2.0;
	g -= 1.0;
	g = abs(g);
	g.x = 1.0 - g.x*amount.y;
	g.y = 1.0 - g.y*amount.x;
	return 1.0-pow(1.0-g.y*g.x,2.0);
}
void main(void){
	vec2 uv = gl_FragCoord.xy / resolution;
	vec2 puv = floor(uv * uBufferSize + vec2(.5)) / uBufferSize;
	vec3 fg = tex(uv);
	fg += rand(uv) * 0.05; // noise
	// shade
	vec2 uv2 = uv + vec2(-1.0, 1.0)/uBufferSize/3.0;
	vec3 shade = vec3(0.0);//(fg - tex(uv2);
	shade += (fg - tex(uv2 + vec2(-.0,1.0)/uBufferSize/4.0));
	shade += (fg - tex(uv2 + vec2(1.0,-.0)/uBufferSize/4.0));
	shade += (fg - tex(uv2 + vec2(-.0,-.0)/uBufferSize/4.0));
	shade += (fg - tex(uv2 + vec2(1.0,1.0)/uBufferSize/4.0));
	shade /= 4.0;
	fg = fg - max(vec3(0.0), shade) * 0.5;
	fg *= vec3(241.0,255.0,184.0)/255.0; // tint
	fg = mix(fg, vec3(1.0), step(grille(uv, vec2(0.5,0.5)), 0.8)*0.1 * (1.0 - fg.g)); // grid
	fg += rand(puv + 1.0 / 128.0) * 0.01; // grid noise
	
	// burn
	fg *= pow(vignette(uv,0.01), 3.0);
	fg *= mix(vec3(0.9, 0.4, 0.1), vec3(1.0), pow(vignette(uv,0.14), 0.5)*0.5 + 0.5);
	fg *= mix(vec3(0.4, 0.7, 0.1), vec3(1.0), pow(vignette(uv,0.18), 0.5)*0.5 + 0.5);
	fg *= mix(vec3(1.0), vec3(0.3, 0.4, 0.1), vignette(uv,1.0)*0.3);
	fg = mix(fg, texture2D(tex1, uv).rgb, fg.g*0.8);
	
	gl_FragColor = vec4(fg.rgb, 1.0);
}`,
		},
		{
			name: 'upscale',
			scale: 3,
			shader: `
// scale3x port
//
// Original license:
//
// Copyright (C) 2001, 2002, 2003, 2004 Andrea Mazzoleni
//
// This program is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation; either version 2 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
precision mediump float;
uniform sampler2D tex0;
uniform sampler2D tex1;
uniform float time;
uniform vec2 resolution;
const float size = 128.0;
const float px = 1.0/size;
const vec4 t1 = vec4(-px,  0, px,-px);
const vec4 t2 = vec4(-px,  0, px,  0);
const vec4 t3 = vec4(-px,  0, px, px);
bool eq(vec4 A, vec4 B){
	return A.rgb==B.rgb;
}
bool neq(vec4 A, vec4 B){
	return A.rgb!=B.rgb;
}
void main(){
	vec2 coord = gl_FragCoord.xy;
	vec2 uv = coord.xy / resolution.xy;
	// subpixel determination
	vec2 fp = floor(3.0 * fract(uv*size));
	/*
		A B C		E0 E1 E2
		D E F		E3 E4 E5
		G H I		E6 E7 E8
	*/
	// reading the texels
	vec4 A = texture2D(tex0, uv + t1.xw);
	vec4 B = texture2D(tex0, uv + t1.yw);
	vec4 C = texture2D(tex0, uv + t1.zw);
	vec4 D = texture2D(tex0, uv + t2.xw);
	vec4 E = texture2D(tex0, uv + t2.yw);
	vec4 F = texture2D(tex0, uv + t2.zw);
	vec4 G = texture2D(tex0, uv + t3.xw);
	vec4 H = texture2D(tex0, uv + t3.yw);
	vec4 I = texture2D(tex0, uv + t3.zw);
	// equality checks
	bool eqBD = eq(B,D), eqBF = eq(B,F), eqHD = eq(H,D), eqHF = eq(H,F), neqEA = neq(E,A), neqEC = neq(E,C), neqEG = neq(E,G), neqEI = neq(E,I); 
	// rules
	vec4 E0 = eqBD ? B : E;
	vec4 E1 = eqBD && neqEC || eqBF && neqEA ? B : E;
	vec4 E2 = eqBF ? B : E;
	vec4 E3 = eqBD && neqEG || eqHD && neqEA ? D : E;
	vec4 E5 = eqBF && neqEI || eqHF && neqEC ? F : E;
	vec4 E6 = eqHD ? H : E;
	vec4 E7 = eqHD && neqEI || eqHF && neqEG ? H : E;
	vec4 E8 = eqHF ? H : E;
	// general condition & subpixel output
	gl_FragColor = neq(B,H) && neq(D,F) ? (fp.y == 0. ? (fp.x == 0. ? E0 : fp.x == 1. ? E1 : E2) : (fp.y == 1. ? (fp.x == 0. ? E3 : fp.x == 1. ? E : E5) : (fp.x == 0. ? E6 : fp.x == 1. ? E7 : E8))) : E;
}`,
		},
		{
			name: 'neon',
			shader: `
precision mediump float;
uniform sampler2D tex0;
uniform vec2 resolution;
const float px = 1.0/128.0;
void main(void){
	vec2 uv = gl_FragCoord.xy / resolution;
	vec2 uvp = uv - mod(uv, px);
	vec4 p = texture2D(tex0, uv);
	vec3 a = texture2D(tex0, uvp + vec2(+0.0,+1.0)*px).rgb;
	vec3 b = texture2D(tex0, uvp + vec2(+0.0,-1.0)*px).rgb;
	vec3 c = texture2D(tex0, uvp + vec2(-1.0,+0.0)*px).rgb;
	vec3 d = texture2D(tex0, uvp + vec2(+1.0,+0.0)*px).rgb;
	float da = distance(p.rgb,a);
	float db = distance(p.rgb,b);
	float dc = distance(p.rgb,c);
	float dd = distance(p.rgb,d);
	gl_FragColor = vec4(a*da + b*db + c*dc + d*dd, p.a);
}`,
		},
		{
			name: 'trash',
			shader: `
precision mediump float;
uniform sampler2D tex0;
uniform sampler2D tex1;
uniform float time;
uniform vec2 resolution;
float rand(vec2 co){
	return fract(sin(dot(co.xy, vec2(12.9898,78.233))) * 43758.5453);
}
void main(){
	vec2 coord = gl_FragCoord.xy;
	vec2 uv = coord.xy / resolution.xy;
	vec4 col = texture2D(tex0,uv);
	vec3 bloom = vec3(0);
	const float r = 1.0/64.0;
	const float i = r/10.0;
	vec2 grain = vec2(1.0, 1.0);
	for (float x = 0.0; x <= r; x += i) {
		float f = x;
		vec2 diff = sin(uv / r * 2.0*3.14);
		vec3 c = texture2D(tex0, uv + diff*f).rgb;
		bloom += c;
	}
	bloom /= r / i;
	col.rgb = bloom;
	gl_FragColor = col;
}`,
		},
	],
};

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var flickguy__default = /*#__PURE__*/_interopDefaultLegacy(flickguy);

function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s);}}function i(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}function s(t){if(!s.context&&(s.context=t.getContext("webgl")||t.getContext("experimental-webgl"),!s.context))throw "No WebGL support";return s.context}var n=function(){function e(i,n){t(this,e),this.gl=new s,this.vertSource=i,this.fragSource=n,this.program=this.gl.createProgram();try{this.vertShader=this.compileShader(this.vertSource,this.gl.VERTEX_SHADER),this.fragShader=this.compileShader(this.fragSource,this.gl.FRAGMENT_SHADER);}catch(t){throw this.gl.deleteProgram(this.program),delete this.program,console.error("Couldn't create shader: ",t),t}this.gl.attachShader(this.program,this.vertShader),this.gl.deleteShader(this.vertShader),delete this.vertShader,this.gl.attachShader(this.program,this.fragShader),this.gl.deleteShader(this.fragShader),delete this.fragShader,this.gl.linkProgram(this.program);}return i(e,[{key:"compileShader",value:function(t,e){try{var i=this.gl.createShader(e);if(this.gl.shaderSource(i,t),this.gl.compileShader(i),!this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS))throw this.gl.getShaderInfoLog(i);return i}catch(i){throw console.error("Couldn't compile shader (".concat(e,"): "),t,i),i}}},{key:"useProgram",value:function(){this.gl.useProgram(this.program);}}]),e}(),o=function(){function e(i,n,o){t(this,e),this.gl=new s,this.source=i,this.texture=this.gl.createTexture(),this.bind(n),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!0),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,o?this.gl.NEAREST:this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,o?this.gl.NEAREST:this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.bindTexture(this.gl.TEXTURE_2D,null);}return i(e,[{key:"update",value:function(){this.bind(),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!0),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source),this.gl.bindTexture(this.gl.TEXTURE_2D,null);}},{key:"bind",value:function(t){var e=t||this.lastBoundId||0;this.gl.activeTexture(this.gl.TEXTURE0+e),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.lastBoundId=e;}}]),e}(),r="// default vertex shader\nattribute vec4 position;\nvoid main() {\n\tgl_Position = position;\n}",a="// default fragment shader\nprecision mediump float;\nuniform sampler2D tex0;\nuniform sampler2D tex1;\nuniform vec2 resolution;\n\nvoid main() {\n\tvec2 coord = gl_FragCoord.xy;\n\tvec2 uv = coord.xy / resolution.xy;\n\tgl_FragColor = texture2D(tex0, uv);\n}",h=function(){function e(i){var s=this,n=i.source,o=i.sources,h=void 0===o?["canvas","video","img"]:o,c=i.hideSource,l=void 0===c||c,u=i.background,d=void 0===u?"black":u,g=i.scaleMultiplier,m=void 0===g?1:g,v=i.scaleMode,f=void 0===v?e.SCALE_MODES.FIT:v,p=i.allowDownscaling,E=void 0!==p&&p,T=i.timestep,b=void 0===T?1/60*1e3:T,x=i.disableFeedbackTexture,y=void 0!==x&&x,w=i.disableMouseEvents,S=void 0!==w&&w,A=i.pixelate,L=void 0===A||A,_=i.autoInit,R=void 0===_||_,F=i.vertex,M=void 0===F?r:F,C=i.fragment,k=void 0===C?a:C;t(this,e),this.main=function(t){s.lastTime=s.curTime,s.curTime=(t||s.now())-s.startTime,s.deltaTime=s.curTime-s.lastTime,s.accumulator+=s.deltaTime,s.accumulator>s.timestep&&(s.render(),s.accumulator-=s.timestep),s.requestAnimationFrame(s.main);},this.sources=h,this.source=n||this.getSource(),this.hideSource=l,this.background=d,this.scaleMultiplier=m,this._scale=m,this.scaleMode=f,this.allowDownscaling=E,this.timestep=b,this.disableFeedbackTexture=!!y,this.disableMouseEvents=!!S,this.pixelate=L,this.vertex=M,this.fragment=k,R&&this.init();}return i(e,[{key:"getSource",value:function(){var t,e=[];for(t=0;t<this.sources.length;++t)e.push(Array.prototype.slice.call(document.getElementsByTagName(this.sources[t])));if(0===(e=Array.prototype.concat.apply([],e)).length)throw "Couldn't find an element from "+this.sources+" to use as a source";return e[0]}},{key:"insertStylesheet",value:function(){this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML="\nhtml,body,div#canvasContainer{\n\tpadding:0;\n\tmargin:0;\n\n\twidth:100%;\n\theight:100%;\n\n\ttop:0;\n\tleft:0;\n\tright:0;\n\tbottom:0;\n\n\tbackground: ".concat(this.background,";\n\tcolor:#FFFFFF;\n\n\toverflow:hidden;\n\n\t").concat(this.hideSource?"visibility: hidden!important;":"","\n}\n\ncanvas#outputCanvas{\n").concat(this.pixelate?"\n\timage-rendering: optimizeSpeed;\n\timage-rendering: -webkit-crisp-edges;\n\timage-rendering: -moz-crisp-edges;\n\timage-rendering: -o-crisp-edges; \n\timage-rendering: crisp-edges;\n\timage-rendering: -webkit-optimize-contrast;\n\timage-rendering: optimize-contrast;\n\timage-rendering: pixelated;\n\t-ms-interpolation-mode: nearest-neighbor;\n":"","\n\n\tposition:absolute;\n\tmargin:auto;\n\ttop:0;\n\tleft:-1000%;\n\tright:-1000%;\n\tbottom:0;\n\n\t\t\t").concat(this.hideSource?" visibility: visible!important;":"","\n\t\t\t").concat(this.scaleMode===this.constructor.SCALE_MODES.MULTIPLES?"\n\ttransition:\n\t\twidth  0.2s cubic-bezier(0.22, 1.84, 0.88, 0.77),\n\t\theight 0.2s cubic-bezier(0.22, 1.84, 0.88, 0.77);":"","\n};");}},{key:"init",value:function(){this.size={x:this.source.width||this.source.style.width,y:this.source.height||this.source.style.height},this.size.x*=this.scaleMultiplier||1,this.size.y*=this.scaleMultiplier||1,this.ratio=this.size.x/this.size.y,this.insertStylesheet(),this.canvasContainer=document.createElement("div"),this.canvasContainer.id="canvasContainer",this.allowDownscaling||(this.canvasContainer.style.minWidth=this.size.x+"px",this.canvasContainer.style.minHeight=this.size.y+"px"),this.canvas=document.createElement("canvas"),this.canvas.id="outputCanvas",this.canvas.width=this.size.x,this.canvas.height=this.size.y,this.canvas.style.width=this.canvas.style.height=0,this.canvasContainer.appendChild(this.canvas),document.body.appendChild(this.canvasContainer);try{this.gl=new s(this.canvas),this.render=this.renderGL;}catch(t){console.warn("Falling back to canvas rendering: ",t),this.render=this.renderCanvas,this.canvas2d=this.canvas.getContext("2d");}this.gl&&(this.vertices=new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),this.vertexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertices,this.gl.STATIC_DRAW),this.textureSource=new o(this.source,0,this.pixelate),this.disableFeedbackTexture||(this.textureFeedback=new o(this.canvas,1,this.pixelate)),this.setShader(this.vertex,this.fragment),this.gl.viewport(0,0,this.size.x,this.size.y),this.gl.clearColor(0,0,0,1)),window.onresize=this.onResize.bind(this),window.onresize(),this.disableMouseEvents||(this.canvas.onmousedown=this.onMouseEvent.bind(this),this.canvas.onmouseup=this.onMouseEvent.bind(this),this.canvas.onmousemove=this.onMouseEvent.bind(this),this.canvas.onmouseenter=this.onMouseEvent.bind(this),this.canvas.onmouseexit=this.onMouseEvent.bind(this),this.canvas.onmouseover=this.onMouseEvent.bind(this),this.canvas.onmouseout=this.onMouseEvent.bind(this),this.canvas.onmouseleave=this.onMouseEvent.bind(this),this.canvas.onclick=this.onMouseEvent.bind(this),this.canvas.ondblclick=this.onMouseEvent.bind(this),this.canvas.oncontextmenu=this.onMouseEvent.bind(this),this.canvas.ontouchstart=this.onTouchEvent.bind(this),this.canvas.ontouchend=this.onTouchEvent.bind(this),this.canvas.ontouchmove=this.onTouchEvent.bind(this),this.canvas.touchcancel=this.onTouchEvent.bind(this)),this.accumulator=0,"performance"in window?this.now=function(){return window.performance.now()}:this.now=function(){return window.Date.now()},"requestPostAnimationFrame"in window?this.requestAnimationFrame=function(t){window.requestPostAnimationFrame(t);}:"requestAnimationFrame"in window?this.requestAnimationFrame=function(t){window.requestAnimationFrame(t);}:this.requestAnimationFrame=function(t){setTimeout(t,-1);},this.startTime=this.now(),this.curTime=this.lastTime=0,this.main(this.curTime);}},{key:"setShader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;this.program&&this.gl.deleteProgram(this.program),this.shader=new n(t,e),this.shader.useProgram(),this.glLocations={position:this.gl.getAttribLocation(this.shader.program,"position"),tex0:this.gl.getUniformLocation(this.shader.program,"tex0"),tex1:this.gl.getUniformLocation(this.shader.program,"tex1"),time:this.gl.getUniformLocation(this.shader.program,"time"),resolution:this.gl.getUniformLocation(this.shader.program,"resolution")},this.gl.uniform1i(this.glLocations.tex0,0),this.gl.uniform1i(this.glLocations.tex1,1),this.gl.uniform2f(this.glLocations.resolution,this.size.x,this.size.y),this.gl.enableVertexAttribArray(this.glLocations.position),this.gl.vertexAttribPointer(this.glLocations.position,2,this.gl.FLOAT,!1,0,0);}},{key:"renderCanvas",value:function(){this.canvas2d.clearRect(0,0,this.size.x,this.size.y),this.canvas2d.drawImage(this.source,0,0);}},{key:"renderGL",value:function(){this.textureSource.update(),this.gl.uniform1f(this.glLocations.time,this.curTime),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.shader.useProgram(),this.textureSource.bind(),this.disableFeedbackTexture||this.textureFeedback.bind(),this.gl.drawArrays(this.gl.TRIANGLES,0,this.vertices.length/2),this.disableFeedbackTexture||this.textureFeedback.update();}},{key:"onResize",value:function(){var t,e,i=this.canvasContainer.offsetWidth,s=this.canvasContainer.offsetHeight,n=i/s,o=this.constructor.SCALE_MODES,r=1;switch(n<this.ratio?s=Math.round(i/this.ratio):i=Math.round(s*this.ratio),this.scaleMode){case o.MULTIPLES:for(r=1,t=this.size.x,e=this.size.y;t+this.size.x<=i||e+this.size.y<=s;)t+=this.size.x,e+=this.size.y,r+=1;break;case o.FIT:t=i,e=s,r=i/this.size.x;break;case o.COVER:i=this.canvasContainer.offsetWidth,s=this.canvasContainer.offsetHeight,n<this.ratio?i=Math.round(s*this.ratio):s=Math.round(i/this.ratio),t=i,e=s,r=i/this.size.x;break;case o.NONE:r=1,t=this.size.x,e=this.size.y;}this._scale=this.scaleMultiplier*r,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px";}},{key:"onMouseEvent",value:function(t){var e=this.canvas,i=this.source,s=e.offsetLeft+e.scrollLeft,n=e.offsetTop+e.scrollTop,o=i.offsetLeft+i.scrollLeft,r=i.offsetTop+i.scrollTop,a=1/this._scale,h=new MouseEvent(t.type,{screenX:(t.screenX-s)*a+o,screenY:(t.screenY-n)*a+r,clientX:(t.clientX-s)*a+o,clientY:(t.clientY-n)*a+r,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,button:t.button,buttons:t.buttons,relatedTarget:t.relatedTarget,region:t.region});i.dispatchEvent(h);}},{key:"onTouchEvent",value:function(t){var e=this.canvas,i=this.source,s=e.offsetLeft+e.scrollLeft,n=e.offsetTop+e.scrollTop,o=i.offsetLeft+i.scrollLeft,r=i.offsetTop+i.scrollTop,a=1/this._scale,h=function(t){return new Touch({identifier:t.identifier,force:t.force,rotationAngle:t.rotationAngle,target:t.target,radiusX:t.radiusX,radiusY:t.radiusY,pageX:(t.pageX-s)*a+o,pageY:(t.pageY-s)*a+o,screenX:(t.screenX-s)*a+o,screenY:(t.screenY-n)*a+r,clientX:(t.clientX-s)*a+o,clientY:(t.clientY-n)*a+r})},c=Array.from(t.touches).map(h),l=Array.from(t.targetTouches).map(h),u=Array.from(t.changedTouches).map(h),d=new t.constructor(t.type,{touches:c,targetTouches:l,changedTouches:u,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey});i.dispatchEvent(d);}}]),e}();h.SCALE_MODES=Object.freeze({FIT:"FIT",COVER:"COVER",MULTIPLES:"MULTIPLES",NONE:"NONE"});

/**
 * Helper used to replace code in a script tag based on a search regex.
 * To inject code without erasing original string, using capturing groups; e.g.
 * ```js
 * inject(/(some string)/,'injected before $1 injected after');
 * ```
 * @param searcher Regex to search and replace
 * @param replacer Replacer string/fn
 */
function inject(searcher, replacer) {
    // find the relevant script tag
    var scriptTags = document.getElementsByTagName('script');
    var scriptTag;
    var code = '';
    for (var i = 0; i < scriptTags.length; ++i) {
        scriptTag = scriptTags[i];
        if (!scriptTag.textContent)
            continue;
        var matchesSearch = scriptTag.textContent.search(searcher) !== -1;
        var isCurrentScript = scriptTag === document.currentScript;
        if (matchesSearch && !isCurrentScript) {
            code = scriptTag.textContent;
            break;
        }
    }
    // error-handling
    if (!code || !scriptTag) {
        throw new Error('Couldn\'t find "' + searcher + '" in script tags');
    }
    // modify the content
    code = code.replace(searcher, replacer);
    // replace the old script tag with a new one using our modified code
    var newScriptTag = document.createElement('script');
    newScriptTag.textContent = code;
    scriptTag.insertAdjacentElement('afterend', newScriptTag);
    scriptTag.remove();
}
/**
 * Helper for getting an array with unique elements
 * @param  {Array} array Original array
 * @return {Array}       Copy of array, excluding duplicates
 */
function unique(array) {
    return array.filter(function (item, idx) {
        return array.indexOf(item) === idx;
    });
}
// Ex: inject(/(names.sprite.set\( name, id \);)/, '$1console.dir(names)');
/** test */
function kitsyInject(searcher, replacer) {
    if (!kitsy.queuedInjectScripts.some(function (script) {
        return searcher.toString() === script.searcher.toString() && replacer === script.replacer;
    })) {
        kitsy.queuedInjectScripts.push({
            searcher: searcher,
            replacer: replacer,
        });
    }
    else {
        console.warn('Ignored duplicate inject');
    }
}
// Ex: before('load_game', function run() { alert('Loading!'); });
//     before('show_text', function run(text) { return text.toUpperCase(); });
//     before('show_text', function run(text, done) { done(text.toUpperCase()); });
function before$1(targetFuncName, beforeFn) {
    kitsy.queuedBeforeScripts[targetFuncName] = kitsy.queuedBeforeScripts[targetFuncName] || [];
    kitsy.queuedBeforeScripts[targetFuncName].push(beforeFn);
}
// Ex: after('load_game', function run() { alert('Loaded!'); });
function after$1(targetFuncName, afterFn) {
    kitsy.queuedAfterScripts[targetFuncName] = kitsy.queuedAfterScripts[targetFuncName] || [];
    kitsy.queuedAfterScripts[targetFuncName].push(afterFn);
}
function applyInjects() {
    kitsy.queuedInjectScripts.forEach(function (injectScript) {
        inject(injectScript.searcher, injectScript.replacer);
    });
}
function applyHooks(root) {
    var allHooks = unique(Object.keys(kitsy.queuedBeforeScripts).concat(Object.keys(kitsy.queuedAfterScripts)));
    allHooks.forEach(applyHook.bind(this, root || window));
}
function applyHook(root, functionName) {
    var functionNameSegments = functionName.split('.');
    var obj = root;
    while (functionNameSegments.length > 1) {
        obj = obj[functionNameSegments.shift()];
    }
    var lastSegment = functionNameSegments[0];
    var superFn = obj[lastSegment];
    var superFnLength = superFn ? superFn.length : 0;
    var functions = [];
    // start with befores
    functions = functions.concat(kitsy.queuedBeforeScripts[functionName] || []);
    // then original
    if (superFn) {
        functions.push(superFn);
    }
    // then afters
    functions = functions.concat(kitsy.queuedAfterScripts[functionName] || []);
    // overwrite original with one which will call each in order
    obj[lastSegment] = function () {
        var returnVal;
        var args = [].slice.call(arguments);
        var i = 0;
        function runBefore() {
            // All outta functions? Finish
            if (i === functions.length) {
                return returnVal;
            }
            // Update args if provided.
            if (arguments.length > 0) {
                args = [].slice.call(arguments);
            }
            if (functions[i].length > superFnLength) {
                // Assume funcs that accept more args than the original are
                // async and accept a callback as an additional argument.
                return functions[i++].apply(this, args.concat(runBefore.bind(this)));
            }
            // run synchronously
            returnVal = functions[i++].apply(this, args);
            if (returnVal && returnVal.length) {
                args = returnVal;
            }
            return runBefore.apply(this, args);
        }
        return runBefore.apply(this, arguments);
    };
}
/**
@file kitsy-script-toolkit
@summary Monkey-patching toolkit to make it easier and cleaner to run code before and after functions or to inject new code into script tags
@license WTFPL (do WTF you want)
@author Original by mildmojo; modified by Sean S. LeBlanc
*/
var kitsy = (window.kitsy = window.kitsy || {
    queuedInjectScripts: [],
    queuedBeforeScripts: {},
    queuedAfterScripts: {},
    inject: kitsyInject,
    before: before$1,
    after: after$1,
    /**
     * Applies all queued `inject` calls.
     *
     * An object that instantiates an class modified via injection will still refer to the original class,
     * so make sure to reinitialize globals that refer to injected scripts before calling `applyHooks`.
     */
    applyInjects,
    /** Apples all queued `before`/`after` calls. */
    applyHooks,
});

if (!kitsy.hooked) {
	kitsy.hooked = true;
	const startOriginal = flickguy__default['default'].start;
	flickguy__default['default'].start = () => {
		kitsy.applyHooks(flickguy__default['default']);
		startOriginal.call(flickguy__default['default']);
	};
}

/** @see kitsy.inject */
kitsy.inject;
/** @see kitsy.before */
var before = kitsy.before;
/** @see kitsy.after */
var after = kitsy.after;

/** Adds a radio group
 * @param {string} title user-facing title of group
 * @param {string} id element id of group
 * @param {{ label, title, value }[]} options array of radio options
 * @param {(newValue) => void} onChange called when value changes
 */
function addRadioGroup(hackOptions, title, id, options, onChange) {
	const container = document.createElement('div');
	container.dataset.editorOnly = true;
	container.style.display = 'flex';
	container.style.gap = '1em';
	const radioGroup = document.createElement('div');
	radioGroup.className = 'horizontal-capsule radio-select';
	radioGroup.id = id;
	radioGroup.title = title;
	radioGroup.style.flex = 'auto';
	radioGroup.style.overflowX = 'auto';

	options.forEach((option) => {
		const optionLabel = document.createElement('label');
		optionLabel.style.display = 'flex';
		optionLabel.style.alignItems = 'center';
		optionLabel.style.justifyContent = 'center';
		optionLabel.style.color = '#000';
		optionLabel.style.fontWeight = 'bold';
		const optionInput = document.createElement('input');
		optionInput.type = 'radio';
		optionInput.name = id;
		optionInput.value = option.value;
		optionInput.title = option.title;
		optionLabel.appendChild(optionInput);
		const optionName = document.createElement('span');
		optionName.textContent = option.label;
		optionName.style.position = 'relative';
		optionName.style.padding = '0.25em';
		optionLabel.appendChild(optionName);
		radioGroup.appendChild(optionLabel);
	});
	container.appendChild(radioGroup);

	const about = document.createElement('button');
	about.textContent = '?';
	about.title = title + ' - non-standard flickguy feature, click to view source';
	about.style.flex = 'none';
	about.style.padding = '0.5em';
	about.dataset.hiddenInPlayer = true;
	about.onclick = () => {
		window.open(hackOptions.source, '_blank');
	};
	container.appendChild(about);

	document.getElementById('tools').insertAdjacentElement('afterend', container);

	// init styles
	document.querySelectorAll(`#${id} span`).forEach((span) => {
		span.style.color = 'inherit';
	});
	document.querySelector(`#${id} label:first-of-type input`).checked = true;
	document.querySelector(`#${id} label:first-of-type span`).style.color = '#FFF';
	// hook up listener
	const onInputChange = (event) => {
		document.querySelectorAll(`#${id} span`).forEach((span) => {
			span.style.color = 'inherit';
		});
		event.currentTarget.nextSibling.style.color = '#FFF';
		onChange(event.currentTarget.value);
	};
	document.querySelectorAll(`#${id} input`).forEach((input) => {
		input.onchange = onInputChange;
	});
}





const initialFilter = hackOptions.filters[0];
const renderer = document.querySelector('#renderer');
const glazy = new h({
	background: 'transparent',
	scaleMode: 'none',
	allowDownscaling: true,
	disableFeedbackTexture: false,
	hideSource: false,
	scaleMultiplier: initialFilter.scale,
	source: renderer,
	fragment: initialFilter.shader,
	autoInit: false,
});
before('Editor.prototype.init', function () {
	glazy.init();
	glazy.canvas.dataset.editorOnly = true;
	document.querySelector('style:last-of-type').remove();

	const container = renderer.parentElement;
	container.insertBefore(glazy.canvas, renderer);
	container.appendChild(glazy.canvasContainer);
	glazy.canvasContainer.parentElement.removeChild(glazy.canvasContainer);
	glazy.canvas.style.width = '512px';
	glazy.canvas.style.maxWidth = '100%';
	glazy.canvas.style.height = 'auto';
	glazy.canvas.style.position = 'absolute';
	glazy.canvas.style.pointerEvents = 'none';

	addRadioGroup(
		hackOptions,
		'filters',
		'shader-select',
		hackOptions.filters.map((i, idx) => ({
			label: i.name,
			title: 'filter: ' + i.name,
			value: idx,
		})),
		function (idx) {
			const filter = hackOptions.filters[idx];
			glazy.scaleMultiplier = filter.scale || 1;
			glazy.canvas.width = glazy.size.x = 128 * glazy.scaleMultiplier;
			glazy.canvas.height = glazy.size.y = 128 * glazy.scaleMultiplier;
			glazy.setShader(undefined, filter.shader);
			glazy.gl.viewport(0, 0, glazy.size.x, glazy.size.y);
			glazy.onResize();
		},
	);
});
before('Editor.prototype.exportImage', function () {
	flickguy__default['default'].exportScaleOriginal = flickguy__default['default'].exportScale;
	flickguy__default['default'].exportScale = Math.ceil(flickguy__default['default'].exportScaleOriginal / glazy.scaleMultiplier);
	this.renderingOriginal = this.rendering;
	glazy.render();
	this.rendering = { canvas: document.getElementById('outputCanvas') };
});
after('Editor.prototype.exportImage', function () {
	this.rendering = this.renderingOriginal;
	flickguy__default['default'].exportScale = flickguy__default['default'].exportScaleOriginal;
});

exports.hackOptions = hackOptions;

Object.defineProperty(exports, '__esModule', { value: true });

}(this.hacks.filters = this.hacks.filters || {}, flickguy));
/**
ðŸ–Œ
@file pressure
@summary adds pressure sensitivity to paint tool
@license MIT
@version 1.2.2
@author Sean S. LeBlanc

@description
Adds a toggle to the brush selection that
enables/disables pressure sensitivity.

When pressure sensitivity is enabled,
brush selection will automatically update to match pressure.

If the input device doesn't support pressure, the toggle is disabled.

HOW TO USE:
Copy-paste this script into a script tag in your flickguy
*/
this.hacks = this.hacks || {};
(function (exports, flickguy) {
'use strict';
const hackOptions = {
	source: 'https://github.com/seleb/flickguy-hacks/blob/main/dist/pressure.js',
	// whether pressure sensitivity is enabled by default
	enabled: true,
};

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var flickguy__default = /*#__PURE__*/_interopDefaultLegacy(flickguy);

var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var pressure_min = createCommonjsModule(function (module, exports) {
// Pressure v2.2.0 | Created By Stuart Yamartino | MIT License | 2015 - 2020
!function(e,t){module.exports=t();}(commonjsGlobal,function(){function i(e){return (i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t);}function s(e,t){return (s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function t(s){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return !1}}();return function(){var e,t=r(s);return e=n?(e=r(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function r(e){return (r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}function u(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}var h={set:function(e,t,s){y(e,t,s);},config:function(e){p.set(e);},map:function(){return v.apply(null,arguments)}},c=function(){function n(e,t,s){o(this,n),this.routeEvents(e,t,s),this.preventSelect(e,s);}return u(n,[{key:"routeEvents",value:function(e,t,s){var n=p.get("only",s);this.adapter=!b||"mouse"!==n&&null!==n?!m||"pointer"!==n&&null!==n?!g||"touch"!==n&&null!==n?new l(e,t).bindUnsupportedEvent():new d(e,t,s).bindEvents():new f(e,t,s).bindEvents():new a(e,t,s).bindEvents();}},{key:"preventSelect",value:function(e,t){p.get("preventSelect",t)&&(e.style.webkitTouchCallout="none",e.style.webkitUserSelect="none",e.style.khtmlUserSelect="none",e.style.MozUserSelect="none",e.style.msUserSelect="none",e.style.userSelect="none");}}]),n}(),l=function(){function n(e,t,s){o(this,n),this.el=e,this.block=t,this.options=s,this.pressed=!1,this.deepPressed=!1,this.nativeSupport=!1,this.runningPolyfill=!1,this.runKey=Math.random();}return u(n,[{key:"setPressed",value:function(e){this.pressed=e;}},{key:"setDeepPressed",value:function(e){this.deepPressed=e;}},{key:"isPressed",value:function(){return this.pressed}},{key:"isDeepPressed",value:function(){return this.deepPressed}},{key:"add",value:function(e,t){this.el.addEventListener(e,t,!1);}},{key:"runClosure",value:function(e){e in this.block&&this.block[e].apply(this.el,Array.prototype.slice.call(arguments,1));}},{key:"fail",value:function(e,t){p.get("polyfill",this.options)?this.runKey===t&&this.runPolyfill(e):this.runClosure("unsupported",e);}},{key:"bindUnsupportedEvent",value:function(){var t=this;this.add(g?"touchstart":"mousedown",function(e){return t.runClosure("unsupported",e)});}},{key:"_startPress",value:function(e){!1===this.isPressed()&&(this.runningPolyfill=!1,this.setPressed(!0),this.runClosure("start",e));}},{key:"_startDeepPress",value:function(e){this.isPressed()&&!1===this.isDeepPressed()&&(this.setDeepPressed(!0),this.runClosure("startDeepPress",e));}},{key:"_changePress",value:function(e,t){this.nativeSupport=!0,this.runClosure("change",e,t);}},{key:"_endDeepPress",value:function(){this.isPressed()&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress"));}},{key:"_endPress",value:function(){!1===this.runningPolyfill?(this.isPressed()&&(this._endDeepPress(),this.setPressed(!1),this.runClosure("end")),this.runKey=Math.random(),this.nativeSupport=!1):this.setPressed(!1);}},{key:"deepPress",value:function(e,t){.5<=e?this._startDeepPress(t):this._endDeepPress();}},{key:"runPolyfill",value:function(e){this.increment=0===p.get("polyfillSpeedUp",this.options)?1:10/p.get("polyfillSpeedUp",this.options),this.decrement=0===p.get("polyfillSpeedDown",this.options)?1:10/p.get("polyfillSpeedDown",this.options),this.setPressed(!0),this.runClosure("start",e),!1===this.runningPolyfill&&this.loopPolyfillForce(0,e);}},{key:"loopPolyfillForce",value:function(e,t){!1===this.nativeSupport&&(this.isPressed()?(this.runningPolyfill=!0,e=1<e+this.increment?1:e+this.increment,this.runClosure("change",e,t),this.deepPress(e,t),setTimeout(this.loopPolyfillForce.bind(this,e,t),10)):((e=e-this.decrement<0?0:e-this.decrement)<.5&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress")),0===e?(this.runningPolyfill=!1,this.setPressed(!0),this._endPress()):(this.runClosure("change",e,t),this.deepPress(e,t),setTimeout(this.loopPolyfillForce.bind(this,e,t),10))));}}]),n}(),a=function(){e(i,l);var n=t(i);function i(e,t,s){return o(this,i),n.call(this,e,t,s)}return u(i,[{key:"bindEvents",value:function(){this.add("webkitmouseforcewillbegin",this._startPress.bind(this)),this.add("mousedown",this.support.bind(this)),this.add("webkitmouseforcechanged",this.change.bind(this)),this.add("webkitmouseforcedown",this._startDeepPress.bind(this)),this.add("webkitmouseforceup",this._endDeepPress.bind(this)),this.add("mouseleave",this._endPress.bind(this)),this.add("mouseup",this._endPress.bind(this));}},{key:"support",value:function(e){!1===this.isPressed()&&this.fail(e,this.runKey);}},{key:"change",value:function(e){this.isPressed()&&0<e.webkitForce&&this._changePress(this.normalizeForce(e.webkitForce),e);}},{key:"normalizeForce",value:function(e){return this.reachOne(v(e,1,3,0,1))}},{key:"reachOne",value:function(e){return .995<e?1:e}}]),i}(),d=function(){e(i,l);var n=t(i);function i(e,t,s){return o(this,i),n.call(this,e,t,s)}return u(i,[{key:"bindEvents",value:function(){k?(this.add("touchforcechange",this.start.bind(this)),this.add("touchstart",this.support.bind(this,0))):this.add("touchstart",this.startLegacy.bind(this)),this.add("touchend",this._endPress.bind(this));}},{key:"start",value:function(e){0<e.touches.length&&(this._startPress(e),this.touch=this.selectTouch(e),this.touch&&this._changePress(this.touch.force,e));}},{key:"support",value:function(e,t,s){s=2<arguments.length&&void 0!==s?s:this.runKey;!1===this.isPressed()&&(e<=6?(e++,setTimeout(this.support.bind(this,e,t,s),10)):this.fail(t,s));}},{key:"startLegacy",value:function(e){this.initialForce=e.touches[0].force,this.supportLegacy(0,e,this.runKey,this.initialForce);}},{key:"supportLegacy",value:function(e,t,s,n){n!==this.initialForce?(this._startPress(t),this.loopForce(t)):e<=6?(e++,setTimeout(this.supportLegacy.bind(this,e,t,s,n),10)):this.fail(t,s);}},{key:"loopForce",value:function(e){this.isPressed()&&(this.touch=this.selectTouch(e),setTimeout(this.loopForce.bind(this,e),10),this._changePress(this.touch.force,e));}},{key:"selectTouch",value:function(e){if(1===e.touches.length)return this.returnTouch(e.touches[0],e);for(var t=0;t<e.touches.length;t++)if(e.touches[t].target===this.el||this.el.contains(e.touches[t].target))return this.returnTouch(e.touches[t],e)}},{key:"returnTouch",value:function(e,t){return this.deepPress(e.force,t),e}}]),i}(),f=function(){e(i,l);var n=t(i);function i(e,t,s){return o(this,i),n.call(this,e,t,s)}return u(i,[{key:"bindEvents",value:function(){this.add("pointerdown",this.support.bind(this)),this.add("pointermove",this.change.bind(this)),this.add("pointerup",this._endPress.bind(this)),this.add("pointerleave",this._endPress.bind(this));}},{key:"support",value:function(e){!1===this.isPressed()&&(0===e.pressure||.5===e.pressure||1<e.pressure?this.fail(e,this.runKey):(this._startPress(e),this._changePress(e.pressure,e)));}},{key:"change",value:function(e){this.isPressed()&&0<e.pressure&&.5!==e.pressure&&(this._changePress(e.pressure,e),this.deepPress(e.pressure,e));}}]),i}(),p={polyfill:!0,polyfillSpeedUp:1e3,polyfillSpeedDown:0,preventSelect:!0,only:null,get:function(e,t){return (t.hasOwnProperty(e)?t:this)[e]},set:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&"get"!=t&&"set"!=t&&(this[t]=e[t]);}},y=function(e,t,s){var n=2<arguments.length&&void 0!==s?s:{};if("string"==typeof e||e instanceof String)for(var i=document.querySelectorAll(e),r=0;r<i.length;r++)new c(i[r],t,n);else if(P(e))new c(e,t,n);else for(r=0;r<e.length;r++)new c(e[r],t,n);},P=function(e){return "object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?e instanceof HTMLElement:e&&"object"===i(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},v=function(e,t,s,n,i){return (e-t)*(i-n)/(s-t)+n},b=!1,g=!1,m=!1,w=!1,k=!1;if("undefined"!=typeof window){if("undefined"!=typeof Touch)try{(Touch.prototype.hasOwnProperty("force")||"force"in new Touch)&&(w=!0);}catch(e){}g="ontouchstart"in window.document&&w,b="onmousemove"in window.document&&"onwebkitmouseforcechanged"in window.document&&!g,m="onpointermove"in window.document,k="ontouchforcechange"in window.document;}return h});
});

/**
 * Helper used to replace code in a script tag based on a search regex.
 * To inject code without erasing original string, using capturing groups; e.g.
 * ```js
 * inject(/(some string)/,'injected before $1 injected after');
 * ```
 * @param searcher Regex to search and replace
 * @param replacer Replacer string/fn
 */
function inject(searcher, replacer) {
    // find the relevant script tag
    var scriptTags = document.getElementsByTagName('script');
    var scriptTag;
    var code = '';
    for (var i = 0; i < scriptTags.length; ++i) {
        scriptTag = scriptTags[i];
        if (!scriptTag.textContent)
            continue;
        var matchesSearch = scriptTag.textContent.search(searcher) !== -1;
        var isCurrentScript = scriptTag === document.currentScript;
        if (matchesSearch && !isCurrentScript) {
            code = scriptTag.textContent;
            break;
        }
    }
    // error-handling
    if (!code || !scriptTag) {
        throw new Error('Couldn\'t find "' + searcher + '" in script tags');
    }
    // modify the content
    code = code.replace(searcher, replacer);
    // replace the old script tag with a new one using our modified code
    var newScriptTag = document.createElement('script');
    newScriptTag.textContent = code;
    scriptTag.insertAdjacentElement('afterend', newScriptTag);
    scriptTag.remove();
}
/**
 * Helper for getting an array with unique elements
 * @param  {Array} array Original array
 * @return {Array}       Copy of array, excluding duplicates
 */
function unique(array) {
    return array.filter(function (item, idx) {
        return array.indexOf(item) === idx;
    });
}
// Ex: inject(/(names.sprite.set\( name, id \);)/, '$1console.dir(names)');
/** test */
function kitsyInject(searcher, replacer) {
    if (!kitsy.queuedInjectScripts.some(function (script) {
        return searcher.toString() === script.searcher.toString() && replacer === script.replacer;
    })) {
        kitsy.queuedInjectScripts.push({
            searcher: searcher,
            replacer: replacer,
        });
    }
    else {
        console.warn('Ignored duplicate inject');
    }
}
// Ex: before('load_game', function run() { alert('Loading!'); });
//     before('show_text', function run(text) { return text.toUpperCase(); });
//     before('show_text', function run(text, done) { done(text.toUpperCase()); });
function before$1(targetFuncName, beforeFn) {
    kitsy.queuedBeforeScripts[targetFuncName] = kitsy.queuedBeforeScripts[targetFuncName] || [];
    kitsy.queuedBeforeScripts[targetFuncName].push(beforeFn);
}
// Ex: after('load_game', function run() { alert('Loaded!'); });
function after(targetFuncName, afterFn) {
    kitsy.queuedAfterScripts[targetFuncName] = kitsy.queuedAfterScripts[targetFuncName] || [];
    kitsy.queuedAfterScripts[targetFuncName].push(afterFn);
}
function applyInjects() {
    kitsy.queuedInjectScripts.forEach(function (injectScript) {
        inject(injectScript.searcher, injectScript.replacer);
    });
}
function applyHooks(root) {
    var allHooks = unique(Object.keys(kitsy.queuedBeforeScripts).concat(Object.keys(kitsy.queuedAfterScripts)));
    allHooks.forEach(applyHook.bind(this, root || window));
}
function applyHook(root, functionName) {
    var functionNameSegments = functionName.split('.');
    var obj = root;
    while (functionNameSegments.length > 1) {
        obj = obj[functionNameSegments.shift()];
    }
    var lastSegment = functionNameSegments[0];
    var superFn = obj[lastSegment];
    var superFnLength = superFn ? superFn.length : 0;
    var functions = [];
    // start with befores
    functions = functions.concat(kitsy.queuedBeforeScripts[functionName] || []);
    // then original
    if (superFn) {
        functions.push(superFn);
    }
    // then afters
    functions = functions.concat(kitsy.queuedAfterScripts[functionName] || []);
    // overwrite original with one which will call each in order
    obj[lastSegment] = function () {
        var returnVal;
        var args = [].slice.call(arguments);
        var i = 0;
        function runBefore() {
            // All outta functions? Finish
            if (i === functions.length) {
                return returnVal;
            }
            // Update args if provided.
            if (arguments.length > 0) {
                args = [].slice.call(arguments);
            }
            if (functions[i].length > superFnLength) {
                // Assume funcs that accept more args than the original are
                // async and accept a callback as an additional argument.
                return functions[i++].apply(this, args.concat(runBefore.bind(this)));
            }
            // run synchronously
            returnVal = functions[i++].apply(this, args);
            if (returnVal && returnVal.length) {
                args = returnVal;
            }
            return runBefore.apply(this, args);
        }
        return runBefore.apply(this, arguments);
    };
}
/**
@file kitsy-script-toolkit
@summary Monkey-patching toolkit to make it easier and cleaner to run code before and after functions or to inject new code into script tags
@license WTFPL (do WTF you want)
@author Original by mildmojo; modified by Sean S. LeBlanc
*/
var kitsy = (window.kitsy = window.kitsy || {
    queuedInjectScripts: [],
    queuedBeforeScripts: {},
    queuedAfterScripts: {},
    inject: kitsyInject,
    before: before$1,
    after,
    /**
     * Applies all queued `inject` calls.
     *
     * An object that instantiates an class modified via injection will still refer to the original class,
     * so make sure to reinitialize globals that refer to injected scripts before calling `applyHooks`.
     */
    applyInjects,
    /** Apples all queued `before`/`after` calls. */
    applyHooks,
});

if (!kitsy.hooked) {
	kitsy.hooked = true;
	const startOriginal = flickguy__default['default'].start;
	flickguy__default['default'].start = () => {
		kitsy.applyHooks(flickguy__default['default']);
		startOriginal.call(flickguy__default['default']);
	};
}

/** @see kitsy.inject */
kitsy.inject;
/** @see kitsy.before */
var before = kitsy.before;
/** @see kitsy.after */
kitsy.after;





before('Editor.prototype.init', function () {
	const optionLabel = document.createElement('label');
	optionLabel.style.display = 'flex';
	optionLabel.style.alignItems = 'center';
	optionLabel.style.justifyContent = 'center';
	optionLabel.style.color = '#000';
	optionLabel.style.fontWeight = 'bold';
	optionLabel.title = 'pressure sensitivity';
	optionLabel.dataset.editorOnly = true;
	const optionInput = document.createElement('input');
	optionInput.type = 'checkbox';
	optionInput.id = 'pressure';
	optionInput.name = 'pressure';
	optionInput.value = 'pressure';
	optionInput.style.appearance = 'none';
	optionInput.style.mozAppearance = 'none';
	optionInput.style.webkitAppearance = 'none';
	optionInput.style.margin = '0';
	optionInput.style.borderRadius = 'inherit';
	optionInput.style.position = 'absolute';
	optionInput.style.width = '100%';
	optionInput.style.height = '100%';
	optionLabel.appendChild(optionInput);
	const optionIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
	optionIcon.setAttributeNS(null, 'width', 16);
	optionIcon.setAttributeNS(null, 'height', 16);
	optionIcon.setAttributeNS(null, 'fill', 'currentColor');
	optionIcon.setAttributeNS(null, 'viewBox', '0 0 16 16');
	optionIcon.innerHTML = '<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M8 6a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM4 8a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/><path d="M9 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>';
	optionLabel.appendChild(optionIcon);

	document.getElementById('brush-select').appendChild(optionLabel);

	const pressureInput = optionInput;
	pressureInput.onchange = () => {
		if (pressureInput.checked) {
			pressureInput.style.background = 'blue';
			pressureInput.nextSibling.style.color = '#FFF';
		} else {
			pressureInput.style.background = 'none';
			pressureInput.nextSibling.style.color = 'inherit';
		}
	};
	pressureInput.checked = hackOptions.enabled;
	pressureInput.onchange();
	const brushes = this.brushSelect.inputs;
	const toolSelect = this.toolSelect;
	pressure_min.set(
		'#renderer',
		{
			change: function (force) {
				// re-enable (user may be switching between devices)
				if (pressureInput.disabled) {
					pressureInput.disabled = false;
					pressureInput.parentElement.title = 'pressure sensitivity';
					pressureInput.parentElement.style.opacity = 1;
				}

				// if painting + pressure enabled
				if (toolSelect.selectedIndex === 0 && pressureInput.checked) {
					// change brush selection based on pressure
					const idx = Math.min(Math.floor(force * brushes.length), brushes.length - 1);
					brushes[idx].checked = true;
				}
			},
			unsupported: function () {
				// disable the pressure input if you can't use it
				pressureInput.disabled = true;
				pressureInput.parentElement.title = 'device does not support pressure sensitivity';
				pressureInput.parentElement.style.opacity = 0.4;
			},
		},
		{
			// pressurejs's polyfill behaviour is a bit weird, especially for drawing
			polyfill: false,
		},
	);
});

exports.hackOptions = hackOptions;

Object.defineProperty(exports, '__esModule', { value: true });

}(this.hacks.pressure = this.hacks.pressure || {}, flickguy));
</script></body>
</html>